window.__require=function t(e,n,a){function o(i,s){if(!n[i]){if(!e[i]){var c=i.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){return o(e[i][1][t]||t)},u,u.exports,t,e,n,a)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<a.length;i++)o(a[i]);return o}({AIMonsterAttack:[function(t,e,n){"use strict";cc._RF.push(e,"ba9ac9FKPpElaqO88SJQQAW","AIMonsterAttack");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/bullet"),i=t("../GameGroup/Monster"),s=t("../record/GameSys"),c=t("../UI/FightPanel"),l=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.time=0,a.state=0,a.isover=!1,a.isover=!1,a.curMonster=e.getComponent(i.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.state=0,this.isover=!1},e.prototype.DoAttack=function(){var t=this;if(this.curMonster.target.isDie()&&this.curAiBase.curStateId!=i.default.STATE_SKILL)return this.curMonster.ChangeStateToMove(),this.state=0,void(this.time=0);if(this.state=1,"\u8fd1\u6218"==this.curMonster.role.atkType){var e=.1/s.default.speed,n=this.curMonster.node.position.sub(this.curMonster.target.node.position);cc.tween(this.curMonster.Content).call(function(){2==t.stateId||t.curMonster.node.stopAllActions()}).by(e,{position:cc.v3(-n.x/5,-n.y/5,0)}).call(function(){2==t.stateId?(t.time=0,t.Attack()):t.curMonster.node.stopAllActions()}).by(e,{position:cc.v3(n.x/5,n.y/5,0)}).call(function(){t.isover&&(t.curMonster.role.hp>0?t.curMonster.ChangeStateToMove():t.curMonster.ChangeState(i.default.STATE_DIE),t.state=0,t.time=0)}).start()}else e=.1/s.default.speed,n=this.curMonster.node.position.sub(this.curMonster.target.node.position),cc.tween(this.curMonster.Content).call(function(){2==t.stateId||t.curMonster.node.stopAllActions()}).by(e,{position:cc.v3(-n.x/8,-n.y/8,0)}).call(function(){if(2==t.stateId){t.time=0;var e=c.default.instance.Createbuttet(),n=t.curMonster.node.convertToWorldSpaceAR(t.curMonster.Content.getPosition()),a=t.curMonster.node.parent.convertToNodeSpaceAR(n);e.setPosition(a),e.getComponent(r.default).init(0,99,t.curMonster,t.curMonster.target,function(){t.Attack(),t.isover&&(t.curMonster.role.hp>0?t.curMonster.ChangeStateToMove():t.curMonster.ChangeState(i.default.STATE_DIE),t.state=0,t.time=0)})}else t.curMonster.node.stopAllActions()}).by(e,{position:cc.v3(n.x/8,n.y/8,0)}).call(function(){t.isover&&(t.curMonster.role.hp>0?t.curMonster.ChangeStateToMove():t.curMonster.ChangeState(i.default.STATE_DIE),t.state=0,t.time=0)}).start()},e.prototype.Attack=function(){if(this.curMonster.target){var t=0;this.curMonster.Upatk>1?(t=this.curMonster.GetPracticalAtk()*this.curMonster.Upatk,this.curMonster.Upatk=1):t=this.curMonster.GetPracticalAtk();var e=!1;Math.floor(100*Math.random())<this.curMonster.role.crit&&(t*=2,e=!0),this.curMonster.suck>0&&(this.curMonster.Cure(t*this.curMonster.suck),this.curMonster.suck=0),this.curMonster.target.TheStrike(t,this.curMonster.role.hit,e,"\u8fd1\u6218"==this.curMonster.role.atkType)?this.isover=!0:this.curMonster.role.hp>0?this.initAtk():this.curMonster.ChangeState(i.default.STATE_DIE)}},e.prototype.initAtk=function(){this.state=0;var t=this.curMonster.node.getPosition(),e=this.curMonster.target.node.parent.convertToWorldSpaceAR(this.curMonster.target.node.getPosition()),n=this.curMonster.node.parent.convertToNodeSpaceAR(e);t.sub(n).mag()>this.curMonster.role.atkRrage&&this.curMonster.ChangeStateToMove()},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){t.prototype.Update.call(this,e),this.time<this.curMonster.role.atkSpeed&&0==this.state&&(this.time+=e*s.default.speed),this.time>=this.curMonster.role.atkSpeed&&0==this.state&&this.DoAttack()},e}(t("./AiState").default);n.default=l,cc._RF.pop()},{"../GameGroup/Monster":"Monster","../GameGroup/bullet":"bullet","../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys","./AiState":"AiState"}],AIMonsterDie:[function(t,e,n){"use strict";cc._RF.push(e,"e97caCUZxdFBJq7wIDBvdt7","AIMonsterDie");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Monster"),i=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curMonster=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.curMonster.Content.stopAllActions(),this.curMonster.Content.setPosition(cc.v2(0,0))},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.start=function(){},e}(t("./AiState").default);n.default=i,cc._RF.pop()},{"../GameGroup/Monster":"Monster","./AiState":"AiState"}],AIMonsterIdle:[function(t,e,n){"use strict";cc._RF.push(e,"8bfc7YFUxVMVY56OjbMTrR8","AIMonsterIdle");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Monster"),i=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curMonster=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){var e=this;t.prototype.EnterState.call(this),cc.tween(this.curMonster.node).by(.3,{x:-100}).call(function(){e.curMonster.StartFight(),e.curMonster.ChangeState(r.default.STATE_MOVE)}).start()},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(){},e}(t("./AiState").default);n.default=i,cc._RF.pop()},{"../GameGroup/Monster":"Monster","./AiState":"AiState"}],AIMonsterMove:[function(t,e,n){"use strict";cc._RF.push(e,"57679q9e+ZLeZTGH68qEPI2","AIMonsterMove");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Monster"),i=t("../record/GameSys"),s=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curMonster=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.curMonster.target=null,this.GetTarget()},e.prototype.GetTarget=function(){this.curMonster.GetTeamer()},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.ToFight=function(){this.curAiBase.curStateId!=r.default.STATE_DIE&&this.curAiBase.curStateId!=r.default.STATE_IDLE&&this.curAiBase.ChangeState(r.default.STATE_ATTACK)},e.prototype.Update=function(e){if(t.prototype.Update.call(this,e),this.curMonster.target)if(this.curMonster.target.isDie())this.GetTarget();else{var n=this.curMonster.node.getPosition(),a=this.curMonster.target.node.parent.convertToWorldSpaceAR(this.curMonster.target.node.getPosition()),o=this.curMonster.node.parent.convertToNodeSpaceAR(a),r=n.sub(o).mag(),s=n.sub(o).signAngle(cc.v2(1,0)),c=s/Math.PI*180;this.curMonster.cursor.angle=-c;var l=cc.v2(-Math.cos(s),Math.sin(s));l.normalizeSelf(),this.curMonster.role.atkType,r<=this.curMonster.role.atkRrage?this.ToFight():(this.curMonster.node.x+=e*l.x*i.default.speed*this.curMonster.moveSpeed,this.curMonster.node.y+=e*l.y*i.default.speed*this.curMonster.moveSpeed)}else this.GetTarget()},e}(t("./AiState").default);n.default=s,cc._RF.pop()},{"../GameGroup/Monster":"Monster","../record/GameSys":"GameSys","./AiState":"AiState"}],AIMonsterSkill:[function(t,e,n){"use strict";cc._RF.push(e,"6c9badrA5ZAg76TJdBBGtp5","AIMonsterSkill");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Monster"),i=t("../record/GameSys"),s=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.time=0,a.maxtime=0,a.curMonster=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.time=1==this.curMonster.skilltype?this.curMonster.skill.castTime:this.curMonster.fatality.castTime,this.maxtime=this.time,this.curMonster.do.active=!0,this.curMonster.dopro.fillRange=0,1==this.curMonster.skilltype&&(this.curMonster.doSkillSp.node.active=!0,this.curMonster.doSkillSp.setAnimation(0,"eff_loading",!0))},e.prototype.ExitState=function(){t.prototype.ExitState.call(this),1==this.curMonster.skilltype?this.curMonster.skillcd=0:this.curMonster.fatalitycd=0,this.curMonster.release=!1,this.curMonster.do.active=!1},e.prototype.Update=function(e){var n=this;t.prototype.Update.call(this,e),this.time>0&&(this.time-=e*i.default.speed,this.curMonster.dopro.fillRange=this.maxtime-this.time/this.maxtime,this.time<=0&&(1==this.curMonster.skilltype&&(this.curMonster.doSkillSp.setAnimation(0,"eff_Sskill_eff",!0),this.curMonster.doSkillSp.setCompleteListener(function(){"eff_Sskill_eff"==n.curMonster.doSkillSp.animation&&(n.curMonster.doSkillSp.node.active=!1)})),this.curMonster.DoSkill()))},e}(t("./AiState").default);n.default=s,cc._RF.pop()},{"../GameGroup/Monster":"Monster","../record/GameSys":"GameSys","./AiState":"AiState"}],AIMonsterVertigo:[function(t,e,n){"use strict";cc._RF.push(e,"3e8c30RDLVEzpav1UtgJ2iD","AIMonsterVertigo");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Monster"),i=t("../i18n/i18nMgr"),s=t("../record/GameSys"),c=t("../UI/FightPanel"),l=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.time=0,a.curMonster=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.time=0,c.default.instance.setText(9,i.i18nMgr.getLabel("freez"),this.curMonster.node)},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){t.prototype.Update.call(this,e),this.time+=e*s.default.speed,this.time>=this.curMonster.vertigo&&this.curMonster.ChangeStateToMove()},e}(t("./AiState").default);n.default=l,cc._RF.pop()},{"../GameGroup/Monster":"Monster","../UI/FightPanel":"FightPanel","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./AiState":"AiState"}],AIMonsterWait:[function(t,e,n){"use strict";cc._RF.push(e,"6d1d0ITA5tISpHrpyTn+9ce","AIMonsterWait");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Monster"),i=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curMonster=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this)},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.start=function(){},e}(t("./AiState").default);n.default=i,cc._RF.pop()},{"../GameGroup/Monster":"Monster","./AiState":"AiState"}],AITeamerAttack:[function(t,e,n){"use strict";cc._RF.push(e,"0735cQiXn5A8IOOjJQpauce","AITeamerAttack");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/bullet"),i=t("../GameGroup/Teamer"),s=t("../record/GameSys"),c=t("../UI/FightPanel"),l=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.time=0,a.state=0,a.isover=!1,a.curTeamer=e.getComponent(i.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.isover=!1,this.state=0,this.curTeamer.index},e.prototype.DoAttack=function(){var t=this;if(this.curTeamer.target.isDie()||!this.curTeamer.node)return this.curTeamer.ChangeStateToMove(),this.state=0,void(this.time=0);if(this.state=1,"\u8fd1\u6218"==this.curTeamer.role.type){var e=.1/s.default.speed,n=this.curTeamer.node.position.sub(this.curTeamer.target.node.position);cc.tween(this.curTeamer.Content).by(e,{position:cc.v3(-n.x/5,-n.y/5,0)}).call(function(){t.time=0,t.Attack()}).by(e,{position:cc.v3(n.x/5,n.y/5,0)}).call(function(){}).start()}else e=.1/s.default.speed,n=this.curTeamer.node.position.sub(this.curTeamer.target.node.position),cc.tween(this.curTeamer.Content).call(function(){2==t.stateId||t.curTeamer.node.stopAllActions()}).by(e,{position:cc.v3(-n.x/8,-n.y/8,0)}).call(function(){if(2==t.stateId){t.time=0;var e=c.default.instance.Createbuttet(),n=t.curTeamer.node.convertToWorldSpaceAR(t.curTeamer.Content.getPosition()),a=t.curTeamer.node.parent.convertToNodeSpaceAR(n);e.setPosition(a),e.getComponent(r.default).init(0,t.curTeamer.index,t.curTeamer,t.curTeamer.target,function(){t.Attack()})}else t.curTeamer.node.stopAllActions()}).by(e,{position:cc.v3(n.x/8,n.y/8,0)}).call(function(){}).start()},e.prototype.Attack=function(){if(this.curTeamer.target){var t=0;this.curTeamer.Upatk>1?(t=this.curTeamer.GetPracticalAtk()*this.curTeamer.Upatk,this.curTeamer.Upatk=1):t=this.curTeamer.GetPracticalAtk();var e=!1;Math.floor(100*Math.random())<this.curTeamer.role.crit+this.curTeamer.crit.value&&(t*=2,e=!0),this.curTeamer.suck>0&&(this.curTeamer.Cure(t*this.curTeamer.suck),this.curTeamer.suck=0),1==this.curTeamer.index&&this.curTeamer.Cure(t*this.curTeamer.role.passivity),2==this.curTeamer.discipleIndex&&(e?this.curTeamer.crit.value=0:this.curTeamer.crit.value+=10),this.curTeamer.target.TheStrike(t,this.curTeamer.role.hit,e,"\u8fd1\u6218"==this.curTeamer.role.type)?this.isover=!0:this.initAtk()}},e.prototype.initAtk=function(){this.state=0;var t=this.curTeamer.node.getPosition(),e=this.curTeamer.target.node.parent.convertToWorldSpaceAR(this.curTeamer.target.node.getPosition()),n=this.curTeamer.node.parent.convertToNodeSpaceAR(e);(t.sub(n).mag()>200||this.curAiBase.curStateId!=i.default.STATE_SKILL)&&this.curTeamer.ChangeStateToMove()},e.prototype.DoSkill=function(){this.curTeamer.DoSkill(),this.state=0,this.time=0},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){if(t.prototype.Update.call(this,e),this.curTeamer.target.isDie()&&this.curAiBase.curStateId!=i.default.STATE_SKILL)return this.curTeamer.ChangeStateToMove(),this.state=0,void(this.time=0);this.time<this.curTeamer.role.atkSpeed&&(this.time+=e*s.default.speed),this.time>=this.curTeamer.role.atkSpeed&&0==this.state&&this.DoAttack()},e}(t("./AiState").default);n.default=l,cc._RF.pop()},{"../GameGroup/Teamer":"Teamer","../GameGroup/bullet":"bullet","../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys","./AiState":"AiState"}],AITeamerDie:[function(t,e,n){"use strict";cc._RF.push(e,"936daLBkPhKIr1OnH361EOJ","AITeamerDie");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Teamer"),i=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curTeamer=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.curTeamer.node.stopAllActions()},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){t.prototype.Update.call(this,e)},e}(t("./AiState").default);n.default=i,cc._RF.pop()},{"../GameGroup/Teamer":"Teamer","./AiState":"AiState"}],AITeamerIdle:[function(t,e,n){"use strict";cc._RF.push(e,"1dbc6WdZMlAq7wK+jHAiFca","AITeamerIdle");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Teamer"),i=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curTeamer=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.curTeamer.ToStartpos()},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){t.prototype.Update.call(this,e)},e}(t("./AiState").default);n.default=i,cc._RF.pop()},{"../GameGroup/Teamer":"Teamer","./AiState":"AiState"}],AITeamerMove:[function(t,e,n){"use strict";cc._RF.push(e,"27078Quk8FAe57PtzvHiOAA","AITeamerMove");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Teamer"),i=t("../record/GameSys"),s=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curTeamer=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.GetTarget()},e.prototype.GetTarget=function(){this.curTeamer.GetTarget()},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.ToFight=function(){this.curAiBase.curStateId!=r.default.STATE_DIE&&this.curAiBase.curStateId!=r.default.STATE_IDLE&&this.curAiBase.ChangeState(r.default.STATE_ATTACK)},e.prototype.Update=function(e){if(t.prototype.Update.call(this,e),this.curTeamer.target)if(this.curTeamer.isDie()&&this.curAiBase.ChangeState(r.default.STATE_DIE),this.curTeamer.target.isDie())this.GetTarget();else{var n,a=this.curTeamer.node.getPosition(),o=this.curTeamer.target.node.parent.convertToWorldSpaceAR(this.curTeamer.target.node.getPosition()),s=this.curTeamer.node.parent.convertToNodeSpaceAR(o),c=a.sub(s).mag(),l=a.sub(s).signAngle(cc.v2(1,0)),u=l/Math.PI*180+180;this.curTeamer.cursor.angle=-u,"\u8fd1\u6218"==this.curTeamer.role.type?c<=200?this.ToFight():((n=cc.v2(-Math.cos(l),Math.sin(l))).normalizeSelf(),this.curTeamer.node.x+=e*n.x*i.default.speed*this.curTeamer.moveSpeed,this.curTeamer.node.y+=e*n.y*i.default.speed*this.curTeamer.moveSpeed):c<=(1==this.curTeamer.index?300:400)?this.ToFight():((n=cc.v2(-Math.cos(l),Math.sin(l))).normalizeSelf(),this.curTeamer.node.x+=e*n.x*i.default.speed*this.curTeamer.moveSpeed,this.curTeamer.node.y+=e*n.y*i.default.speed*this.curTeamer.moveSpeed)}else this.GetTarget()},e}(t("./AiState").default);n.default=s,cc._RF.pop()},{"../GameGroup/Teamer":"Teamer","../record/GameSys":"GameSys","./AiState":"AiState"}],AITeamerSkill:[function(t,e,n){"use strict";cc._RF.push(e,"d7c9b6DR6hOpI0hiFyr8qVT","AITeamerSkill");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Teamer"),i=t("../Manager/SoundManager"),s=t("../record/GameSys"),c=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.time=0,a.curTeamer=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.time=this.curTeamer.releaseTime,this.curTeamer.release=!0,this.curTeamer.do.active=!0,this.curTeamer.dopro.fillRange=0,this.curTeamer.doSkillSp.node.active=!0,this.curTeamer.doSkillSp.setAnimation(0,"eff_loading",!0),0==this.curTeamer.index?i.default.instance.play(i.Sound.Nv):1==this.curTeamer.index||(0==this.curTeamer.discipleIndex||2==this.curTeamer.discipleIndex?i.default.instance.play(i.Sound.Nv):i.default.instance.play(i.Sound.Nan))},e.prototype.ExitState=function(){t.prototype.ExitState.call(this),this.curTeamer.release=!1,this.curTeamer.do.active=!1},e.prototype.Update=function(e){var n=this;t.prototype.Update.call(this,e),this.time>0&&(this.time-=e*s.default.speed,this.curTeamer.dopro.fillRange=(this.curTeamer.releaseTime-this.time)/this.curTeamer.releaseTime,this.time<=0&&(this.curTeamer.callback?(this.curTeamer.doSkillSp.setAnimation(0,"eff_Sskill_eff",!1),this.curTeamer.doSkillSp.setCompleteListener(function(){"eff_Sskill_eff"==n.curTeamer.doSkillSp.animation&&(n.curTeamer.doSkillSp.node.active=!1)}),this.curTeamer.callback()):this.curTeamer.DoSkill()))},e}(t("./AiState").default);n.default=c,cc._RF.pop()},{"../GameGroup/Teamer":"Teamer","../Manager/SoundManager":"SoundManager","../record/GameSys":"GameSys","./AiState":"AiState"}],AITeamerVertigo:[function(t,e,n){"use strict";cc._RF.push(e,"89a336e4VpE3ZutLou2tMBr","AITeamerVertigo");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameGroup/Teamer"),i=t("../i18n/i18nMgr"),s=t("../record/GameSys"),c=t("../UI/FightPanel"),l=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.time=0,a.curTeamer=e.getComponent(r.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.time=0,c.default.instance.setText(9,i.i18nMgr.getLabel("freez"),this.curTeamer.node)},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){t.prototype.Update.call(this,e),this.time+=e*s.default.speed,this.time>=this.curTeamer.vertigo&&(this.curTeamer.isDie()?this.curTeamer.ChangeState(r.default.STATE_DIE):this.curTeamer.ChangeStateToMove())},e}(t("./AiState").default);n.default=l,cc._RF.pop()},{"../GameGroup/Teamer":"Teamer","../UI/FightPanel":"FightPanel","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./AiState":"AiState"}],AchievementDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"d9a201MNVlLT5QEzbUKFAo/","AchievementDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/AchievnmentData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./DiscipleDataManager"),d=t("./MagicDataManager"),f=t("./SingleBase"),h=cc._decorator,y=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","achievement",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","achievement")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.award=o.award,r.type=o.type,r.condition2=o.value2,r.condition1=o.value1,r.context=o.context,this.allDataList.push(r);return[2]}})})},e.prototype.GetData=function(t){for(var e=l.default.getAward()[t],n=[],a=0;a<this.allDataList.length;a++)this.allDataList[a].type==t+1&&n.push(this.allDataList[a]);var o=null;for(a=0;a<n.length;a++){if(a+1==e){o=n[a];break}a>=n.length-1&&(o=n[a])}return o},e.prototype.GetMaxType=function(){return this.allDataList[this.allDataList.length-1].type},e.prototype.isMax=function(t){for(var e=l.default.getAward()[t],n=[],a=0;a<this.allDataList.length;a++)this.allDataList[a].type==t+1&&n.push(this.allDataList[a]);var o=!1;for(a=0;a<n.length;a++){if(a+1==e){o=!1;break}a>=n.length-1&&(o=!0)}return o},e.prototype.GetOverNum=function(){for(var t=l.default.getAward(),e=0,n=0;n<t.length;n++)e+=t[n]-1;return e/this.allDataList.length},e.prototype.isHaveSuccess=function(){for(var t=!1,e=this.GetMaxType(),n=0;n<e;n++){var a=this.GetData(n),o=!1;if(a)switch(a.type){case 1:o=l.default.getLevel()>=a.condition1;break;case 2:o=p.default.Instance.GetUnlockNum()>=a.condition1;break;case 3:o=p.default.Instance.GetLevelNum(a.condition2)>=a.condition1;break;case 4:o=(l.default.getPetLevel()[a.condition1]>0?1:0)>=1;break;case 5:o=l.default.getDrugCount()>=a.condition1;break;case 6:o=l.default.getHerbCount()>=a.condition1;break;case 7:o=l.default.getMaxCustoms()>=a.condition1;break;case 8:o=d.default.Instance.getHaveNum()>=a.condition1;break;case 9:o=d.default.Instance.getHaveLevelNum(a.condition2)>=a.condition1;break;case 11:o=l.default.getRoamCount()>=a.condition1;break;case 13:o=l.default.getReincarnCount()>=a.condition1}if(t=!this.isMax(n)&&o)break}return t},e.prototype.isHaveReceive=function(){for(var t=l.default.getEveryDay(),e=0,n=0;n<t.length;n++)2==t[n].state&&e++;return!(e>=t.length)},n=r([y],e)}(f.default));n.default=g,cc._RF.pop()},{"../Data/AchievnmentData":"AchievnmentData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./DiscipleDataManager":"DiscipleDataManager","./MagicDataManager":"MagicDataManager","./SingleBase":"SingleBase"}],AchievementPanel:[function(t,e,n){"use strict";cc._RF.push(e,"46babU3yR9Cpbmu2SKsAw/x","AchievementPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Item/achievementItem"),s=t("../Manager/AchievementDataManager"),c=t("../Manager/SoundManager"),l=t("../record/GameSys"),u=t("./UIBase"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progress=null,e.progressNum=null,e.content=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init()},e.prototype.init=function(){if(this.content.childrenCount<=0)for(var t=s.default.Instance.GetMaxType(),e=0;e<t;e++)this.CreatorRaiseditem().setParent(this.content);for(e=0;e<this.content.childrenCount;e++)this.content.children[e].getComponent(i.default).init(e,this);this.initMaxOver()},e.prototype.initMaxOver=function(){this.progress.fillRange=s.default.Instance.GetOverNum(),this.progressNum.string=(100*s.default.Instance.GetOverNum()).toFixed(2)+"%"},e.prototype.start=function(){},e.prototype.ClickOff=function(){c.default.instance.play(c.Sound.Click),this.CloseThis()},e.prototype.CreatorRaiseditem=function(){return l.default.raiseditem.get()},r([f(cc.Sprite)],e.prototype,"progress",void 0),r([f(cc.Label)],e.prototype,"progressNum",void 0),r([f(cc.Node)],e.prototype,"content",void 0),r([d],e)}(u.default);n.default=h,cc._RF.pop()},{"../Item/achievementItem":"achievementItem","../Manager/AchievementDataManager":"AchievementDataManager","../Manager/SoundManager":"SoundManager","../record/GameSys":"GameSys","./UIBase":"UIBase"}],AchievnmentData:[function(t,e,n){"use strict";cc._RF.push(e,"5583adVhP1KNK9bBvw7hy3F","AchievnmentData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],ActivePanel:[function(t,e,n){"use strict";cc._RF.push(e,"7f770NcjtRK463nDe9vIYBz","ActivePanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/GuideDataManager"),s=t("../Manager/OnlineDataManager"),c=t("../Manager/SoundManager"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./PanelConst"),d=t("./UIBase"),f=t("./UIManager"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onlineRed=null,e.signRed=null,e.Online=null,e.Sign=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),u.default.getSdk().PlatformCallBack("BANNER"),this.Online.active=i.default.Instance.isUnlcok(10),this.Sign.active=i.default.Instance.isUnlcok(8)},e.prototype.start=function(){},e.prototype.ClickOnline=function(){c.default.instance.play(c.Sound.Click),f.default.Instance.ShowUI(p.default.OnlinePanel)},e.prototype.ClickSign=function(){c.default.instance.play(c.Sound.Click),f.default.Instance.ShowUI(p.default.SignPanel)},e.prototype.ClickOff=function(){c.default.instance.play(c.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),u.default.getSdk().PlatformCallBack("BANNERCLOSE")},e.prototype.update=function(){l.default.getSignIsGet(),this.signRed.active=!l.default.getSignIsGet();for(var t=l.default.getOnlineIsGet(),e=!1,n=0;n<t.length;n++){var a=s.default.Instance.allDataList[n].needtime;0==t[n]&&l.default.online>=a&&(e=!0)}this.onlineRed.active=e},r([g(cc.Node)],e.prototype,"onlineRed",void 0),r([g(cc.Node)],e.prototype,"signRed",void 0),r([g(cc.Node)],e.prototype,"Online",void 0),r([g(cc.Node)],e.prototype,"Sign",void 0),r([y],e)}(d.default);n.default=v,cc._RF.pop()},{"../Manager/GuideDataManager":"GuideDataManager","../Manager/OnlineDataManager":"OnlineDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./UIBase":"UIBase","./UIManager":"UIManager"}],AiBase:[function(t,e,n){"use strict";cc._RF.push(e,"d7f7b++J1ZJ8477YrFl04Zp","AiBase");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curStateId=999999,e.aiStates=new Array,e.Content=null,e.cursor=null,e.hpSprite=null,e.hpMaxSprite=null,e.mpSprite=null,e.SpineContent=null,e.RealmLabel=null,e.headSp=null,e.do=null,e.dopro=null,e.Shield=null,e.Shieldpro=null,e.shieldSp=null,e.Name=null,e.doSkillSp=null,e}return o(e,t),e.prototype.update=function(t){var e=this.GetAiStateById(this.curStateId);e&&e.Update(t)},e.prototype.ChangeState=function(t){if(this.curStateId!=t){var e=this.GetAiStateById(this.curStateId),n=this.GetAiStateById(t);null!=e&&e.ExitState(),this.curStateId=t,null!=n&&n.EnterState()}},e.prototype.GetAiStateById=function(t){return t<this.aiStates.length?(this.aiStates[t].stateId,this.aiStates[t]):null},e.prototype.AddAiState=function(t){this.aiStates.length!=t.stateId&&console.log("\u6dfb\u52a0\u52a8ai\u72c0\u614b\u51fa\u9519\uff0c\u8bf7\u68c0\u67e5\u6dfb\u52a0\u52a8\u753b\u987a\u5e8f"),this.aiStates.push(t)},e.prototype.GetSkill=function(){return null},e.prototype.TheStrike=function(){return!1},e.prototype.GetTarget=function(){return null},e.prototype.AddAngre=function(){},e.prototype.DoSkill=function(){},e.prototype.UpAttack=function(){},e.prototype.SubAttack=function(){},e.prototype.AtkUpBuff=function(){},e.prototype.ChangeStateToMove=function(){},e.prototype.ChangeStateToSkill=function(){},e.prototype.GetPracticalAtk=function(){},r([c(cc.Node)],e.prototype,"Content",void 0),r([c(cc.Node)],e.prototype,"cursor",void 0),r([c(cc.Sprite)],e.prototype,"hpSprite",void 0),r([c(cc.Node)],e.prototype,"hpMaxSprite",void 0),r([c(cc.Sprite)],e.prototype,"mpSprite",void 0),r([c(cc.Node)],e.prototype,"SpineContent",void 0),r([c(cc.Label)],e.prototype,"RealmLabel",void 0),r([c(cc.Sprite)],e.prototype,"headSp",void 0),r([c(cc.Node)],e.prototype,"do",void 0),r([c(cc.Sprite)],e.prototype,"dopro",void 0),r([c(cc.Node)],e.prototype,"Shield",void 0),r([c(cc.Sprite)],e.prototype,"Shieldpro",void 0),r([c(sp.Skeleton)],e.prototype,"shieldSp",void 0),r([c(cc.Label)],e.prototype,"Name",void 0),r([c(sp.Skeleton)],e.prototype,"doSkillSp",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AiHang:[function(t,e,n){"use strict";cc._RF.push(e,"99b4e/6b2FBg4Zjg4YceMNQ","AiHang");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Sect/DiscipleControl"),i=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.hangTimer=0,a.curDisciple=e.getComponent(r.default),a.findTargetHandler=function(){a.FindTargetHang()},a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.hangTimer=this.curDisciple.hangTime,this.OffTimeHang(1)},e.prototype.ExitState=function(){t.prototype.ExitState.call(this),this.curAiBase.unschedule(this.findTargetHandler)},e.prototype.Update=function(e){t.prototype.Update.call(this,e);var n=this.hangTimer>0;this.hangTimer-=cc.director.getDeltaTime(),this.hangTimer<=0&&n&&(this.StopMove(),this.curAiBase.scheduleOnce(this.findTargetHandler,3))},e.prototype.GetMoveSpeed=function(){return this.curDisciple.moveSpeed},e.prototype.OffTimeHang=function(t){t+=Math.random(),this.curAiBase.scheduleOnce(this.findTargetHandler,t)},e.prototype.FindTargetHang=function(){},e.prototype.EndMove=function(){this.curDisciple.Spine.setAnimation(0,"idle",!0),this.OffTimeHang(3)},e}(t("./AiMoveBase").default);n.default=i,cc._RF.pop()},{"../Sect/DiscipleControl":"DiscipleControl","./AiMoveBase":"AiMoveBase"}],AiIdle:[function(t,e,n){"use strict";cc._RF.push(e,"f01baLFVCxM9KHm59QdlZn7","AiIdle");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../AiBase/AiState"),i=t("../Sect/DiscipleControl"),s=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.curDisciple=e.getComponent(i.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this),this.curDisciple.Spine.setAnimation(0,"idle",!0)},e.prototype.ExitState=function(){t.prototype.ExitState.call(this)},e.prototype.Update=function(e){t.prototype.Update.call(this,e)},e}(r.default);n.default=s,cc._RF.pop()},{"../../AiBase/AiState":"AiState","../Sect/DiscipleControl":"DiscipleControl"}],AiMoveBase:[function(t,e,n){"use strict";cc._RF.push(e,"f4c50lNys1MYrwvpYYU2XTu","AiMoveBase");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../AiBase/AiState"),i=t("../Sect/DiscipleControl"),s=function(t){function e(e,n){var a=t.call(this,e,n)||this;return a.pathPoses=new Array,a.nextMoveIndex=0,a.curDisciple=e.getComponent(i.default),a}return o(e,t),e.prototype.EnterState=function(){t.prototype.EnterState.call(this)},e.prototype.ExitState=function(){t.prototype.ExitState.call(this),this.StopMove()},e.prototype.SetPath=function(t){this.nextMoveIndex=0,this.pathPoses=new Array,this.pathPoses=t},e.prototype.GetMoveSpeed=function(){return 0},e.prototype.MoveLogic=function(){var t=this;if(this.nextMoveIndex>=this.pathPoses.length)this.EndMove();else{var e=this.pathPoses[this.nextMoveIndex],n=this.curAiBase.node.getPosition();n.x>e.x?this.curAiBase.node.getChildByName("Sp").scaleX=1:n.x<e.x&&(this.curAiBase.node.getChildByName("Sp").scaleX=-1);var a=cc.Vec2.distance(this.curAiBase.node.getPosition(),e)/this.GetMoveSpeed(),o=cc.tween;1==this.curDisciple.speed?"move"!=this.curDisciple.Spine.animation&&this.curDisciple.Spine.setAnimation(0,"move",!0):"run"!=this.curDisciple.Spine.animation&&this.curDisciple.Spine.setAnimation(0,"run",!0),this.curTween=o(this.curAiBase.node).to(a,{position:cc.v3(e.x,e.y,0)}).call(function(){t.MoveLogic()}).start(),this.nextMoveIndex+=1}},e.prototype.EndMove=function(){},e.prototype.StopMove=function(){this.curTween&&(this.curTween.stop(),"idle"!=this.curDisciple.Spine.animation&&this.curDisciple.Spine.setAnimation(0,"idle",!0))},e}(r.default);n.default=s,cc._RF.pop()},{"../../AiBase/AiState":"AiState","../Sect/DiscipleControl":"DiscipleControl"}],AiState:[function(t,e,n){"use strict";cc._RF.push(e,"f52c0Gbd5hCQJeMQIslGD8g","AiState"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){this.stateId=e,this.curAiBase=t}return t.prototype.EnterState=function(){},t.prototype.ExitState=function(){this.curAiBase.node.stopAllActions()},t.prototype.Update=function(){},t}();n.default=a,cc._RF.pop()},{}],AlchemyBox:[function(t,e,n){"use strict";cc._RF.push(e,"6d841dHsslKMI4zZNAkcBBF","AlchemyBox");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/DrugDataManager"),c=t("../Manager/PropDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("./AlchemyPanel"),f=t("./TipGroup"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getBtn=null,e.upBtn=null,e.drugnum=null,e.drugtime=null,e.index=0,e.panel=null,e}return o(e,t),e.prototype.onLoad=function(){this.getBtn=this.node.getChildByName("get"),this.drugnum=this.node.getChildByName("makenum").getComponent(cc.Label),this.drugtime=this.node.getChildByName("time").getComponent(cc.Label),this.upBtn=this.node.getChildByName("upspeed")},e.prototype.initDrug=function(){var t=u.default.getDrugBoxNum()[this.index],e=u.default.getDrugTime()[this.index],n=u.default.getDrugOver()[this.index],a=t-n;this.drugnum.string="("+n+"/"+t+")",this.drugtime.string=i.i18nMgr.getLabel("title307")+"\n"+p.default.sec_to_timefunction(e),e>0||a>0?(this.getBtn.active=!1,this.upBtn.active=!0):(this.getBtn.active=!0,this.upBtn.active=!1)},e.prototype.ClickAllGet=function(){l.default.instance.play(l.Sound.Click);var t=u.default.getDrugOver();u.default.setDrugCount(t[this.index]);var e=c.default.Instance.GetDrugProp(this.index);c.default.Instance.addPack([{prop:e,have:t[this.index]}]);var n=u.default.getDrugBoxNum();n[this.index]-=t[this.index],u.default.setDrugBoxNum(n);var a=s.default.Instance.GetDrug(this.index+1);f.default.instance.setText(-1,a.name+"\xd7"+t[this.index]),t[this.index]=0,u.default.setDrugOver(t),this.panel.initAlchemy()},e.prototype.AllGet=function(){if(u.default.getDrugOver()[this.index]<=0)return!1;u.default.getDrugNum();var t=u.default.getDrugOver();u.default.setDrugCount(t[this.index]);var e=c.default.Instance.GetDrugProp(this.index);c.default.Instance.addPack([{prop:e,have:t[this.index]}]);var n=u.default.getDrugBoxNum();n[this.index]-=t[this.index],u.default.setDrugBoxNum(n);var a=s.default.Instance.GetDrug(this.index+1),o=t[this.index];return setTimeout(function(){f.default.instance.setText(-1,a.name+"\xd7"+o)},500*this.index),t[this.index]=0,u.default.setDrugOver(t),this.panel.initAlchemy(),!0},e.prototype.UpSpeed=function(){var t=this;l.default.instance.play(l.Sound.Click),p.default.getSdk().PlatformCallBack("REWARD",function(){var e=u.default.getDrugBoxNum(),n=u.default.getDrugOver();n[t.index]=e[t.index],u.default.setDrugOver(n);var a=u.default.getDrugTime();a[t.index]=0,u.default.setDrugTime(a)},function(){f.default.instance.setText(-1,i.i18nMgr.getLabel("title148"))},-9)},e.prototype.start=function(){},e.prototype.update=function(){this.initDrug()},r([g({displayName:"\u4e39\u836f\u5e8f\u53f7",type:cc.Float})],e.prototype,"index",void 0),r([g({displayName:"\u70bc\u4e39\u9762\u677f",type:d.default})],e.prototype,"panel",void 0),r([y],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../Manager/DrugDataManager":"DrugDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./AlchemyPanel":"AlchemyPanel","./TipGroup":"TipGroup"}],AlchemyPanel:[function(t,e,n){"use strict";cc._RF.push(e,"b73b9NIRn5BmZc3jyY3S97n","AlchemyPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/DrugDataManager"),c=t("../Manager/MagicDataManager"),l=t("../Manager/PropDataManager"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("./AlchemyBox"),h=t("./TipGroup"),y=t("./UIBase"),g=cc._decorator,v=g.ccclass,m=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e.makeContent=null,e.allgetRed=null,e.allmakeRed=null,e}return o(e,t),e.prototype.onLoad=function(){this.spine.setAnimation(0,"idle01",!0),this.spine.setAnimation(1,"idle02",!0),this.spine.setAnimation(2,"idle03",!0),this.spine.setAnimation(3,"idle04",!0),this.spine.setAnimation(4,"idle05",!0),this.spine.setAnimation(5,"idle_yanwu",!0),this.spine.setAnimation(6,"xingdian",!0)},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.initAlchemy=function(){for(var t=l.default.Instance.GetPackPropType(5),e=c.default.Instance.GetCanMakeNum(),n=0;n<this.makeContent.childrenCount;n++){for(var a=0,o=0;o<t.length;o++)t[o].prop.index==n+1&&(a=t[o].have);this.makeContent.children[n].getChildByName("num").getComponent(cc.Label).string="\xd7"+d.default.refSetCoin(a);var r=s.default.Instance.isUnlock(n),u=s.default.Instance.GetDrug(n+1);r?(p.default.getDrugBoxNum()[n]>0?(this.makeContent.children[n].getChildByName("make").active=!1,this.makeContent.children[n].getChildByName("name").getComponent(cc.Label).string=""+u.name,this.makeContent.children[n].getChildByName("box").active=!0):(this.makeContent.children[n].getChildByName("box").active=!1,this.makeContent.children[n].getChildByName("make").active=!0,this.makeContent.children[n].getChildByName("name").getComponent(cc.Label).string=""+u.name,this.makeContent.children[n].getChildByName("make").getChildByName("makenum").getComponent(cc.Label).string=i.i18nMgr.getLabel("title186")+"x"+e),this.makeContent.children[n].getChildByName("condition").active=!1):(this.makeContent.children[n].getChildByName("name").getComponent(cc.Label).string=""+u.name,this.makeContent.children[n].getChildByName("make").active=!1,this.makeContent.children[n].getChildByName("condition").active=!0,this.makeContent.children[n].getChildByName("condition").getComponent(cc.Label).string=""+u.unlock,this.makeContent.children[n].getChildByName("box").active=!1)}},e.prototype.start=function(){},e.prototype.ClickDrug=function(t,e){u.default.instance.play(u.Sound.Click);var n=parseInt(e),a=c.default.Instance.GetCanMakeNum(),o=c.default.Instance.getAddDrugSpeed(),r=p.default.getDrugBoxNum();if(r[n]>=a)h.default.instance.setText(-1,i.i18nMgr.getLabel("title188"));else{r[n]+=a,r[n]>=a&&(r[n]=a),p.default.setDrugBoxNum(r);var l=s.default.Instance.GetDrug(n+1),d=p.default.getDrugTime();d[n]<=0&&(d[n]=l.needtime*a/o,p.default.setDrugTime(d)),this.initAlchemy()}},e.prototype.ClickAllGet=function(){u.default.instance.play(u.Sound.Click),d.default.getSdk().sendEvent("panaceaGet",{message:"\u4e00\u952e\u9886\u53d6\u4e39\u836f"});for(var t=0,e=0;e<this.makeContent.childrenCount;e++)this.makeContent.children[e].getChildByName("box").getComponent(f.default).AllGet()&&(this.makeContent.children[e].getChildByName("hc").getComponent(sp.Skeleton).setAnimation(0,"hc",!1),t++);0==t?h.default.instance.setText(-1,i.i18nMgr.getLabel("title189")):h.default.instance.setText(-1,i.i18nMgr.getLabel("title190"))},e.prototype.ClickUpSpeed=function(){var t=this;u.default.instance.play(u.Sound.Click),d.default.getSdk().PlatformCallBack("REWARD",function(){for(var e=0;e<t.makeContent.childrenCount;e++)t.makeContent.children[e].getChildByName("box").getComponent(f.default).UpSpeed()},function(){h.default.instance.setText(-1,i.i18nMgr.getLabel("title148"))},-9)},e.prototype.ClickAllMake=function(){u.default.instance.play(u.Sound.Click),d.default.getSdk().sendEvent("panaceaMake",{message:"\u4e00\u952e\u70bc\u4e39"});for(var t=c.default.Instance.GetCanMakeNum(),e=c.default.Instance.getAddDrugSpeed(),n=0,a=0,o=0;o<this.makeContent.childrenCount;o++)if(s.default.Instance.isUnlock(o)){n++;var r=p.default.getDrugBoxNum();r[o]>=t?a++:(this.makeContent.children[o].getChildByName("hc").getComponent(sp.Skeleton).setAnimation(0,"hc",!1),r[o]+=t,r[o]>=t&&(r[o]=t)),p.default.setDrugBoxNum(r);var l=s.default.Instance.GetDrug(o+1),f=p.default.getDrugTime();f[o]<=0&&(f[o]=l.needtime*t/e,p.default.setDrugTime(f)),this.initAlchemy()}n==a&&h.default.instance.setText(-1,i.i18nMgr.getLabel("title310"))},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.ShowRed=function(){for(var t=!1,e=c.default.Instance.GetCanMakeNum(),n=p.default.getDrugBoxNum(),a=0;a<n.length;a++)if(s.default.Instance.isUnlock(a)&&n[a]<e){t=!0;break}this.allmakeRed.active=t;var o=!1;for(a=0;a<n.length;a++){var r=p.default.getDrugBoxNum()[a],i=p.default.getDrugTime()[a],l=p.default.getDrugOver()[a];i>0||r-l>0||r>0&&(o=!0)}this.allgetRed.active=o},e.prototype.update=function(){this.initAlchemy(),this.ShowRed()},r([m(sp.Skeleton)],e.prototype,"spine",void 0),r([m(cc.Node)],e.prototype,"makeContent",void 0),r([m(cc.Node)],e.prototype,"allgetRed",void 0),r([m(cc.Node)],e.prototype,"allmakeRed",void 0),r([v],e)}(y.default);n.default=b,cc._RF.pop()},{"../Manager/DrugDataManager":"DrugDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./AlchemyBox":"AlchemyBox","./TipGroup":"TipGroup","./UIBase":"UIBase"}],AndroidManager:[function(t,e,n){"use strict";cc._RF.push(e,"cdaa6FXd8BKjJE3FNzbGM1C","AndroidManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],i=0,s=r.length;i<s;i++,o++)a[o]=r[i];return a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=function(t){function e(){var n=t.call(this)||this;return cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){switch(t.keyCode){case 6:case cc.macro.KEY.back:e.callJava("exitGame","()V")}}),n}return o(e,t),e.callJava=function(t,e){for(var n,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return(n=jsb.reflection).callStaticMethod.apply(n,r(["com/tomato/plugins/PluginAPI",t,e],a))},e.getChannel0=function(){try{return this.callJava("getChannel","()Ljava/lang/String;")}catch(t){console.log(t)}return""},e.prototype.getChannel=function(){return this.CHANNEL||(this.CHANNEL=e.getChannel0()),"android_"+this.CHANNEL},e.prototype.getChannelId=function(){return this.CHANNEL||(this.CHANNEL=e.getChannel0()),this.CHANNEL},e.prototype.showPrivacy=function(){e.callJava("showUserProtocol","()V")},e.prototype.vibrate=function(){e.callJava("vibrate","(I)V",30)},e.prototype.sendEvent=function(t,n){var a=n||{key:1};try{e.callJava("sendEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,JSON.stringify(a))}catch(o){console.log(o)}},e.prototype.bind=function(t,n,a){try{e.callJava("bind","(Ljava/lang/String;)V",t),cc.bindCallback={onResult:function(t){console.log(t);try{var e=JSON.parse(t);n(e)}catch(o){a(t)}}}}catch(o){console.log("\u7ed1\u5b9a\u5931\u8d25"+o),a("call java error")}},e.prototype.login=function(t,n){try{e.callJava("login","()V"),cc.loginCallback={onResult:function(e){e?t():n()}}}catch(a){console.log("\u767b\u9646\u5931\u8d25"+a),n()}},e.prototype.loginWithInfo=function(t,n){try{e.callJava("loginWithInfo","()V"),cc.loginWithInfo={onResult:function(e){""!=e?t(e):n()}}}catch(a){console.log("\u767b\u9646\u5931\u8d25"+a),n()}},e.prototype.bannerAdShow=function(t){void 0===t&&(t=0);try{e.callJava("showBanner","()V")}catch(n){console.log(n)}},e.prototype.bannerAdShowAutoUpdate=function(t){void 0===t&&(t=0),this.bannerAdShow(t)},e.prototype.bannerAdHide=function(){try{e.callJava("hideBanner","()V")}catch(t){console.log(t)}},e.prototype.interstitialAdShow=function(t){void 0===t&&(t=1);try{e.callJava("playScreenOrVideo","(I)V",t),cc.adCallback={onResult:function(t){console.log("interstitialAdShow",t)}}}catch(n){console.log("\u64ad\u653e\u5e7f\u544a\u62a5\u9519"+n)}},e.prototype.rewardedAdShow=function(t,n,a){if(void 0===t&&(t=-1),n){var o=n;n=function(){setTimeout(o,.05)}}if(a){var r=a;a=function(t){setTimeout(r,.05,t)}}try{e.callJava("playScreenOrVideo","(I)V",t),cc.adCallback={onResult:function(t){t?n():a(!1)}}}catch(i){console.log("\u64ad\u653e\u5e7f\u544a\u62a5\u9519"+i)}},e.prototype.fullVideoAdShow=function(t){void 0===t&&(t=1);try{e.callJava("playFullVideo","(I)V",t),cc.adCallback={onResult:function(){}}}catch(n){console.log("\u64ad\u653e\u5e7f\u544a\u62a5\u9519"+n)}},e.prototype.nativeAdShow=function(t,n,a,o,r){void 0===t&&(t=0);try{e.callJava("playNative","(IIIII)V",t,n,a,o,r),cc.adCallback={onResult:function(){}}}catch(i){console.log(i)}},e.prototype.nativeAdHide=function(){try{e.callJava("hideNative","()V")}catch(t){console.log(t)}},e.prototype.pay=function(t,n,a){if(n){var o=n;n=function(t){setTimeout(o,.05,t)}}if(a){var r=a;a=function(t,e){setTimeout(r,.05,t,e)}}e.callJava("pay","(I)V",t),cc.payCallback={onResult:function(t,e){switch(e){case 0:n(t);break;case 1:case 2:a(t,e)}}}},e.prototype.checkAllPay=function(t){e.callJava("checkAllPay","()V"),cc.checkPayCallback={onResult:function(e,n){switch(n){case 0:t(e)}}}},e.prototype.moreGame=function(){e.callJava("moreGame","()V")},e.prototype.isSupportPrivacy=function(){return!1},e.prototype.isSupportMoreGame=function(){return"0001004"==this.getChannelId()},e.prototype.isSupportService=function(){switch(this.getChannelId()){case"0001002":case"0001004":case"0001008":return!1}return!0},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),i.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e(),i.default.setVideoCount()},n)):"BANNER"==t?this.bannerAdShow():"BANNERCLOSE"==t?this.bannerAdHide():"INTER"==t&&this.interstitialAdShow()},e}(t("./SdkManager").default);n.default=s,cc._RF.pop()},{"../record/GameSys":"GameSys","./SdkManager":"SdkManager"}],AndroidNativeAd:[function(t,e,n){"use strict";cc._RF.push(e,"76368drv5RMu77EJxx9143V","AndroidNativeAd");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../core/util/Utils"),s=t("../Tools/GameTools"),c=t("./AndroidManager"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeAdPos=0,e}return o(e,t),e.prototype.onLoad=function(){var t=s.default.getSdk();t instanceof c.default&&(this.sdk=t)},e.prototype.onEnable=function(){if(this.sdk){var t=i.Utils.cocosToPixel(this.node);this.sdk.nativeAdShow(this.nativeAdPos,t.x,t.y,t.width,t.height)}},e.prototype.onDisable=function(){this.sdk&&this.sdk.nativeAdHide()},r([p({displayName:"\u5e7f\u544a\u4f4d"})],e.prototype,"nativeAdPos",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Tools/GameTools":"GameTools","../core/util/Utils":"Utils","./AndroidManager":"AndroidManager"}],Android:[function(t,e,n){"use strict";cc._RF.push(e,"440b396g6VMhq+HnlpFtmBI","Android");var a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],i=0,s=r.length;i<s;i++,o++)a[o]=r[i];return a};Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.callJava=function(t,e){for(var n,o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];return(n=jsb.reflection).callStaticMethod.apply(n,a(["com/tomato/plugins/PluginAPI",t,e],o))},t.sendGameInfo233=function(t,e){try{jsb.reflection.callStaticMethod("com/tomato/plugin/plat/Channel233","sendGameInfo","(ILjava/lang/String;)V",t,e)}catch(n){console.log(n)}},t.getChannel=function(){try{return this.callJava("getChannel","()Ljava/lang/String;")}catch(t){console.log(t)}return""},t.login=function(t,e){try{this.callJava("login","()V"),cc.loginCallback={onResult:function(n){n?t():e()}}}catch(n){console.log("\u767b\u9646\u5931\u8d25"+n)}},t.exitGame=function(){try{this.callJava("exitGame","()V")}catch(t){console.log(t)}},t.playScreenAd=function(e,n,a){e<0?console.log("\u63d2\u5c4f\u5e7f\u544a\u7684\u4f4d\u7f6e\u7f16\u53f7\u5e94\u8be5\u5927\u4e8e0"):t.playScreenOrVideoAd(e,n,a)},t.playVideoAd=function(e,n,a){e>0?console.log("\u89c6\u9891\u5e7f\u544a\u7684\u4f4d\u7f6e\u7f16\u53f7\u5e94\u8be5\u5c0f\u4e8e0"):t.playScreenOrVideoAd(e,n,a)},t.showBanner=function(){try{this.callJava("showBanner","()V")}catch(t){console.log(t)}},t.hideBanner=function(){try{this.callJava("hideBanner","()V")}catch(t){console.log(t)}},t.hideNative=function(){try{this.callJava("hideNative","()V")}catch(t){console.log(t)}},t.playNative=function(t,e,n,a,o,r){try{this.callJava("playNative","(IIIII)V",t,e,n,a,o),cc.adCallback=r}catch(i){console.log(i)}},t.checkCanPlayVideoAtPos=function(t){try{return this.callJava("checkCanPlayAtPosition","(II)Z",t,1)}catch(e){console.log(e)}return!1},t.getUid=function(){try{return this.callJava("getUid","()Ljava/lang/String;")}catch(t){console.log(t)}return""},t.sendEvent=function(t,e){try{this.callJava("sendEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,JSON.stringify(e))}catch(n){console.log(n)}},t.playScreenOrVideoAd=function(t,e,n){try{this.callJava("playScreenOrVideo","(I)V",t),cc.adCallback={onResult:function(t){t?e():n()}}}catch(a){console.log("\u64ad\u653e\u5e7f\u544a\u62a5\u9519"+a)}},t.moreGame=function(){try{this.callJava("moreGame","()V")}catch(t){console.log(t)}},t.showUserProtocol=function(){this.callJava("showUserProtocol","()V")},t}();n.default=o,cc._RF.pop()},{}],ArtifactsDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"4ea45v2DEBO8ZZHw/F+sCQi","ArtifactsDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/ArtifactsData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e.sublevel=3,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","implement",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","implement")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).name=o.name,r.addatk=o.atk_add,r.level=o.level,r.addhp=o.hp_add,r.addhit=o.hit_add,r.output=o.output,r.adddodge=o.avoid_add,r.cd=o.cd,r.info=o.context,r.addcrit=o.cri_add,r.addoutput=o.coinUp,r.spine=o.spine,r.head=o.head,r.skillType=o.type,r.info=o.context,r.skillnum=o.skillValue,this.allDataList.push(r);return[2]}})})},e.prototype.GetNowData=function(t){void 0===t&&(t=l.default.getNowArtifacts());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e]},e.prototype.QueryAddRole=function(t,e){switch(t){case 0:return this.GetAddAtk(e);case 1:return this.GetAddHp(e);case 2:return this.GetAddHit(e);case 3:return this.GetAddDodge(e);case 4:return this.GetAddCrit(e)}},e.prototype.GetAddAtk=function(t){void 0===t&&(t=l.default.getNowArtifacts());var e=this.GetNowData(t);return e?e.addatk:0},e.prototype.GetAddHp=function(t){void 0===t&&(t=l.default.getNowArtifacts());var e=this.GetNowData(t);return e?e.addhp:0},e.prototype.GetAddHit=function(t){void 0===t&&(t=l.default.getNowArtifacts());var e=this.GetNowData(t);return e?e.addhit:0},e.prototype.GetAddDodge=function(t){void 0===t&&(t=l.default.getNowArtifacts());var e=this.GetNowData(t);return e?e.adddodge:0},e.prototype.GetAddCrit=function(t){void 0===t&&(t=l.default.getNowArtifacts());var e=this.GetNowData(t);return e?e.addcrit:0},e.prototype.getAddOutPut=function(t){void 0===t&&(t=l.default.getNowArtifacts());var e=this.GetNowData(t);return e?e.addoutput:0},e.prototype.GetOutPut=function(){var t=l.default.getNowArtifacts();return t<=0&&(t=1),this.GetNowData(t).output},e.prototype.GetbuyJewel=function(t){void 0===t&&(t=l.default.getBuyCount());var e=this.GetCanBuyLevel();return 100*Math.pow(1.5,e-1)*Math.pow(1.025,t)},e.prototype.GetCanBuyLevel=function(){var t=l.default.getMaxArtifacts()-this.sublevel;return t<=1&&(t=1),t},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/ArtifactsData":"ArtifactsData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],ArtifactsData:[function(t,e,n){"use strict";cc._RF.push(e,"447f1xuOLhAeIX5A76csqu0","ArtifactsData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.hit=100,this.output=1},cc._RF.pop()},{}],ArtifactsItem:[function(t,e,n){"use strict";cc._RF.push(e,"e41bc83ImhFk5KzNN2lHM4/","ArtifactsItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./PanelConst"),d=t("./UIManager"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.level=null,e.pitch=null,e.di=null,e.hcSp=null,e.id=0,e.index=0,e.startpos=null,e.ArtifactsPanel=null,e.maxlevel=30,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){},e.prototype.init=function(t,e,n){return i(this,void 0,void 0,function(){var a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return this.index=t,this.id=e,this.ArtifactsPanel=n,this.startpos=this.node.parent,a="Artifacts_da/"+e,o=u.default.GetRes("SpriteBundle1",a,cc.SpriteFrame),r=null,null!=o?[3,2]:[4,u.default.loadImage("SpriteBundle1",a)];case 1:return r=s.sent(),[3,3];case 2:r=o,s.label=3;case 3:return this.icon.spriteFrame=r,this.level.string="Lv:"+e,i="Circle/"+(e-1)%8,(c=u.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,5]:[4,u.default.loadImage("Bundle",i)];case 4:c=s.sent(),s.label=5;case 5:return this.di.spriteFrame=c,[2]}})})},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){t.node.setParent(t.ArtifactsPanel.Artifacts);var n=t.node.parent.convertToNodeSpaceAR(e.getLocation());t.node.setPosition(n)}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var n=t.node.parent.convertToNodeSpaceAR(e.getLocation());t.node.setPosition(n)}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){var e=t.LocationBox();if(null==e)if(t.isRecycle()){var n=t.ArtifactsPanel.GetbuyJewel(0);(a=l.default.getArtifactslist())[t.index]=0,l.default.setArtifactslist(a),d.default.Instance.ChangeJewel(n),l.default.artifacts.restor(t.node)}else t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0));else if(t.isCanput(e))t.startpos=t.ArtifactsPanel.ArtifactsArray[e],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(a=l.default.getArtifactslist())[t.index]=0,a[e]=t.id,l.default.setArtifactslist(a),t.index=e,t.init(t.index,t.id,t.ArtifactsPanel);else if(t.isCanFuse(e)){var a;t.hcSp.setAnimation(0,"hc",!1),t.startpos=t.ArtifactsPanel.ArtifactsArray[e],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(a=l.default.getArtifactslist())[t.index]=0,t.id+=1,a[e]=t.id,l.default.setArtifactslist(a),t.index=e,t.init(t.index,t.id,t.ArtifactsPanel);var o=l.default.getMaxArtifacts();o<t.maxlevel&&t.id>o&&(l.default.setMaxArtifacts(t.id),l.default.setBuyCount(!0),t.ArtifactsPanel.Unlock(),console.log("\u89e3\u9501\u65b0\u6cd5\u5668"),t.ArtifactsPanel.initbuyJewel(),c.default.instance.initArtifacts(),d.default.Instance.ShowUI(p.default.UnlockNewArtifacts),1==t.ArtifactsPanel.teahchNum&&(t.ArtifactsPanel.teahchNum=99,t.ArtifactsPanel.TeachSp[1].active=!1),u.default.getSdk().sendEvent("crucialLevel",{message:"\u6cd5\u5668\u7b49\u7ea7",level:l.default.getMaxArtifacts()}))}else t.node.setParent(t.ArtifactsPanel.ArtifactsArray[t.index]),t.node.setPosition(cc.v2(0,0))}),this.node.on(cc.Node.EventType.TOUCH_END,function(){var e=t.LocationBox();if(null==e)if(t.isRecycle()){var n=t.ArtifactsPanel.GetbuyJewel(0);(a=l.default.getArtifactslist())[t.index]=0,l.default.setArtifactslist(a),d.default.Instance.ChangeJewel(n),l.default.artifacts.restor(t.node)}else t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0));else if(t.isCanput(e))t.startpos=t.ArtifactsPanel.ArtifactsArray[e],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(a=l.default.getArtifactslist())[t.index]=0,a[e]=t.id,l.default.setArtifactslist(a),t.index=e,t.init(t.index,t.id,t.ArtifactsPanel);else if(t.isCanFuse(e)){var a;t.hcSp.setAnimation(0,"hc",!1),t.startpos=t.ArtifactsPanel.ArtifactsArray[e],t.node.setParent(t.startpos),t.node.setPosition(cc.v2(0,0)),(a=l.default.getArtifactslist())[t.index]=0,t.id+=1,a[e]=t.id,l.default.setArtifactslist(a),t.index=e,t.init(t.index,t.id,t.ArtifactsPanel);var o=l.default.getMaxArtifacts();o<t.maxlevel&&t.id>o&&(l.default.setMaxArtifacts(t.id),l.default.setBuyCount(!0),t.ArtifactsPanel.Unlock(),console.log("\u89e3\u9501\u65b0\u6cd5\u5668"),t.ArtifactsPanel.initbuyJewel(),c.default.instance.initArtifacts(),d.default.Instance.ShowUI(p.default.UnlockNewArtifacts),1==t.ArtifactsPanel.teahchNum&&(t.ArtifactsPanel.teahchNum=99,t.ArtifactsPanel.TeachSp[1].active=!1),u.default.getSdk().sendEvent("crucialLevel",{message:"\u6cd5\u5668\u7b49\u7ea7",level:l.default.getMaxArtifacts()}))}else t.node.setParent(t.ArtifactsPanel.ArtifactsArray[t.index]),t.node.setPosition(cc.v2(0,0))})},e.prototype.isRecycle=function(){var t=this.ArtifactsPanel.Recycle,e=this.node.getPosition(),n=this.node.parent.convertToWorldSpaceAR(e),a=t.parent.convertToWorldSpaceAR(t.getPosition()).sub(n).mag(),o=l.default.getMaxArtifacts();return this.id!=o&&a<=50},e.prototype.LocationBox=function(){for(var t=this.ArtifactsPanel.ArtifactsArray,e=this.node.getPosition(),n=0;n<t.length;n++){if(t[n].getPosition().sub(e).mag()<=50)return n;if(n==t.length-1)return null}},e.prototype.isCanput=function(t){return!(this.ArtifactsPanel.ArtifactsArray[t].childrenCount>0)},e.prototype.isCanFuse=function(t){var e=this.ArtifactsPanel.ArtifactsArray[t].children[0].getComponent(n);return e.id==this.id&&this.id!=this.maxlevel&&(l.default.artifacts.restor(e.node),!0)},r([y(cc.Sprite)],e.prototype,"icon",void 0),r([y(cc.Label)],e.prototype,"level",void 0),r([y(cc.Node)],e.prototype,"pitch",void 0),r([y(cc.Sprite)],e.prototype,"di",void 0),r([y(sp.Skeleton)],e.prototype,"hcSp",void 0),n=r([h],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./UIManager":"UIManager"}],ArtifactsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"ceaafdh2WJLqrCyNA91042G","ArtifactsPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../i18n/i18nMgr"),u=t("../Manager/ArtifactsDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/EventConst"),h=t("../Tools/GameTools"),y=t("../Tools/PoolManager"),g=t("./ArtifactsItem"),v=t("./PanelConst"),m=t("./TipGroup"),b=t("./UIBase"),_=t("./UIManager"),S=cc._decorator,C=S.ccclass,w=S.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TeachSp=[],e.prefabs=[],e.addtype=[],e.Content=null,e.Level=null,e.Name=null,e.addnum=[],e.Left=null,e.Right=null,e.Icon=null,e.Options=null,e.initiative=null,e.passivity=null,e.Artifacts=null,e.buyLevel=null,e.buyIcon=null,e.buyCoin=null,e.Recycle=null,e.sublevel=3,e.ArtifactsArray=[],e.nowIndex=0,e.teahchNum=0,e}return o(e,t),e.prototype.onLoad=function(){d.default.artifacts=new y.default(this.prefabs[0],20),this.Content=this.node.getChildByName("Content"),this.Level=this.Content.getChildByName("banner").getChildByName("level").getComponent(cc.Label),this.Name=this.Content.getChildByName("banner").getChildByName("name").getComponent(cc.Label),this.Icon=this.Content.getChildByName("artifacts").getComponent(sp.Skeleton),this.Options=this.Content.getChildByName("options"),this.initiative=this.Content.getChildByName("initiative").getChildByName("info").getComponent(cc.Label),this.passivity=this.Content.getChildByName("passivity").getChildByName("info").getComponent(cc.Label),this.Artifacts=this.Content.getChildByName("Content"),this.buyLevel=this.Content.getChildByName("buy").getChildByName("level").getComponent(cc.Label),this.buyIcon=this.Content.getChildByName("buy").getChildByName("icon").getComponent(cc.Sprite),this.buyCoin=this.Content.getChildByName("buy").getChildByName("coin").getComponent(cc.Label),this.Left=this.Content.getChildByName("left"),this.Right=this.Content.getChildByName("right"),this.Recycle=this.Content.getChildByName("recycle");for(var t=0;t<this.Artifacts.childrenCount;t++)this.ArtifactsArray.push(this.Artifacts.children[t]);this.nowIndex=d.default.getNowArtifacts(),this.nowIndex<=0&&(this.nowIndex=d.default.getMaxArtifacts())},e.prototype.start=function(){cc.systemEvent.on(f.EventConst.Jewel,this.initbuyJewel,this),this.initArtifacts()},e.prototype.onEnable=function(){t.prototype.onEnable.call(this);for(var e=0;e<this.TeachSp.length;e++)this.TeachSp[e].active=!1;this.initTeach(),this.initbuyJewel(),this.initMainArtifacts()},e.prototype.initTeach=function(){if(0==d.default.getMaxArtifacts()){this.teahchNum=0,this.TeachSp[0].active=!0;var t=d.default.getArtifactslist(),e=this.GetCanBuyPos();t[e]=this.GetCanBuyLevel(),d.default.setArtifactslist(t),d.default.setBuyCount(),this.CreateArtifacts(this.GetCanBuyLevel(),e)}else this.teahchNum=99},e.prototype.initMainArtifacts=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return 0!=this.nowIndex?[3,1]:(this.Options.active=!1,this.Icon.node.active=!1,this.addnum[0].node.parent.active=!1,this.addtype[0].node.parent.active=!1,this.Left.active=!1,this.Right.active=!1,this.Name.node.parent.active=!1,[3,5]);case 1:return this.Left.active=!0,this.Right.active=!0,1==this.nowIndex&&(this.Left.active=!1),this.nowIndex>=d.default.getMaxArtifacts()&&(this.Right.active=!1),this.Name.node.parent.active=!0,this.Icon.node.active=!0,t="Spines/Artifacts/fabao"+this.nowIndex+"/fabao"+this.nowIndex,e=h.default.GetRes("Bundle",t,sp.SkeletonData),n=null,null!=e?[3,3]:[4,h.default.LoadSpinData("Bundle",t)];case 2:return n=s.sent(),[3,4];case 3:n=e,s.label=4;case 4:for(this.Icon.skeletonData=n,this.Icon.setAnimation(0,"fabao"+this.nowIndex,!0),this.Level.string="Lv."+this.nowIndex,a=u.default.Instance.GetNowData(this.nowIndex),this.Name.string=""+a.name,this.initiative.string=""+a.info,this.passivity.string=l.i18nMgr.getLabel("title192"),o=0;o<5;o++)this.addnum[o].node.active=u.default.Instance.QueryAddRole(o,this.nowIndex)>0,"",r=0==o||1==o?100*u.default.Instance.QueryAddRole(o,this.nowIndex)+"%":u.default.Instance.QueryAddRole(o,this.nowIndex)+"%",this.addnum[o].string="+"+r,this.addtype[o].node.active=u.default.Instance.QueryAddRole(o,this.nowIndex)>0;i=d.default.getNowArtifacts(),this.Options.active=i!=this.nowIndex,s.label=5;case 5:return[2]}})})},e.prototype.initArtifacts=function(){for(var t=d.default.getArtifactslist(),e=0;e<t.length;e++)0!=t[e]?this.ArtifactsArray[e].childrenCount>0?this.ArtifactsArray[e].children[0].getComponent(g.default).init(e,t[e],this):this.CreateArtifacts(t[e],e):this.ArtifactsArray[e].childrenCount>0&&this.ArtifactsArray[e].destroyAllChildren()},e.prototype.CreateArtifacts=function(t,e){var n=d.default.artifacts.get();n.setParent(this.ArtifactsArray[e]),n.setPosition(cc.v2(0,0)),n.getComponent(g.default).init(e,t,this)},e.prototype.initbuyJewel=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return t=this.GetbuyJewel(),e=d.default.getJewel(),this.buyCoin.node.color=e>=t?cc.Color.GREEN:cc.Color.RED,this.buyCoin.string=h.default.refSetCoin(Math.floor(e))+"/"+h.default.refSetCoin(Math.floor(t)),n=this.GetCanBuyLevel(),a="Artifacts_da/"+n,o=h.default.GetRes("SpriteBundle1",a,cc.SpriteFrame),r=null,null!=o?[3,2]:[4,h.default.loadImage("SpriteBundle1",a)];case 1:return r=i.sent(),[3,3];case 2:r=o,i.label=3;case 3:return this.buyIcon.spriteFrame=r,this.buyLevel.string="Lv:"+n,[2]}})})},e.prototype.ClickBuy=function(){p.default.instance.play(p.Sound.Click);var t=this.GetbuyJewel();if(d.default.getJewel()<t)return m.default.instance.setText(-1,l.i18nMgr.getLabel("title322")),_.default.Instance.ShowUI(v.default.FreeJewel);var e=this.GetCanBuyPos();if(null==e)m.default.instance.setText(-1,l.i18nMgr.getLabel("title193"));else{0==this.teahchNum&&(this.teahchNum=1,this.TeachSp[0].active=!1,this.TeachSp[1].active=!0),_.default.Instance.ChangeJewel(-t);var n=d.default.getArtifactslist();n[e]=this.GetCanBuyLevel(),d.default.setArtifactslist(n),d.default.setBuyCount(),this.CreateArtifacts(this.GetCanBuyLevel(),e),this.GetCanBuyLevel()>d.default.getMaxArtifacts()&&(console.log("\u9996\u6b21\u8d2d\u4e70\u89e3\u9501\u65b0\u6cd5\u5668"),d.default.setMaxArtifacts(this.GetCanBuyLevel()),c.default.instance.initArtifacts(),this.Unlock(),_.default.Instance.ShowUI(v.default.UnlockNewArtifacts),h.default.getSdk().sendEvent("crucialLevel_n",{message:"\u6cd5\u5668\u7b49\u7ea7",level:d.default.getMaxArtifacts()})),h.default.getSdk().sendEvent("crucialBuy_n",{message:"\u6cd5\u5668\u8d2d\u4e70"})}},e.prototype.GetCanBuyPos=function(){for(var t=d.default.getArtifactslist(),e=0;e<t.length;e++){if(0==t[e])return e;if(e==t.length-1)return null}},e.prototype.GetbuyJewel=function(t){void 0===t&&(t=d.default.getBuyCount());var e=this.GetCanBuyLevel();return 100*Math.pow(1.5,e-1)*Math.pow(1.025,t)},e.prototype.GetCanBuyLevel=function(){var t=d.default.getMaxArtifacts()-this.sublevel;return t<=1&&(t=1),t},e.prototype.ClickLeft=function(){p.default.instance.play(p.Sound.Click),this.nowIndex--,this.nowIndex<=1&&(this.nowIndex=1),this.initMainArtifacts()},e.prototype.ClickRight=function(){p.default.instance.play(p.Sound.Click),this.nowIndex++,this.nowIndex>=d.default.getMaxArtifacts()&&(this.nowIndex=d.default.getMaxArtifacts()),this.initMainArtifacts()},e.prototype.Unlock=function(){this.nowIndex=d.default.getMaxArtifacts(),d.default.setNowArtifacts(this.nowIndex),this.initMainArtifacts()},e.prototype.ClickOptions=function(){p.default.instance.play(p.Sound.Click),d.default.setNowArtifacts(this.nowIndex),this.initMainArtifacts()},e.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),_.default.Instance.ShowInter()},r([w(cc.Node)],e.prototype,"TeachSp",void 0),r([w(cc.Prefab)],e.prototype,"prefabs",void 0),r([w(cc.Label)],e.prototype,"addtype",void 0),r([w(cc.Label)],e.prototype,"addnum",void 0),r([C],e)}(b.default);n.default=M,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../Tools/PoolManager":"PoolManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./ArtifactsItem":"ArtifactsItem","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],Artifacts:[function(t,e,n){"use strict";cc._RF.push(e,"22fcbnImw9CrZ67ET5d20kF","Artifacts");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/ArtifactsDataManager"),s=t("../record/GameSys"),c=t("../SkillGroup/Hothalo"),l=t("../SkillGroup/Knife"),u=t("../SkillGroup/Star"),p=t("../UI/FightPanel"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.role=null,e.isOpen=!1,e.isDoSkill=!1,e.time=0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(){this.role=i.default.Instance.GetNowData()},e.prototype.start=function(){this.isOpen=!0,this.isDoSkill=!1,this.time=0},e.prototype.DoSkill=function(){switch(this.isDoSkill=!0,this.role.skillType){case 1:this.Star();break;case 2:this.Cure();break;case 3:this.Hothalo();break;case 4:this.AtkUpBuff();break;case 5:this.Knife()}this.time=0,this.isDoSkill=!1},e.prototype.Knife=function(){for(var t=p.default.instance.GetTeam()[0],e=t.GetPracticalAtk()*this.role.skillnum,n=Math.floor(3*Math.random())+6,a=0;a<n;a++){var o=p.default.instance.CreateKnife();o.setPosition(cc.v2(420,250)),o.getComponent(l.default).initTeamer(0,t,e,a)}},e.prototype.AtkUpBuff=function(){for(var t=p.default.instance.GetTeam(),e=0;e<t.length;e++)t[e].AtkUpBuff(this.role.skillnum)},e.prototype.Hothalo=function(){var t=p.default.instance.CreateHothalo(),e=p.default.instance.GetTeam()[0].GetPracticalAtk()*this.role.skillnum;t.getComponent(c.default).init(e,this)},e.prototype.Cure=function(){for(var t=p.default.instance.GetTeam(),e=0,n=0,a=0;a<t.length;a++)0==e?(e=t[a].role.hp,n=a):t[a].role.hp<e&&(e=t[a].role.hp,n=a);var o=t[n].role.maxhp*this.role.skillnum;t[n].Cure(o)},e.prototype.Star=function(){for(var t=p.default.instance.GetTeam()[0],e=0;e<20;e++){var n,a=p.default.instance.CreateStar();n=t.GetPracticalAtk()*this.role.skillnum,a.getComponent(u.default).init(0,t,e,n)}},e.prototype.Ready=function(){},e.prototype.update=function(t){this.isOpen&&!this.isDoSkill&&this.role&&p.default.instance.GetTeam()[0].role.hp>0&&(this.time+=t*s.default.speed,this.time>=this.role.cd&&this.DoSkill())},r([f],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../SkillGroup/Hothalo":"Hothalo","../SkillGroup/Knife":"Knife","../SkillGroup/Star":"Star","../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],BackGroup:[function(t,e,n){"use strict";cc._RF.push(e,"aca7dG05dJKkpKSiOBrffg7","BackGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/SceneDataManager"),l=t("../record/GameSys"),u=t("../Tools/EventConst"),p=t("../Tools/GameTools"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map1=[],e.map2=[],e.map3=[],e.backgroup3=[],e.backgroup2=[],e.backgroup1=[],e.Map1deviation=[254,205,254],e.Map2deviation=[150,150,150],e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.initMaps(),cc.systemEvent.on(u.EventConst.GameStart,function(){cc.systemEvent.on(u.EventConst.Maps,t.initMaps,t)})},e.prototype.initMaps=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,l,u,d,f,h;return s(this,function(s){switch(s.label){case 0:return[4,c.default.Instance.GetRole()];case 1:switch(t=s.sent(),e=0,n=c.default.Instance.GetAllScene(),t.map){case n[0]:e=t.missonId;break;case n[1]:e=7;break;case n[2]:e=8;break;case n[3]:e=9;break;case n[4]:e=10;break;case n[5]:e=11}return r=(o="Maps/map"+(a=e<10?"0"+e:""+e))+"/map"+a+"_1",(i=p.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,3]:[4,p.default.loadImage("Bundle",r)];case 2:i=s.sent(),s.label=3;case 3:for(h=0;h<this.map1.length;h++)this.map1[h].spriteFrame=i;return l=o+"/map"+a+"_2",(u=p.default.GetRes("Bundle",l,cc.SpriteFrame))?[3,5]:[4,p.default.loadImage("Bundle",l)];case 4:u=s.sent(),s.label=5;case 5:for(h=0;h<this.map2.length;h++)this.map2[h].spriteFrame=u;if(11!=e)return[3,6];for(h=0;h<this.map3.length;h++)this.map3[h].node.active=!1;return[3,9];case 6:for(h=0;h<this.map3.length;h++)this.map3[h].node.active=!0;return d=o+"/map"+a+"_3",(f=p.default.GetRes("Bundle",d,cc.SpriteFrame))?[3,8]:[4,p.default.loadImage("Bundle",d)];case 7:f=s.sent(),s.label=8;case 8:for(h=0;h<this.map3.length;h++)this.map3[h].spriteFrame=f;s.label=9;case 9:return[2]}})})},e.prototype.update=function(t){if(l.default.doMove){for(var e=0;e<this.backgroup3.length;e++){var n=this.backgroup3[e].x;if(n-=100*t,this.backgroup3[e].setPosition(cc.v2(n,this.backgroup3[e].y)),this.backgroup3[e].position.x<=-this.backgroup3[0].width){var a=e+1>=2?0:1,o=this.backgroup3[a].position.x+this.backgroup3[a].width-2;this.backgroup3[e].setPosition(o,this.backgroup3[e].y)}}for(e=0;e<this.backgroup2.length;e++)n=this.backgroup2[e].x,n-=60*t,this.backgroup2[e].setPosition(cc.v2(n,this.backgroup2[e].y)),this.backgroup2[e].position.x<=-this.backgroup2[0].width&&(a=e+1>=2?0:1,o=this.backgroup2[a].position.x+this.backgroup2[a].width-2,this.backgroup2[e].setPosition(o,this.backgroup2[e].y))}},r([h(cc.Sprite)],e.prototype,"map1",void 0),r([h(cc.Sprite)],e.prototype,"map2",void 0),r([h(cc.Sprite)],e.prototype,"map3",void 0),r([h(cc.Node)],e.prototype,"backgroup3",void 0),r([h(cc.Node)],e.prototype,"backgroup2",void 0),r([h(cc.Node)],e.prototype,"backgroup1",void 0),r([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Manager/SceneDataManager":"SceneDataManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],BackSpine:[function(t,e,n){"use strict";cc._RF.push(e,"96d9aYYkedPwIXKbSZiBfKF","BackSpine");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getComponent(sp.Skeleton);t.setAnimation(0,"fuwen",!0),t.setAnimation(1,"yuna",!0),t.setAnimation(2,"yuna2",!0),t.setAnimation(3,"yuna3",!0),t.setAnimation(4,"guangdian",!0)},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],Bane:[function(t,e,n){"use strict";cc._RF.push(e,"60384OJoO1NkYNUgoHovFXn","Bane");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/MagicDataManager"),s=t("../Manager/TeamSkillDataManager"),c=t("../record/GameSys"),l=t("../UI/FightPanel"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=0,e.master=null,e.do=!1,e.time=0,e.count=0,e}return o(e,t),e.prototype.init=function(t,e){this.type=t,this.master=e,this.count=0,this.do=!0},e.prototype.start=function(){},e.prototype.DoBane=function(){if(this.count++,0==this.type){var t=l.default.instance.GetTeam(),e=l.default.instance.GetMonster(),n=c.default.getDisciple()[this.master.discipleIndex],a=s.default.Instance.getSkillToName(n.name)[0].skill,o=i.default.Instance.getMagicLvToName(a.skillName),r=i.default.Instance.getMagicToName(a.skillName,o),u=this.master.GetPracticalAtk()*r.skill;this.master.Cure(u);for(var p=0;p<e.length;p++){var d=this.master.node.getPosition(),f=e[p].node.getPosition();d.sub(f).mag()<=250&&e[p].TheStrike(u,this.master.role.hit,!1,!1,3)}}else if(9==this.type)for(t=l.default.instance.GetTeam(),e=l.default.instance.GetMonster(),u=.1*this.master.role.atk,this.master.Cure(u),p=0;p<e.length;p++)d=this.master.node.getPosition(),f=e[p].node.getPosition(),d.sub(f).mag()<=250&&e[p].TheStrike(u,this.master.role.hit,!1,!1,3);else for(t=l.default.instance.GetTeam(),e=l.default.instance.GetMonster(),u=this.master.role.atk*this.master.fatality.skillNum,this.master.Cure(u),p=0;p<t.length;p++)d=this.master.node.getPosition(),f=t[p].node.getPosition(),d.sub(f).mag()<=250&&t[p].TheStrike(u,this.master.role.hit,!1,!1,3);this.count>=10&&(this.do=!1,c.default.BaneMatrix.restor(this.node))},e.prototype.update=function(t){this.master.isDie()?c.default.BaneMatrix.restor(this.node):l.default.instance.state!=l.FightState.ready?(this.do&&(this.time<=0?(this.time=1,this.DoBane()):this.time-=t*c.default.speed),this.master&&this.node.setPosition(this.master.node.getPosition())):c.default.BaneMatrix.restor(this.node)},r([p],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../Manager/MagicDataManager":"MagicDataManager","../Manager/TeamSkillDataManager":"TeamSkillDataManager","../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],BobState:[function(t,e,n){"use strict";cc._RF.push(e,"bae77pi6W9JXovlsqv3qUJb","BobState"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.move={enter:function(){console.log("move enter")},update:function(e){++e.timeCount>180&&(e.timeCount=0,e.stateMachine.changeState(t.stop))},exit:function(){console.log("move exit")},onMessage:function(){return!1}},t.attack={enter:function(){console.log("attack enter")},update:function(e){++e.timeCount>60&&(e.timeCount=0,e.stateMachine.changeState(t.move))},exit:function(){console.log("attack exit")},onMessage:function(){return!1}},t.stop={enter:function(){console.log("stop enter")},update:function(e){++e.timeCount>120&&(e.timeCount=0,e.stateMachine.changeState(t.attack))},exit:function(){console.log("stop exit")},onMessage:function(){return!1}},t}();n.default=a,cc._RF.pop()},{}],Bob:[function(t,e,n){"use strict";cc._RF.push(e,"4e0f98FquJKnqipciGmlly8","Bob");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./BobState"),s=t("../DefaultStateMachine"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeCount=0,e}return o(e,t),e.prototype.onLoad=function(){this.stateMachine=new s.default(this,i.default.stop)},e.prototype.update=function(){this.stateMachine.update()},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../DefaultStateMachine":"DefaultStateMachine","./BobState":"BobState"}],CallerDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"31c0e7g9JtI0pVJhjbB43e2","CallerDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/Caller"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","guest",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","guest")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.guest=o.guest,r.guestAvatar=o.guestAvatar,r.talkId=o.talkId,r.end1Id=o.end1Id,r.end1Item=o.end1Item,r.item1Name=o.item1Name,r.end1ItemNum=o.end1ItemNum,r.end2Id=o.end2Id,r.end2Item=o.end2Item,r.item2Name=o.item2Name,r.end2ItemNum=o.end2ItemNum,this.allDataList.push(r);return[2]}})})},e.prototype.getData=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},e.prototype.getRandom=function(){var t="",e=0,n=[];l.default.getCallerEvent();for(var a=0;a<l.default.getCallerEvent().length;a++)if(0!=l.default.getCallerEvent()[a].id){var o=this.getData(l.default.getCallerEvent()[a].id);n.push(o.guest)}do{var r=Math.floor(Math.random()*this.allDataList.length);t=this.allDataList[r].guest,e=this.allDataList[r].id}while(-1!=n.indexOf(t));return e},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/Caller":"Caller","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],CallerPanel:[function(t,e,n){"use strict";cc._RF.push(e,"0504cJuAo1LxKKc1a+lwx9C","CallerPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Item/callerItem"),s=t("../record/GameSys"),c=t("./UIBase"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Content=null,e.InterviewNum=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init()},e.prototype.init=function(){for(var t=s.default.getCallerEvent(),e=0;e<this.Content.childrenCount;e++)0!=t[e].id?(this.Content.children[e].active=!0,this.Content.children[e].getComponent(i.default).init(e,this)):this.Content.children[e].active=!1;var n=0;for(e=0;e<t.length;e++)t[e].state&&n++;this.InterviewNum.string=n+"/5"},e.prototype.start=function(){},r([p(cc.Node)],e.prototype,"Content",void 0),r([p(cc.Label)],e.prototype,"InterviewNum",void 0),r([u],e)}(c.default);n.default=d,cc._RF.pop()},{"../Item/callerItem":"callerItem","../record/GameSys":"GameSys","./UIBase":"UIBase"}],CallerTalkDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"a51c8RKLotL+pBV6vSY+/VM","CallerTalkDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/CallerTalk"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","guestTalk",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","guestTalk")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.type=o.type,r.talkId=o.talkId,r.leftAvatar=o.leftAvatar,r.leftName=o.leftName,r.rightName=o.rightName,r.rightAvatar=o.rightAvatar,r.whoTalk=o.whoTalk,r.text=o.text,r.option1=o.option1,r.option2=o.option2,this.allDataList.push(r);return[2]}})})},e.prototype.getGroupTalk=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].talkId==t&&e.push(this.allDataList[n]);return e},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/CallerTalk":"CallerTalk","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],CallerTalk:[function(t,e,n){"use strict";cc._RF.push(e,"870edHAScNNvZGZ/osRfl/F","CallerTalk"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],Caller:[function(t,e,n){"use strict";cc._RF.push(e,"94454tubppJKK0YX2OX0IkF","Caller"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],CartoonPanel:[function(t,e,n){"use strict";cc._RF.push(e,"0eca44LzWlEdLbUvh0mW4Ne","CartoonPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SoundManager"),s=t("../Tools/GameTools"),c=t("./PanelConst"),l=t("./UIBase"),u=t("./UIManager"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Sp1=null,e.Sp2=null,e.transition=null,e.btn=null,e.index=0,e.id=0,e}return o(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.init=function(t){this.id=t,this.index=0,this.transition.node.active=!1,this.Sp1.node.active=!1,this.Sp2.node.active=!1,this.Sp1.node.active=0==t,this.Sp2.node.active=0!=t,this.btn.active=!1,this.ShowCartoon()},e.prototype.ShowCartoon=function(){this.playAnimation()},e.prototype.playAnimation=function(){var t=this;if(this.index++,0==this.id){s.default.getSdk().sendEvent("guide_n",{index:"1-"+this.index});var e="p1_"+this.index;this.Sp1.setAnimation(0,e,!1),this.Sp1.setCompleteListener(function(){t.index>=4?t.btn.active=!0:t.playAnimation()})}else s.default.getSdk().sendEvent("guide_n",{index:"3-"+this.index}),e="p"+this.index,this.Sp2.setAnimation(0,e,!1),this.Sp2.setCompleteListener(function(){t.index>=6?t.btn.active=!0:t.playAnimation()})},e.prototype.ClickOff=function(){var t=this;i.default.instance.play(i.Sound.Click),0==this.id?s.default.getSdk().sendEvent("guide_n",{index:"1-5"}):s.default.getSdk().sendEvent("guide_n",{index:"3-7"}),this.transition.node.active=!0,this.transition.setAnimation(0,"in2",!1),this.transition.setEventListener(function(e,n){"stop"==n.data.name&&(u.default.Instance.ShowUI(c.default.TeachPanel),t.CloseThis())})},e.prototype.ClickSkip=function(){var t=this;i.default.instance.play(i.Sound.Click),s.default.getSdk().sendEvent("guideSkip_n",{message:"\u8df3\u8fc7\u65b0\u624b\u5f15\u5bfc"}),this.transition.node.active=!0,this.transition.setAnimation(0,"in2",!1),this.transition.setEventListener(function(e,n){"stop"==n.data.name&&(s.default.getSdk().sendEvent("guideSkipSuccess_n",{message:"\u8df3\u8fc7\u65b0\u624b\u6210\u529f"}),u.default.Instance.ShowUI(c.default.StartGame),t.CloseThis())})},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([f(sp.Skeleton)],e.prototype,"Sp1",void 0),r([f(sp.Skeleton)],e.prototype,"Sp2",void 0),r([f(sp.Skeleton)],e.prototype,"transition",void 0),r([f(cc.Node)],e.prototype,"btn",void 0),r([d],e)}(l.default);n.default=h,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","./PanelConst":"PanelConst","./UIBase":"UIBase","./UIManager":"UIManager"}],ChallengeLose:[function(t,e,n){"use strict";cc._RF.push(e,"6d258MuvstI/raL89lDPcGT","ChallengeLose");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/GuideDataManager"),s=t("../Manager/SoundManager"),c=t("./PanelConst"),l=t("./TipGroup"),u=t("./UIBase"),p=t("./UIManager"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.callback=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.GoMain=function(){this.CloseThis(),p.default.Instance.GetClass(c.default.TrialsPanel)&&p.default.Instance.GetClass(c.default.TrialsPanel).node.active&&(p.default.Instance.GetClass(c.default.TrialsPanel).node.active=!1),p.default.Instance.ShowGroup(1)},e.prototype.addCallback=function(t){this.callback=t},e.prototype.ClickDisciple=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),i.default.Instance.isUnlcok(22)?p.default.Instance.ShowGroup(3):l.default.instance.setText(-1,i.default.Instance.CanUnlock(22))},e.prototype.ClickPet=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),i.default.Instance.isUnlcok(12)?(p.default.Instance.ShowGroup(1),p.default.Instance.ShowUI(c.default.PET_PANEL)):l.default.instance.setText(-1,i.default.Instance.CanUnlock(12))},e.prototype.ClickArtifacts=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),i.default.Instance.isUnlcok(15)?(p.default.Instance.ShowGroup(0),p.default.Instance.ShowUI(c.default.ARTIFACTS)):l.default.instance.setText(-1,i.default.Instance.CanUnlock(15))},e.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),this.callback&&(this.callback(),this.callback=null)},r([f],e)}(u.default));n.default=h,cc._RF.pop()},{"../Manager/GuideDataManager":"GuideDataManager","../Manager/SoundManager":"SoundManager","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],ChapterDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"d8d410m+jBBEa/lPwOJQL6P","ChapterDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/ChapterData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","chapter",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","chapter")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.mission=o.mission,r.chapter=o.chapter,r.explain=o.explain,this.allDataList.push(r);return[2]}})})},e.prototype.isHaveChapter=function(t){void 0===t&&(t=l.default.getMaxCustoms());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].mission==t)return this.allDataList[e];return null},e.prototype.GetData=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/ChapterData":"ChapterData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],ChapterData:[function(t,e,n){"use strict";cc._RF.push(e,"90231hxZGlNEIfol/1OH1O5","ChapterData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],ChapterSp:[function(t,e,n){"use strict";cc._RF.push(e,"c3018wYURtBypHfyezpAiv+","ChapterSp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/SceneDataManager"),u=t("../Tools/EventConst"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chapterName=null,e.chapterNum=null,e.chapter=null,e.placeName=null,e.Sp=null,e.str=["title304","title294","title295","title296","title297","title298","title299","title300","title301","title302","title303"],e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(u.EventConst.playChapter,this.playChapter,this),cc.systemEvent.on(u.EventConst.playPlace,this.playPlace,this),this.chapter.active=!1,this.placeName.node.active=!1,this.Sp.node.active=!1},e.prototype.playChapter=function(t){var e=this;this.Sp.node.active=!0,this.Sp.setAnimation(0,"zhangjie",!1),this.chapter.active=!0,this.chapter.opacity=0,this.chapter.x=600,this.chapterNum.string=""+c.i18nMgr.getLabel(this.str[t.id]),this.chapterName.string=""+t.chapter,cc.tween(this.chapter).to(.1,{x:0}).start(),cc.tween(this.chapter).to(.1,{opacity:255}).start(),cc.tween(this.chapter).delay(1.65).to(.3,{x:-600}).call(function(){e.Sp.node.active=!1,e.chapter.active=!1}).start()},e.prototype.playPlace=function(t){return i(this,void 0,void 0,function(){var e,n=this;return s(this,function(a){switch(a.label){case 0:return this.Sp.node.active=!0,this.Sp.setAnimation(0,"changjing",!1),[4,l.default.Instance.GetRole()];case 1:return e=a.sent(),this.placeName.string=""+e.map,this.placeName.node.active=!0,this.placeName.node.opacity=0,this.placeName.node.x=600,cc.tween(this.placeName.node).to(.1,{x:0}).start(),cc.tween(this.placeName.node).to(.1,{opacity:255}).start(),cc.tween(this.placeName.node).delay(1.7).to(.3,{x:-600,opacity:0}).call(function(){n.placeName.node.active=!1,n.Sp.node.active=!1,t&&t()}).start(),[2]}})})},e.prototype.start=function(){},r([f(cc.Label)],e.prototype,"chapterName",void 0),r([f(cc.Label)],e.prototype,"chapterNum",void 0),r([f(cc.Node)],e.prototype,"chapter",void 0),r([f(cc.Label)],e.prototype,"placeName",void 0),r([f(sp.Skeleton)],e.prototype,"Sp",void 0),r([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Manager/SceneDataManager":"SceneDataManager","../Tools/EventConst":"EventConst","../i18n/i18nMgr":"i18nMgr"}],CloudRecorder:[function(t,e,n){"use strict";cc._RF.push(e,"28badhYGstHHpT4aK6joGOS","CloudRecorder"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Tools/HttpClient"),o=function(){function t(t,e,n){var a=this;this.data={},this.updateMap={},this.uid=t,e&&(this.data=e),n&&setInterval(function(){console.log("this.flush"),a.flush()},n)}return t.prototype.readData=function(t){if(this.data)return this.data[t]},t.prototype.writeData=function(t,e){this.data[t]=JSON.stringify(e),this.updateMap[t]=1},t.prototype.writeDatas=function(t){for(var e in t)this.writeData(e,t[e]);this.flush()},t.prototype.flush=function(){var t={};for(var e in this.updateMap)1==this.updateMap[e]&&(t[e]=this.data[e],this.updateMap[e]=0);0!=Object.keys(t).length&&a.default.saveData(t)},t}();n.default=o,cc._RF.pop()},{"../Tools/HttpClient":"HttpClient"}],CoinIcon:[function(t,e,n){"use strict";cc._RF.push(e,"86bd36HhidKzakWW3h7pQGr","CoinIcon");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../Tools/GameTools"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.icon=null,e.pos=null,e}return o(e,t),e.prototype.onLoad=function(){this.label=this.node.getChildByName("label").getComponent(cc.Label),this.icon=this.node.getChildByName("icon");var t=cc.find("Canvas").getChildByName("CurrencyGroup").getChildByName("Coin").getChildByName("icon"),e=t.parent.convertToWorldSpaceAR(t.getPosition());this.pos=this.node.parent.convertToNodeSpaceAR(e)},e.prototype.init=function(t){var e=this;this.label.string="\xd7"+s.default.refSetCoin(t),this.label.node.active=!0,this.node.scale=0,cc.tween(this.node).by(.3,{y:50,scale:1},{easing:"backOut"}).delay(1).call(function(){e.label.node.active=!1}).to(.8,{x:this.pos.x,y:this.pos.y},{easing:"outIn"}).call(function(){i.default.CoinIcon.restor(e.node)}).start()},e.prototype.start=function(){},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],CoinOutPutDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"304a8jVJypDHZRB602BvWH5","CoinOutPutDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/CoinOutPutData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./ArtifactsDataManager"),d=t("./HeartDevilDataManager"),f=t("./MagicDataManager"),h=t("./PetDataManager"),y=t("./SingleBase"),g=cc._decorator,v=g.ccclass,m=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","heroLevel",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","heroLevel")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).level=o.level,r.realm=o.info,r.need=o.need,r.crystal=o.getXianjing,r.exchangecrystal=o.exchangeXianjing,r.output=o.output,r.transmigration1Times=o.transmigration1Times,r.transmigration2Times=o.transmigration2Times,r.transmigration3Times=o.transmigration3Times,r.transmigration4Times=o.transmigration4Times,r.transmigration5Times=o.transmigration5Times,r.transmigration6Times=o.transmigration6Times,r.transmigration7Times=o.transmigration7Times,r.transmigration8Times=o.transmigration8Times,r.transmigration9Times=o.transmigration9Times,r.transmigration10Times=o.transmigration10Times,r.transmigration11Times=o.transmigration11Times,r.transmigration12Times=o.transmigration12Times,r.transmigration13Times=o.transmigration13Times,r.transmigration14Times=o.transmigration14Times,r.transmigration15Times=o.transmigration15Times,r.transmigration16Times=o.transmigration16Times,this.allDataList.push(r);return[2]}})})},e.prototype.GetRealm=function(t){void 0===t&&(t=l.default.getLevel());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].realm},e.prototype.GetCrystal=function(t){void 0===t&&(t=l.default.getLevel());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].crystal},e.prototype.GetExchangeCrystal=function(t){void 0===t&&(t=l.default.getLevel());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].exchangecrystal},e.prototype.isCanExchange=function(){return l.default.getLevel()>=61+10*l.default.getReincarnAdd()},e.prototype.GetNeedCoin=function(t){void 0===t&&(t=l.default.getLevel());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].need},e.prototype.IsCanBreak=function(){var t=n.Instance.GetNeedCoin(),e=l.default.getCoin(),a=l.default.getLevel(),o=this.allDataList[this.allDataList.length-1].level;return e>=t&&a<o},e.prototype.BreakOrDisaster=function(){return l.default.getLevel()%10==0?1:0},e.prototype.GetOutPut=function(t){void 0===t&&(t=l.default.getLevel());for(var e=f.default.Instance.getAddOutPut(),n=0,a=0;a<this.allDataList.length;a++){if(this.allDataList[a].level==t){n=this.getTransmigrationOutput(this.allDataList[a]);break}a>=this.allDataList.length-1&&(n=this.getTransmigrationOutput(this.allDataList[a]))}return n*(e+h.default.Instance.getAddOutPut()+p.default.Instance.getAddOutPut()+2*l.default.getReincarnAdd())},e.prototype.GetBaseOutPut=function(t){void 0===t&&(t=l.default.getLevel());for(var e=0,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].level==t){e=this.getTransmigrationOutput(this.allDataList[n]);break}n>=this.allDataList.length-1&&(e=this.getTransmigrationOutput(this.allDataList[n]))}return e},e.prototype.getTransmigrationOutput=function(t){var e=0;switch(l.default.getReincarnCount()){case 0:e=t.output;break;case 1:e=t.transmigration1Times;break;case 2:e=t.transmigration2Times;break;case 3:e=t.transmigration3Times;break;case 4:e=t.transmigration4Times;break;case 5:e=t.transmigration5Times;break;case 6:e=t.transmigration6Times;break;case 7:e=t.transmigration7Times;break;case 8:e=t.transmigration8Times;break;case 9:e=t.transmigration9Times;break;case 10:e=t.transmigration10Times;break;case 11:e=t.transmigration11Times;break;case 12:e=t.transmigration12Times;break;case 13:e=t.transmigration13Times;break;case 14:e=t.transmigration14Times;break;case 15:e=t.transmigration15Times;break;case 16:default:e=t.transmigration16Times}return e},e.prototype.GetNextOutPut=function(){var t=l.default.getLevel()+1;return t>=200&&(t=200),this.GetOutPut(t)},e.prototype.IsCanQuick=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:t=l.default.getCoin(),e=l.default.getLevel(),n=0,a=0,i.label=1;case 1:return n=this.GetNeedCoin(e),t>n&&(a+=1,e+=1),[4,d.default.Instance.isHaveDevil(e)];case 2:if(i.sent())return[3,4];t-=n,i.label=3;case 3:if(t>0)return[3,1];i.label=4;case 4:return o=l.default.getLevel(),a>=(r=10-o%10)&&(a=r),[2,a]}})})},e.prototype.GetRealmColor=function(t){return t<=10?"ffffff":t<=20?"fff9b2":t<=30?"d0ff92":t<=40?"81e47c":t<=50?"79e1ea":t<=60?"82a7f3":t<=70?"b17ff5":t<=80?"f872ed":t<=90?"fa73a9":t<=100?"fc8181":t<=110?"fa8e69":t<=120?"ffca4b":t<=130?"ebf459":t<=140?"6bda9d":t<=150?"41adf2":t<=160?"b5bdfc":t<=170?"ffaffe":t<=180?"ff9daf":t<=190?"e38d72":t<=200?"c0ff5e":void 0},n=r([v],e)}(y.default));n.default=m,cc._RF.pop()},{"../Data/CoinOutPutData":"CoinOutPutData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./ArtifactsDataManager":"ArtifactsDataManager","./HeartDevilDataManager":"HeartDevilDataManager","./MagicDataManager":"MagicDataManager","./PetDataManager":"PetDataManager","./SingleBase":"SingleBase"}],CoinOutPutData:[function(t,e,n){"use strict";cc._RF.push(e,"66b76B+JZFKrK9viuqwbUOy","CoinOutPutData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],CrystalBoxAwardManager:[function(t,e,n){"use strict";cc._RF.push(e,"c15ebEXnbBPIo5vDniUXJC3","CrystalBoxAwardManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/CrystalBoxAward"),l=t("../Data/CrystalBoxRank"),u=t("../Data/CrystalRate"),p=t("../Tools/GameTools"),d=t("./MagicDataManager"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e.ranklist=new Array,e.ratelist=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,d,f,h,y,g;return s(this,function(s){switch(s.label){case 0:return null!=(t=p.default.GetRes("JsonBundle","xianjingBox",cc.JsonAsset))?[3,2]:[4,p.default.loadJson("JsonBundle","xianjingBox")];case 1:return e=s.sent(),[3,3];case 2:e=t.json,s.label=3;case 3:for(n=e.length,h=0;h<n;h++)y=e[h],(g=new c.default).id=y.id,g.num=y.num,g.name=y.name,g.itemId=y.itemId,g.jadeBox=y.jinyuBox,g.freeBox=y.freeBox,g.crystalBox=y.xianjingBox,this.allDataList.push(g);return null!=(a=p.default.GetRes("JsonBundle","xianjingBox_fenji",cc.JsonAsset))?[3,5]:[4,p.default.loadJson("JsonBundle","xianjingBox_fenji")];case 4:return o=s.sent(),[3,6];case 5:o=a.json,s.label=6;case 6:for(r=o.length,h=0;h<r;h++)y=o[h],(g=new l.default).id=y.id,g.num=y.num,g.name=y.name,g.itemId=y.itemId,g.rank1Rate=y.rank1Rate,g.rank2Rate=y.rank2Rate,g.rank3Rate=y.rank3Rate,g.rank4Rate=y.rank4Rate,g.rank5Rate=y.rank5Rate,this.ranklist.push(g);return null!=(i=p.default.GetRes("JsonBundle","xianjingBox_rateIndex",cc.JsonAsset))?[3,8]:[4,p.default.loadJson("JsonBundle","xianjingBox_rateIndex")];case 7:return d=s.sent(),[3,9];case 8:d=i.json,s.label=9;case 9:for(f=d.length,h=0;h<f;h++)y=d[h],(g=new u.default).id=y.id,g.gongfa=y.gongfa,g.rateSheet=y.rateSheet,g.condition=y.condition,this.ratelist.push(g);return[2]}})})},e.prototype.getFreeBox=function(){for(var t=[],e=0;e<this.allDataList.length;e++)this.allDataList[e].freeBox>0&&t.push(this.allDataList[e]);var n=[],a=0;for(e=0;e<t.length;e++)n.push(0),a+=t[e].freeBox;for(var o=0;o<n.length;o++)for(e=0;e<=o;e++)n[o]+=t[e].freeBox;var r=Math.random()*a;for(e=0;e<n.length;e++)if(r<=n[e])return t[e]},e.prototype.getCrystalBox=function(){for(var t="",e=0;e<this.ratelist.length;e++){if(d.default.Instance.getRankMagicNum(this.ratelist[e].gongfa)<=this.ratelist[e].condition){t=this.ratelist[e].rateSheet;break}e==this.ratelist.length-1&&(t=this.ratelist[e].rateSheet)}console.log("\u5f00\u542f\u5bf9\u5e94\u8868\u683c:",t);var n=[];for(e=0;e<this.ranklist.length;e++)switch(t){case"rank1Rate":this.ranklist[e].rank1Rate>0&&((a=new c.default).id=this.ranklist[e].id,a.itemId=this.ranklist[e].itemId,a.name=this.ranklist[e].name,a.num=this.ranklist[e].num,a.crystalBox=this.ranklist[e].rank1Rate,n.push(a));break;case"rank2Rate":this.ranklist[e].rank2Rate>0&&((a=new c.default).id=this.ranklist[e].id,a.itemId=this.ranklist[e].itemId,a.name=this.ranklist[e].name,a.num=this.ranklist[e].num,a.crystalBox=this.ranklist[e].rank2Rate,n.push(a));break;case"rank3Rate":this.ranklist[e].rank3Rate>0&&((a=new c.default).id=this.ranklist[e].id,a.itemId=this.ranklist[e].itemId,a.name=this.ranklist[e].name,a.num=this.ranklist[e].num,a.crystalBox=this.ranklist[e].rank3Rate,n.push(a));break;case"rank4Rate":this.ranklist[e].rank4Rate>0&&((a=new c.default).id=this.ranklist[e].id,a.itemId=this.ranklist[e].itemId,a.name=this.ranklist[e].name,a.num=this.ranklist[e].num,a.crystalBox=this.ranklist[e].rank4Rate,n.push(a));break;case"rank5Rate":var a;this.ranklist[e].rank5Rate>0&&((a=new c.default).id=this.ranklist[e].id,a.itemId=this.ranklist[e].itemId,a.name=this.ranklist[e].name,a.num=this.ranklist[e].num,a.crystalBox=this.ranklist[e].rank5Rate,n.push(a))}var o=[],r=0;for(e=0;e<n.length;e++)o.push(0),r+=n[e].crystalBox;for(var i=0;i<o.length;i++)for(e=0;e<=i;e++)o[i]+=n[e].crystalBox;var s=Math.random()*r;for(e=0;e<o.length;e++)if(s<=o[e])return n[e]},e.prototype.getJadeBox=function(){for(var t=[],e=0;e<this.allDataList.length;e++)this.allDataList[e].jadeBox>0&&t.push(this.allDataList[e]);var n=[],a=0;for(e=0;e<t.length;e++)n.push(0),a+=t[e].jadeBox;for(var o=0;o<n.length;o++)for(e=0;e<=o;e++)n[o]+=t[e].jadeBox;var r=Math.random()*a;for(e=0;e<n.length;e++)if(r<=n[e])return t[e]},n=r([h],e)}(cc.Component));n.default=y,cc._RF.pop()},{"../Data/CrystalBoxAward":"CrystalBoxAward","../Data/CrystalBoxRank":"CrystalBoxRank","../Data/CrystalRate":"CrystalRate","../Tools/GameTools":"GameTools","./MagicDataManager":"MagicDataManager"}],CrystalBoxAward:[function(t,e,n){"use strict";cc._RF.push(e,"82841QanE1G8pzlWfYDcXwf","CrystalBoxAward"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],CrystalBoxManager:[function(t,e,n){"use strict";cc._RF.push(e,"d1348C8dBlDm5YTunEbV4PS","CrystalBoxManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/CrystalBox"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","xianjingBox_expend",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","xianjingBox_expend")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).expend=o.expend,r.openTimes=o.openTimes,this.allDataList.push(r);return[2]}})})},e.prototype.getNeedCrystal=function(){for(var t=l.default.getCrystalBoxOpenCount(),e=0;e<this.allDataList.length;e++){if(this.allDataList[e].openTimes==t)return this.allDataList[e].expend;if(e==this.allDataList.length-1)return this.allDataList[e].expend}},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/CrystalBox":"CrystalBox","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],CrystalBoxRank:[function(t,e,n){"use strict";cc._RF.push(e,"47b96OeO5JCbZ6VrnksboMq","CrystalBoxRank"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],CrystalBoxSp:[function(t,e,n){"use strict";cc._RF.push(e,"5b73935bzFDLI4abnNiHmIJ","CrystalBoxSp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initCrystalBox=function(){cc.systemEvent.emit("initCrystalBox")},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],CrystalBox:[function(t,e,n){"use strict";cc._RF.push(e,"ae4a1Et8HhMA4vaPgtrTtBk","CrystalBox"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],CrystalGiftPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8bf86f2/S1HCbxbVprrpkm6","CrystalGiftPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GiftDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/GameTools"),g=t("./PanelConst"),v=t("./RewardPanel"),m=t("./TipGroup"),b=t("./UIBase"),_=t("./UIManager"),S=cc._decorator,C=S.ccclass,w=S.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Item=[],e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return t.prototype.onEnable.call(this),999999==(e=p.default.Instance.getGift(5)).item1?[3,5]:(this.Item[0].active=!0,n=d.default.Instance.GetProp(e.item1),a="PropIcon/"+n.icon,(o=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("Bundle",a)]);case 1:o=s.sent(),s.label=2;case 2:return this.Item[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.Item[0].getComponent(cc.Sprite).spriteFrame=i,this.Item[0].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item1Num),this.Item[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(c),[3,6];case 5:this.Item[0].active=!1,s.label=6;case 6:return 999999==e.item2?[3,11]:(this.Item[1].active=!0,n=d.default.Instance.GetProp(e.item2),a="PropIcon/"+n.icon,(o=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,8]:[4,y.default.loadImage("Bundle",a)]);case 7:o=s.sent(),s.label=8;case 8:return this.Item[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,10]:[4,y.default.loadImage("Bundle",r)];case 9:i=s.sent(),s.label=10;case 10:return this.Item[1].getComponent(cc.Sprite).spriteFrame=i,this.Item[1].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item2Num),this.Item[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(c),[3,12];case 11:this.Item[1].active=!1,s.label=12;case 12:return 999999==e.item3?[3,17]:(this.Item[2].active=!0,n=d.default.Instance.GetProp(e.item3),a="PropIcon/"+n.icon,(o=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,14]:[4,y.default.loadImage("Bundle",a)]);case 13:o=s.sent(),s.label=14;case 14:return this.Item[2].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,16]:[4,y.default.loadImage("Bundle",r)];case 15:i=s.sent(),s.label=16;case 16:return this.Item[2].getComponent(cc.Sprite).spriteFrame=i,this.Item[2].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item3Num),this.Item[2].getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(c),[3,18];case 17:this.Item[2].active=!1,s.label=18;case 18:return 999999==e.item4?[3,23]:(this.Item[3].active=!0,n=d.default.Instance.GetProp(e.item4),a="PropIcon/"+n.icon,(o=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,20]:[4,y.default.loadImage("Bundle",a)]);case 19:o=s.sent(),s.label=20;case 20:return this.Item[3].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,22]:[4,y.default.loadImage("Bundle",r)];case 21:i=s.sent(),s.label=22;case 22:return this.Item[3].getComponent(cc.Sprite).spriteFrame=i,this.Item[3].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item4Num),this.Item[3].getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(c),[3,24];case 23:this.Item[3].active=!1,s.label=24;case 24:return[2]}})})},e.prototype.CanGetNum=function(t,e){return 1==t.type?u.default.Instance.GetOutPut()*e:2==t.type?l.default.Instance.GetOutPut()*e:e},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),h.default.offcount++,this.CloseThis()},e.prototype.ClickGet=function(){var t=this;f.default.instance.play(f.Sound.Click),y.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=[],999999!=(e=p.default.Instance.getGift(5)).item1&&(n=d.default.Instance.GetProp(e.item1),t.push({prop:n,have:e.item1Num})),999999!=e.item2&&(n=d.default.Instance.GetProp(e.item2),t.push({prop:n,have:e.item2Num})),999999!=e.item3&&(n=d.default.Instance.GetProp(e.item3),t.push({prop:n,have:e.item3Num})),999999!=e.item4&&(n=d.default.Instance.GetProp(e.item4),t.push({prop:n,have:e.item4Num})),[4,_.default.Instance.ShowUI(g.default.RewardPanel)];case 1:return a.sent(),_.default.Instance.GetClass(g.default.RewardPanel).getComponent(v.default).initAsset(t),h.default.setCrystalGift(),this.CloseThis(),[2]}})})},function(){m.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-23)},r([w(cc.Node)],e.prototype,"Item",void 0),r([C],e)}(b.default);n.default=M,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],CrystalRate:[function(t,e,n){"use strict";cc._RF.push(e,"ca33d9knR5Guqd3voFmUXVr","CrystalRate"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],CureMatrix:[function(t,e,n){"use strict";cc._RF.push(e,"da5c36q0StC9pzzlHsgTRjA","CureMatrix");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.type=0,e.master=null,e.do=!1,e.count=0,e.atk=0,e}return o(e,t),e.prototype.init=function(t,e,n){this.type=t,this.master=e,this.count=0,this.time=0,this.atk=n,this.do=!0},e.prototype.start=function(){},e.prototype.Cure=function(){this.count++;var t=s.default.instance.GetTeam(),e=s.default.instance.GetMonster();if(0==this.type){for(var n=0;n<t.length;n++){var a=.02*t[n].role.maxhp;t[n].Cure(a)}for(n=0;n<e.length;n++)e[n].TheStrike(this.atk,this.master.role.hit,!1,!1)}else{for(n=0;n<e.length;n++)a=.02*e[n].role.maxhp,e[n].Cure(a);for(n=0;n<t.length;n++)t[n].TheStrike(this.atk,this.master.role.hit,!1,!1)}this.count>=10&&(this.do=!1,i.default.CureMatrix.restor(this.node))},e.prototype.update=function(t){if(s.default.instance.state==s.FightState.ready)return this.do=!1,void i.default.CureMatrix.restor(this.node);this.do&&(this.time<=0?(this.time=1,this.Cure()):this.time-=t*i.default.speed)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],CurrencyGroup:[function(t,e,n){"use strict";cc._RF.push(e,"a9f3fXKS99DUaS7Al+9kZt6","CurrencyGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../Tools/EventConst"),c=t("../Tools/GameTools"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CoinLabel=null,e.JadeLabel=null,e.CrystalLabel=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(){var t=this;cc.systemEvent.on(s.EventConst.GameStart,function(){t.initCoin(),t.initJade(),t.initCrystal(),cc.systemEvent.on(s.EventConst.Coin,t.initCoin,t),cc.systemEvent.on(s.EventConst.Jade,t.initJade,t),cc.systemEvent.on(s.EventConst.Crystal,t.initCrystal,t)})},e.prototype.initCoin=function(){this.CoinLabel.string=c.default.refSetCoin(i.default.getCoin())},e.prototype.initJade=function(){this.JadeLabel.string=c.default.refSetCoin(i.default.getJade())},e.prototype.initCrystal=function(){this.CrystalLabel.string=c.default.refSetCoin(i.default.getCrystal())},e.prototype.start=function(){},r([p(cc.Label)],e.prototype,"CoinLabel",void 0),r([p(cc.Label)],e.prototype,"JadeLabel",void 0),r([p(cc.Label)],e.prototype,"CrystalLabel",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],CustomArea:[function(t,e,n){"use strict";cc._RF.push(e,"2b958ITdEJJ4LlhIlMzHNeP","CustomArea");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Tools/GameTools"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){this.updateArea(),cc.view.on("canvas-resize",this.updateArea,this)},e.prototype.onDisable=function(){cc.view.off("canvas-resize",this.updateArea,this)},e.prototype.updateArea=function(){var t=this.node.getComponent(cc.Widget);if(t){t.updateAlignment();var e=this.node.position,n=this.node.getAnchorPoint();t.isAlignTop=t.isAlignBottom=t.isAlignLeft=t.isAlignRight=!0;var a=cc.winSize.width,o=cc.winSize.height,r=i.default.getSdk().getMenuButtonBottom(),s=cc.rect(0,0,a,o-r);t.top=o-s.y-s.height,t.bottom=s.y,t.left=s.x,t.right=a-s.x-s.width,t.updateAlignment();var c=this.node.position,l=n.x-(c.x-e.x)/this.node.width,u=n.y-(c.y-e.y)/this.node.height;this.node.setAnchorPoint(l,u)}},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./Tools/GameTools":"GameTools"}],CustomTalkDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"c0d6f5dgehN/ptM8t9Gcy8O","CustomTalkDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/CustomTalkData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","mainStory",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","mainStory")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.rightName=o.rightName,r.rightAvatar=o.rightAvatar,r.mission=o.mission,r.leftName=o.leftName,r.bigMisson=o.bigMisson,r.whoTalk=o.whoTalk,r.text=o.text,r.leftAvatar=o.leftAvatar,r.startOrEnd=o.startOrEnd,this.allDataList.push(r);return[2]}})})},e.prototype.GetGroupTalk=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].mission==t&&e.push(this.allDataList[n]);return e},e.prototype.isHaveTalk=function(t,e){if(void 0===e&&(e=l.default.getMaxCustoms()),l.default.getCustoms()<l.default.getMaxCustoms())return!1;for(var n=0;n<this.allDataList.length;n++)if(this.allDataList[n].mission==e+1&&this.allDataList[n].startOrEnd==t)return!0;return!1},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/CustomTalkData":"CustomTalkData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],CustomTalkData:[function(t,e,n){"use strict";cc._RF.push(e,"448ceLI+0lB2aUz3Aci0IPD","CustomTalkData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],Debuff:[function(t,e,n){"use strict";cc._RF.push(e,"0fe80bF1BRNFLqFVFLg5My7","Debuff");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t){var e=this;this.node.stopAllActions();var n=this.node.getComponent(sp.Skeleton);n.setAnimation(0,"in",!1),n.setCompleteListener(function(){n.setAnimation(0,"loop",!0)});var a=t-.7;cc.tween(this.node).delay(a).call(function(){n.setAnimation(0,"out",!1)}).delay(.3).call(function(){i.default.debuff.restor(e.node)}).start()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../record/GameSys":"GameSys"}],DefaultStateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"78d992pre9KaqzPSIRlj2O2","DefaultStateMachine"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e,n){this.owner=t,this.setInitialState(e),this.setGlobalState(n)}return t.prototype.getOwner=function(){return this.owner},t.prototype.setOwner=function(t){this.owner=t},t.prototype.setInitialState=function(t){this.previousState=null,this.currentState=t},t.prototype.setGlobalState=function(t){this.globalState=t},t.prototype.getCurrentState=function(){return this.currentState},t.prototype.getGlobalState=function(){return this.globalState},t.prototype.getPreviousState=function(){return this.previousState},t.prototype.update=function(){this.globalState&&this.globalState.update(this.owner),this.currentState&&this.currentState.update(this.owner)},t.prototype.changeState=function(t){this.previousState=this.currentState,this.currentState&&this.currentState.exit(this.owner),this.currentState=t,this.currentState&&this.currentState.enter(this.owner)},t.prototype.revertToPreviousState=function(){return!!this.previousState&&(this.changeState(this.previousState),!0)},t.prototype.isInState=function(t){return this.currentState==t},t.prototype.handleMessage=function(t){return!(!this.currentState||!this.currentState.onMessage(this.owner,t))||!(!this.globalState||!this.globalState.onMessage(this.owner,t))},t}();n.default=a,cc._RF.pop()},{}],DetailsStory:[function(t,e,n){"use strict";cc._RF.push(e,"44a0bavhE5EcqahGX3AD1sN","DetailsStory");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/HeroDataManager"),c=t("../Manager/StoryDataManager"),l=t("../record/GameSys"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=null,e.info=null,e.unlock=null,e.unlockInfo=null,e.index=0,e.id=0,e}return o(e,t),e.prototype.onLoad=function(){this.type=this.node.getChildByName("title").getChildByName("type").getComponent(cc.Label),this.info=this.node.getChildByName("info").getComponent(cc.Label),this.unlock=this.node.getChildByName("unlock"),this.unlockInfo=this.unlock.getChildByName("info").getComponent(cc.Label)},e.prototype.init=function(t,e){this.index=t,this.id=e;var n=c.default.Instance.GetStory(e),a=l.default.getDisciple()[e],o=0;switch(t){case 0:o=n.literary1_open;break;case 1:o=n.literary2_open;break;case 2:o=n.literary3_open;break;case 3:o=n.literary4_open;break;case 4:o=n.literary5_open}-1!=o?(this.node.active=!0,a.level>=o?(this.type.string=0==o?i.i18nMgr.getLabel("title194"):s.default.Instance.GetRole(o).realm+i.i18nMgr.getLabel("title195"),this.info.string="      "+n.literary1,this.info.node.active=!0,this.type.node.active=!0,this.unlock.active=!1):(this.info.node.active=!1,this.type.node.active=!1,this.unlock.active=!0,this.unlockInfo.string=""+s.default.Instance.GetRole(o).realm+i.i18nMgr.getLabel("title195"))):this.node.active=!1},r([p],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../Manager/HeroDataManager":"HeroDataManager","../Manager/StoryDataManager":"StoryDataManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],DevilPanel:[function(t,e,n){"use strict";cc._RF.push(e,"54df5PTfiZAY4DEdqpl1CJx","DevilPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../GameGroup/PracticeGroup"),s=t("../i18n/i18nMgr"),c=t("../record/GameSys"),l=t("../Tools/GameTools"),u=t("./TipGroup"),p=t("./UIBase"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.ClickDevil=function(){var t=this;l.default.getSdk().PlatformCallBack("REWARD",function(){c.default.setDevil(0),t.CloseThis(),i.default.instance.DispelDevil()},function(){u.default.instance.setText(-1,s.i18nMgr.getLabel("title148"))},-11)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.update=function(){this.time.string=""+l.default.hour_min_secTimeFuncion(c.default.devil),c.default.devil<=0&&this.CloseThis()},r([h(cc.Label)],e.prototype,"time",void 0),r([f],e)}(p.default);n.default=y,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIBase":"UIBase"}],DisasterPanel:[function(t,e,n){"use strict";cc._RF.push(e,"58bb1Z4xb5OTbMkoUFWYONA","DisasterPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../i18n/i18nMgr"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("./TipGroup"),h=t("./UIBase"),y=cc._decorator,g=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resultSp=[],e.Sp=null,e.spine=null,e.result=null,e.off=null,e.layout=null,e.content=null,e.probability=60,e.isSuccess=!1,e}return o(e,t),e.prototype.onLoad=function(){this.content=this.node.getChildByName("Content"),this.off=this.content.getChildByName("off"),this.spine=this.content.getChildByName("spine").getComponent(sp.Skeleton),this.result=this.content.getChildByName("result").getComponent(sp.Skeleton),this.layout=this.content.getChildByName("layout"),this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},e.prototype.onEnable=function(){var t=this;this.isSuccess=!1,this.probability=p.default.disater,this.content.active=!1,this.result.node.active=!1,this.layout.active=!1,this.off.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"in2",!1),this.Sp.setEventListener(function(e,n){"stop"==n.data.name&&(t.content.active=!0,t.init())}),this.Sp.setCompleteListener(function(){t.Sp.node.active=!1})},e.prototype.init=function(){var t=this;cc.tween(this.spine.node).call(function(){t.spine.setAnimation(0,"1",!1)}).delay(1).call(function(){t.spine.setAnimation(0,"2",!1),t.spine.setEventListener(function(e,n){"2"==t.spine.animation&&("1"==n.stringValue?u.default.instance.play(u.Sound.leidian):"2"==n.stringValue&&u.default.instance.play(u.Sound.leidian))})}).delay(5).call(function(){t.Result()}).start()},e.prototype.Result=function(){var t=!1;100*Math.random()<this.probability?(t=!0,this.isSuccess=!0,d.default.getSdk().sendEvent("heroBaseup",{message:"\u4e3b\u89d2\u6e21\u52ab"})):d.default.getSdk().sendEvent("heroBaseupFail",{message:"\u4e3b\u89d2\u6e21\u52ab\u5931\u8d25"}),this.result.node.active=!0,this.result.skeletonData=t?this.resultSp[0]:this.resultSp[1];var e=t?"dujiechenggong":"newAnimation";this.result.setAnimation(0,e,!1),this.off.active=!!t,this.layout.active=!t},e.prototype.Success=function(){c.default.instance.BreakSuccess()},e.prototype.start=function(){},e.prototype.ClickAgain=function(){var t=this;d.default.getSdk().PlatformCallBack("REWARD",function(){t.result.node.active=!1,t.layout.active=!1,t.off.active=!1,t.Sp.node.active=!0,t.Sp.setAnimation(0,"in2",!1),t.Sp.setEventListener(function(e,n){"stop"==n.data.name&&(t.content.active=!0,t.probability=100,t.init())}),t.Sp.setCompleteListener(function(){t.Sp.node.active=!1})},function(){f.default.instance.setText(-1,l.i18nMgr.getLabel("title148"))},-12)},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){return i(this,void 0,void 0,function(){return s(this,function(){return t.prototype.CloseThis.call(this),this.isSuccess&&c.default.instance.BreakSuccess(!0),[2]})})},r([v(sp.SkeletonData)],e.prototype,"resultSp",void 0),r([g],e)}(h.default);n.default=m,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIBase":"UIBase"}],DiscipleControl:[function(t,e,n){"use strict";cc._RF.push(e,"a2a29YcGU9GarxKdhsY3jvx","DiscipleControl");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../AiBase/AiBase"),l=t("../../Manager/DiscipleDataManager"),u=t("../../Manager/StoryDataManager"),p=t("../../record/GameSys"),d=t("../../Tools/GameTools"),f=t("../AI/AiHang"),h=t("../AI/AiIdle"),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e.time=0,e.speed=1,e.hangTime=5,e.moveSpeed=60,e.color=["#ffffff","#fff9b2","#d0ff92","#81e47c","79e1ea","#82a7f3","#b17ff5","#f872ed","#fa73a9","#fc8181","#fa8e69","#ffca4b","#ebf459","#6bda9d","#41adf2","#b5bdfc","#ffaffe","#ff9daf","e38d72","#c0ff5e","#ffb830"],e}var n;return o(e,t),n=e,e.prototype.setIndex=function(t){this.index=t},e.prototype.onLoad=function(){this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.realmLabel=this.node.getChildByName("realm").getComponent(cc.Label),this.init(),this.initAi()},e.prototype.start=function(){this.ChangeState(n.STATE_HANG)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(r){switch(r.label){case 0:return this.Spine=this.node.getChildByName("Sp").getComponent(sp.Skeleton),t="Spines/disciple/p"+(this.index+1)+"/p"+(this.index+1),null!=(e=d.default.GetRes("Bundle",t,sp.SkeletonData))?[3,2]:[4,d.default.LoadSpinData("Bundle",t)];case 1:e=r.sent(),r.label=2;case 2:return this.Spine.skeletonData=e,n=u.default.Instance.GetStory(this.index+1),this.nameLabel.string=""+n.name,[4,l.default.Instance.GetRole(this.index)];case 3:return a=r.sent(),this.realmLabel.string=""+a.realm,o=Math.ceil(p.default.getDisciple()[this.index].level/10)-1,this.realmLabel.node.color=cc.color().fromHEX(this.color[o]),this.Spine.setAnimation(0,"move",!0),[2]}})})},e.prototype.initAi=function(){var t=new h.default(this,n.STATE_IDLE);this.AddAiState(t);var e=new f.default(this,n.STATE_HANG);this.AddAiState(e)},e.STATE_IDLE=0,e.STATE_HANG=1,n=r([g],e)}(c.default));n.default=v,cc._RF.pop()},{"../../AiBase/AiBase":"AiBase","../../Manager/DiscipleDataManager":"DiscipleDataManager","../../Manager/StoryDataManager":"StoryDataManager","../../Tools/GameTools":"GameTools","../../record/GameSys":"GameSys","../AI/AiHang":"AiHang","../AI/AiIdle":"AiIdle"}],DiscipleDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"cde84kaiuJLP4CXawbPtll/","DiscipleDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/TeamerData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./ArtifactsDataManager"),d=t("./CoinOutPutDataManager"),f=t("./MagicDataManager"),h=t("./SingleBase"),y=t("./StoryDataManager"),g=t("./TeamSkillDataManager"),v=cc._decorator,m=v.ccclass,b=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,l,p;return s(this,function(s){switch(s.label){case 0:this.allDataList=[[],[],[],[]],t=["character_pardner_muling","character_pardner_yimingfeng","character_pardner_hanyueji","character_pardner_mojianli"],e=0,s.label=1;case 1:return e<4?(n=""+t[e],a=u.default.GetRes("JsonBundle",n,cc.JsonAsset),o=void 0,null!=a?[3,3]:[4,u.default.loadJson("JsonBundle",n)]):[3,6];case 2:return o=s.sent(),[3,4];case 3:o=a.json,s.label=4;case 4:for(r=o.length,i=0;i<r;i++)l=o[i],(p=new c.default).id=i,p.type=l.atkType,p.name=l.name,p.hit=l.hit,p.maxmp=l.mp,p.level=l.level,p.realm=l.rank,p.interval=l.atkSpeed,p.atkSpeed=60/p.interval,p.atk=l.atk,p.dodge=l.avoid,p.crit=l.cri,p.maxhp=l.hp,p.hp=l.hp,this.allDataList[e].push(p);s.label=5;case 5:return e++,[3,1];case 6:return[2]}})})},e.prototype.GetJson=function(t){return this.allDataList[t]},e.prototype.GetBasicRole=function(t){for(var e=this.GetJson(t),n=l.default.getDisciple()[t],a=new c.default,o=0;o<e.length;o++){if(e[o].level==n.level){a=e[o];break}if(o>=e.length-1){a=e[o];break}}return{id:a.id,level:a.level,realm:a.realm,hp:a.hp,atk:a.atk,interval:a.interval,atkSpeed:a.atkSpeed,hit:a.hit,dodge:a.dodge,crit:a.crit,maxhp:a.maxhp,maxmp:a.maxmp,name:a.name,injured_anger:a.injured_anger,Shot_anger:a.Shot_anger,type:a.type,time_anger:a.time_anger}},e.prototype.GetSkillToName=function(t){return g.default.Instance.getSkillToName(t)},e.prototype.GetRole=function(t){var e=this.GetBasicRole(t),n={id:e.id,level:e.level,realm:e.realm,hp:e.hp,atk:e.atk,interval:e.interval,atkSpeed:e.atkSpeed,hit:e.hit,dodge:e.dodge,crit:e.crit,maxhp:e.maxhp,maxmp:e.maxmp,name:e.name,injured_anger:e.injured_anger,Shot_anger:e.Shot_anger,type:e.type,time_anger:e.time_anger},a=this.GetAddAtk(t,e);n.atk*=a;var o=this.GetAddHp(t,e);n.hp*=o,n.maxhp=n.hp;var r=this.GetAddCrit(t,e);n.crit+=r;var i=this.GetAddHit(t,e);n.hit+=i;var s=this.GetAddDodge(t,e);return n.dodge+=s,n.atkSpeed=60/n.interval,n},e.prototype.GetFightNum=function(t){var e=this.GetRole(t);return.1*e.hp+e.interval*e.atk/60*.6},e.prototype.IsUnlockSkill=function(t,e){var n=l.default.getDisciple()[t];return this.GetSkillToName(n.name)[e].level>0},e.prototype.GetAddAtk=function(){return(1+p.default.Instance.GetAddAtk())*f.default.Instance.getAddAtk()},e.prototype.GetAddHp=function(){return(1+p.default.Instance.GetAddHp())*f.default.Instance.getAddAtk()},e.prototype.GetAddCrit=function(){return p.default.Instance.GetAddCrit()},e.prototype.GetAddHit=function(){return p.default.Instance.GetAddHit()},e.prototype.GetAddDodge=function(){return p.default.Instance.GetAddDodge()},e.prototype.GetIsUnlock=function(t){return l.default.getDisciple()[t].unlock},e.prototype.IsCanUnlock=function(t){return l.default.getMaxCustoms()>=y.default.Instance.GetStory(t+1).unlock},e.prototype.GetUnlockCoin=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2,d.default.Instance.GetNeedCoin(1)]})})},e.prototype.GetUpCoin=function(t){var e=l.default.getDisciple()[t];return d.default.Instance.GetNeedCoin(e.level)},e.prototype.GetUpFight=function(t){for(var e=l.default.getDisciple(),n=[],a=0;a<e.length;a++)e[a].state&&n.push(a);if(n.length<4)for(var o=4-n.length,r=0;r<o;r++)n.push(-1);return n[t]},e.prototype.GetUpNum=function(){for(var t=l.default.getDisciple(),e=[],n=0;n<t.length;n++)t[n].state&&e.push(n);return e.length},e.prototype.GetUnlockNum=function(){for(var t=l.default.getDisciple(),e=0,n=0;n<t.length;n++)t[n].unlock&&e++;return e},e.prototype.GetLevelNum=function(t){for(var e=l.default.getDisciple(),n=0,a=0;a<e.length;a++)e[a].unlock&&e[a].level>=t&&n++;return n},e.prototype.GetAllUnlockDisciples=function(){for(var t=l.default.getDisciple(),e=[],n=0;n<t.length;n++)t[n].unlock&&e.push(n);return e},e.prototype.isHaveCanUp=function(){for(var t=l.default.getCoin(),e=!1,n=0;n<4;n++)this.GetIsUnlock(n)&&t>=this.GetUpCoin(n)&&(e=!0);return e},e.prototype.GetMaxLv=function(){for(var t=l.default.getLevel(),e=l.default.getDisciple(),n=t,a=0;a<e.length;a++)e[a].level>n&&(n=e[a].level);return n},n=r([m],e)}(h.default));n.default=b,cc._RF.pop()},{"../Data/TeamerData":"TeamerData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./ArtifactsDataManager":"ArtifactsDataManager","./CoinOutPutDataManager":"CoinOutPutDataManager","./MagicDataManager":"MagicDataManager","./SingleBase":"SingleBase","./StoryDataManager":"StoryDataManager","./TeamSkillDataManager":"TeamSkillDataManager"}],DiscipleGroup:[function(t,e,n){"use strict";cc._RF.push(e,"edf55avOKBJmqPF/bXNg7SD","DiscipleGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/DiscipleDataManager"),p=t("../Manager/HeroDataManager"),d=t("../Manager/MagicDataManager"),f=t("../Manager/PropDataManager"),h=t("../Manager/SoundManager"),y=t("../Manager/StoryDataManager"),g=t("../Manager/TeamSkillDataManager"),v=t("../record/GameSys"),m=t("../Tools/EventConst"),b=t("../Tools/GameTools"),_=t("../UI/MagicUpPanel"),S=t("../UI/PanelConst"),C=t("../UI/StoryPanel"),w=t("../UI/TipGroup"),M=t("../UI/UIBase"),P=t("../UI/UIManager"),k=t("../UI/UnlockDisciple"),I=cc._decorator,T=I.ccclass,G=I.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MagicLayout=null,e.Name=null,e.role=null,e.fightnum=null,e.jiantou=null,e.upSpdi=null,e.upSp=null,e.guideSp=null,e.atkType=null,e.type=null,e.Message=null,e.disciple_card_red=[],e.FightLabel=null,e.AtkLabel=[],e.HpLabel=[],e.SpeedLabel=[],e.HitLabel=[],e.DodegLabel=[],e.CritLabel=[],e.Card=[],e.BreakBtn=null,e.BreakNum=null,e.UnlockBtn=null,e.UnlockNum=null,e.Paint=null,e.Level=null,e.index=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){cc.systemEvent.on(m.EventConst.Coin,this.initProgress,this),cc.systemEvent.on(m.EventConst.Coin,this.initRed,this)},e.prototype.onEnable=function(){this.init(),this.initProgress()},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,p,h,m,_,S,C,w,M,P,k,I,T,G,O,A,R,D,x,B,L;return s(this,function(s){switch(s.label){case 0:return t=u.default.Instance.GetBasicRole(this.index),e=u.default.Instance.GetRole(this.index),n=u.default.Instance.GetFightNum(this.index),this.AtkLabel[0].getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(t.atk)),this.AtkLabel[1].getComponent(cc.Label).string="+"+b.default.refSetCoin(Math.floor(e.atk-t.atk)),this.HpLabel[0].getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(t.hp)),this.HpLabel[1].getComponent(cc.Label).string="+"+b.default.refSetCoin(Math.floor(e.hp-t.hp)),this.SpeedLabel[0].getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(t.interval)),this.SpeedLabel[1].getComponent(cc.Label).string="+"+b.default.refSetCoin(Math.floor(e.interval-t.interval)),this.FightLabel.getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(n)),this.fightnum.string=b.default.refSetCoin(Math.floor(n)),this.CritLabel[0].getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(t.crit))+"%",this.CritLabel[1].getComponent(cc.Label).string="+"+b.default.refSetCoin(Math.floor(e.crit-t.crit))+"%",this.DodegLabel[0].getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(t.dodge))+"%",this.DodegLabel[1].getComponent(cc.Label).string="+"+b.default.refSetCoin(Math.floor(e.dodge-t.dodge))+"%",this.HitLabel[0].getComponent(cc.Label).string=b.default.refSetCoin(Math.floor(t.hit))+"%",this.HitLabel[1].getComponent(cc.Label).string="+"+b.default.refSetCoin(Math.floor(e.hit-t.hit))+"%",a=y.default.Instance.GetStory(this.index+1),o="Painting/"+a.paint,r=b.default.GetRes("Bundle",o,cc.SpriteFrame),i=null,r?(i=r,[3,3]):[3,1];case 1:return[4,b.default.loadImage("Bundle",o)];case 2:i=s.sent(),s.label=3;case 3:this.Paint.spriteFrame=i,p=u.default.Instance.GetIsUnlock(this.index),this.Paint.node.color=p?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#000000"),this.Name.string=""+a.name,h=["title176","title175","title176","title175"],m=["title177","title178","title178","title179"],this.atkType.string=c.i18nMgr.getLabel(h[this.index]),this.type.string=c.i18nMgr.getLabel(m[this.index]),this.Level.string=t.realm,T=0,s.label=4;case 4:return T<this.Card.length?(_=u.default.Instance.GetIsUnlock(T),S=this.Card[T].getChildByName("mask"),this.Card[T].getChildByName("title").active=_,C=u.default.Instance.GetBasicRole(T),(w=this.Card[T].getChildByName("realm").getComponent(cc.Label)).string=_?C.realm:"",w.node.color=_?cc.color().fromHEX(l.default.Instance.GetRealmColor(C.level)):cc.color().fromHEX("#FFFFFF"),M=this.Card[T].getChildByName("name").getComponent(cc.Label),P="",_?(M.string=y.default.Instance.GetStory(T+1).name,M.node.color=cc.color().fromHEX("#FFFFFF"),S.active=!1,P="Card/daoyou-"+(T+1)):(k=u.default.Instance.IsCanUnlock(T),S.active=!k,M.string=k?c.i18nMgr.getLabel("title305"):c.i18nMgr.getLabel("unlock"),M.node.color=k?cc.color().fromHEX("#41DA2C"):cc.color().fromHEX("#FFFFFF"),S.getChildByName("unlockinfo").getComponent(cc.Label).string=y.default.Instance.GetStory(T+1).unlockInfo,P="Card/daoyou-0"),this.Card[T].getChildByName("on").active=T==this.index,(I=b.default.GetRes("SpriteBundle1",P,cc.SpriteFrame))?[3,6]:[4,b.default.loadImage("SpriteBundle1",P)]):[3,8];case 5:I=s.sent(),s.label=6;case 6:this.Card[T].getChildByName("frame").getComponent(cc.Sprite).spriteFrame=I,s.label=7;case 7:return T++,[3,4];case 8:T=0,s.label=9;case 9:return T<this.MagicLayout.childrenCount?(G=this.MagicLayout.children[T],O=v.default.getDisciple()[this.index],A=g.default.Instance.getSkillToName(O.name),G.getChildByName("lvcontent").getChildByName("lv").getComponent(cc.Label).string="Lv."+A[T].level,G.getChildByName("lvcontent").active=A[T].level>0,G.getChildByName("unlock").active=0==A[T].level,G.getChildByName("name").getComponent(cc.Label).string=""+c.i18nMgr.getLabel(A[T].skill.code),R=G.getChildByName("icon"),D=d.default.Instance.getMagicidToName(A[T].skill.skillName),x=f.default.Instance.getMagicProp(D),B="PropIcon/"+x.icon,(L=b.default.GetRes("Bundle",B,cc.SpriteFrame))?[3,11]:[4,b.default.loadImage("Bundle",B)]):[3,13];case 10:L=s.sent(),s.label=11;case 11:R.getComponent(cc.Sprite).spriteFrame=L,s.label=12;case 12:return T++,[3,9];case 13:return[2]}})})},e.prototype.ClickRole=function(){this.role.active?(this.role.active=!1,this.fightnum.node.parent.active=!0,this.jiantou.node.angle=90):(this.role.active=!0,this.fightnum.node.parent.active=!1,this.jiantou.node.angle=-90)},e.prototype.initProgress=function(){var t=u.default.Instance.GetUpCoin(this.index),e=u.default.Instance.GetIsUnlock(this.index);if(e)this.BreakBtn.active=!0,this.UnlockBtn.active=!e,this.BreakNum.string=""+b.default.refSetCoin(t),v.default.getCoin()>=t?b.default.ResetGrayAllNode(this.BreakBtn):b.default.SetGrayAllNode(this.BreakBtn);else{this.BreakBtn.active=!1;var n=u.default.Instance.IsCanUnlock(this.index);this.UnlockBtn.active=n,this.UnlockNum.string=""+b.default.refSetCoin(t),v.default.getCoin()>=t?b.default.ResetGrayAllNode(this.UnlockBtn):b.default.SetGrayAllNode(this.UnlockBtn)}},e.prototype.ShowGuide=function(){},e.prototype.ClickUnlock=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return h.default.instance.play(h.Sound.Click),t=u.default.Instance.GetUpCoin(this.index),v.default.getCoin()<t?(w.default.instance.setText(-1,c.i18nMgr.getLabel("title128")),[2,P.default.Instance.ShowUI(S.default.FreeCoin)]):[3,1];case 1:return this.upSpdi.setAnimation(0,"lvupdi",!1),this.upSp.setAnimation(0,"lvup3",!1),cc.systemEvent.emit(m.EventConst.ShowMask),P.default.Instance.ChangeCoin(-t),(e=v.default.getDisciple())[this.index].unlock=!0,e[this.index].state=!0,v.default.setDisciple(e),this.init(),this.initProgress(),cc.systemEvent.emit(m.EventConst.HideMask),[4,P.default.Instance.ShowUI(S.default.UnlockDisciple)];case 2:n.sent(),P.default.Instance.GetClass(S.default.UnlockDisciple).getComponent(k.default).init(this.index),n.label=3;case 3:return[2]}})})},e.prototype.ClickBreak=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return h.default.instance.play(h.Sound.Click),t=u.default.Instance.GetUpCoin(this.index),v.default.getCoin()<t?(w.default.instance.setText(-1,c.i18nMgr.getLabel("title128")),[2,P.default.Instance.ShowUI(S.default.FreeCoin)]):[3,1];case 1:return(e=v.default.getDisciple())[this.index].level>=200?(w.default.instance.setText(-1,c.i18nMgr.getLabel("title129")),[2]):(cc.systemEvent.emit(m.EventConst.ShowMask),this.upSpdi.setAnimation(0,"lvupdi",!1),this.upSp.setAnimation(0,"lvup3",!1),[4,p.default.Instance.GetMaxFight()]);case 2:switch(n=a.sent(),e[this.index].level++,v.default.setDisciple(e),P.default.Instance.MaxFightChange(n),h.default.instance.play(h.Sound.SkillUp),P.default.Instance.ChangeCoin(-t),this.init(),this.initProgress(),cc.systemEvent.emit(m.EventConst.HideMask),this.index){case 0:b.default.getSdk().sendEvent("partner1Level",{message:"\u957f\u5b59\u6b62\u8377\u7b49\u7ea7",level:e[this.index].level}),b.default.getSdk().sendEvent("partner1Levelup",{message:"\u957f\u5b59\u6b62\u8377\u7a81\u7834"});break;case 1:b.default.getSdk().sendEvent("partner2Level",{message:"\u95fb\u51b7\u8749\u7b49\u7ea7",level:e[this.index].level}),b.default.getSdk().sendEvent("partner2Levelup",{message:"\u95fb\u51b7\u8749\u7a81\u7834"});break;case 2:b.default.getSdk().sendEvent("partner3Level",{message:"\u51e4\u5929\u6b23\u7b49\u7ea7",level:e[this.index].level}),b.default.getSdk().sendEvent("partner3Levelup",{message:"\u51e4\u5929\u6b23\u7a81\u7834"});break;case 3:b.default.getSdk().sendEvent("partner4Level",{message:"\u71d5\u9e3f\u6b4c\u7b49\u7ea7",level:e[this.index].level}),b.default.getSdk().sendEvent("partner4Levelup",{message:"\u71d5\u9e3f\u6b4c\u7a81\u7834"})}a.label=3;case 3:return[2]}})})},e.prototype.ClickCard=function(t,e){var n=parseInt(e);this.index=n,this.guideSp.active&&this.ShowGuide(2),this.init(),this.initProgress(),this.initRed()},e.prototype.ClickStory=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return h.default.instance.play(h.Sound.Click),[4,P.default.Instance.ShowUI(S.default.StoryPanel)];case 1:return t.sent(),b.default.getSdk().sendEvent("btn_all_n",{message:"\u9053\u53cb\u5178\u6545"}),P.default.Instance.GetClass(S.default.StoryPanel).getComponent(C.default).init(this.index),[2]}})})},e.prototype.ClickSkill=function(t,e){return i(this,void 0,void 0,function(){var t,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:h.default.instance.play(h.Sound.Click),t=parseInt(e),n=v.default.getDisciple()[this.index],a=g.default.Instance.getSkillToName(n.name),o=a[t].skill.skillName,r=d.default.Instance.getAllMagic(),i=0,s.label=1;case 1:return i<r.length?r[i]!=o?[3,3]:[4,P.default.Instance.ShowUI(S.default.MagicUpPanel)]:[3,4];case 2:return s.sent(),P.default.Instance.GetClass(S.default.MagicUpPanel).getComponent(_.default).init(i),[3,4];case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.ClickEquip=function(){return i(this,void 0,void 0,function(){return s(this,function(){return h.default.instance.play(h.Sound.Click),u.default.Instance.GetIsUnlock(this.index)?[2]:(w.default.instance.setText(-1,c.i18nMgr.getLabel("title130")),[2])})})},e.prototype.initRed=function(){for(var t=v.default.getCoin(),e=0;e<this.disciple_card_red.length;e++){var n=!1;if(u.default.Instance.GetIsUnlock(e))t>=u.default.Instance.GetUpCoin(e)&&(n=!0);else{var a=u.default.Instance.IsCanUnlock(e),o=u.default.Instance.GetUpCoin(e);a&&t>=o&&(n=!0)}this.disciple_card_red[e].active=n}},e.prototype.ClickOff=function(){h.default.instance.play(h.Sound.Click),this.CloseThis(),P.default.Instance.ShowInter()},e.instance=null,r([G(cc.Node)],e.prototype,"MagicLayout",void 0),r([G(cc.Label)],e.prototype,"Name",void 0),r([G(cc.Node)],e.prototype,"role",void 0),r([G(cc.Label)],e.prototype,"fightnum",void 0),r([G(cc.Sprite)],e.prototype,"jiantou",void 0),r([G(sp.Skeleton)],e.prototype,"upSpdi",void 0),r([G(sp.Skeleton)],e.prototype,"upSp",void 0),r([G(cc.Node)],e.prototype,"guideSp",void 0),r([G(cc.Label)],e.prototype,"atkType",void 0),r([G(cc.Label)],e.prototype,"type",void 0),r([G(cc.Node)],e.prototype,"Message",void 0),r([G(cc.Node)],e.prototype,"disciple_card_red",void 0),r([G(cc.Label)],e.prototype,"FightLabel",void 0),r([G(cc.Label)],e.prototype,"AtkLabel",void 0),r([G(cc.Label)],e.prototype,"HpLabel",void 0),r([G(cc.Label)],e.prototype,"SpeedLabel",void 0),r([G(cc.Label)],e.prototype,"HitLabel",void 0),r([G(cc.Label)],e.prototype,"DodegLabel",void 0),r([G(cc.Label)],e.prototype,"CritLabel",void 0),r([G(cc.Node)],e.prototype,"Card",void 0),r([G(cc.Node)],e.prototype,"BreakBtn",void 0),r([G(cc.Label)],e.prototype,"BreakNum",void 0),r([G(cc.Node)],e.prototype,"UnlockBtn",void 0),r([G(cc.Label)],e.prototype,"UnlockNum",void 0),r([G(cc.Sprite)],e.prototype,"Paint",void 0),r([G(cc.Label)],e.prototype,"Level",void 0),n=r([T],e)}(M.default);n.default=O,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Manager/StoryDataManager":"StoryDataManager","../Manager/TeamSkillDataManager":"TeamSkillDataManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/MagicUpPanel":"MagicUpPanel","../UI/PanelConst":"PanelConst","../UI/StoryPanel":"StoryPanel","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../UI/UnlockDisciple":"UnlockDisciple","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],DoublePanel:[function(t,e,n){"use strict";cc._RF.push(e,"11c1cyrfW9CMp4KTsljlwRt","DoublePanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/SoundManager"),c=t("../Tools/GameTools"),l=t("./TipGroup"),u=t("./UIBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.init=function(t){this.Callback=t},e.prototype.start=function(){},e.prototype.ClickNo=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},e.prototype.ClickYes=function(){var t=this;s.default.instance.play(s.Sound.Click),c.default.getSdk().PlatformCallBack("REWARD",function(){t.Callback(),t.CloseThis()},function(){l.default.instance.setText(-1,i.i18nMgr.getLabel("title148"))},-14)},r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase"}],DrugDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"8457aJRggVB/KaUWrLizQbu","DrugDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/DrugData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./PropDataManager"),d=t("./SingleBase"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","danyao",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","danyao")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.name=o.name,r.info=o.context,r.output=o.ouput,r.needtime=o.useTime,r.unlock=o.unlockDialog,r.level=o.level,this.allDataList.push(r);return[2]}})})},e.prototype.GetDrug=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},e.prototype.isUnlock=function(t){var e=this.GetDrug(t+1);return"999999"==e.unlock||l.default.getMaxCustoms()>=e.level},e.prototype.needUseDrug=function(t){for(var e=p.default.Instance.GetPackPropType(5),n=0;n<e.length;n++)for(var a=n;a<e.length;a++)if(e[a].prop.index<e[n].prop.index){var o=e[n];e[n]=e[a],e[a]=o}var r=0,i=[0,0,0,0,0,0];for(n=0;n<e.length;n++)for(var s=this.GetDrug(e[n].prop.index),c=e[n].have,l=0;l<c&&(r+=s.output,i[e[n].prop.index-1]+=1,!(r>=t));l++);return r>=t?{isUp:!0,drug:i}:{isUp:!1,drug:i}},n=r([h],e)}(d.default));n.default=y,cc._RF.pop()},{"../Data/DrugData":"DrugData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./PropDataManager":"PropDataManager","./SingleBase":"SingleBase"}],DrugData:[function(t,e,n){"use strict";cc._RF.push(e,"e0103WNzLdPKak1ZDCPF4pM","DrugData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],Eddy:[function(t,e,n){"use strict";cc._RF.push(e,"1bd24G3UDRJCqM50KI6LSc/","Eddy");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.open=!1,e.Count=0,e.time=0,e.interval=1,e.callbak=null,e.master=null,e}return o(e,t),e.prototype.init=function(t,e){this.open=!0,this.Count=0,this.time=0,this.callbak=e,this.master=t},e.prototype.update=function(t){s.default.instance.state==s.FightState.ready&&(this.Count=0,this.time=0,this.open=!1,i.default.Eddy.restor(this.node)),this.open&&(this.time+=t,this.time>=this.interval/i.default.speed&&(this.callbak(),this.Count++,this.time=0,this.Count>=10&&(this.Count=0,this.time=0,this.open=!1,i.default.Eddy.restor(this.node))))},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],EquipDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"39c4c70fbpO85MyY/pntbhQ","EquipDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/EquipData"),l=t("../Tools/GameTools"),u=t("./DiscipleDataManager"),p=t("./PropDataManager"),d=t("./SingleBase"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e.newequip=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","Jsons/Equip",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","Jsons/Equip")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.name=o.name,r.type=o.type,r.level=o.level,r.hp=o.hp,r.atk=o.atk,r.speed=o.speed,r.hit=o.hit,r.dodge=o.dodge,r.crit=o.crit,r.mp=o.mp,r.fight=o.fight,r.adapt=o.adapt,this.allDataList.push(r);return[2]}})})},e.prototype.GetEquip=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].id==t&&(e=this.allDataList[n]);return e},e.prototype.GetEquipAdd=function(t,e){var a=p.default.Instance.GetOnEquip(t,e);return a?n.Instance.GetEquip(a.goodsid):null},e.prototype.isHaveCanOn=function(t,e){var n,a=p.default.Instance.GetOnEquip(t,e),o=2==t||4==t||0==t?0:1;if(n=p.default.Instance.GetOptimalEquip(e,o)){if(a){var r=this.GetEquip(a.goodsid),i=this.GetEquip(n.goodsid);return!(r.fight>=i.fight)}return!0}return!1},e.prototype.AddNewEquip=function(t){1==t.prop.type&&this.newequip.push(t)},e.prototype.GetNewEquip=function(){var t=this.newequip[0];if(!t)return{isCan:!1,userid:0,propdata:t};for(var e=n.Instance.GetEquip(t.prop.goodsid),a=0;a<5;a++){var o=p.default.Instance.GetOnEquip(a,e.type);if(0==a||u.default.Instance.GetIsUnlock(a-1)){var r=2==a||4==a||0==a?0:1;if(o){var i=n.Instance.GetEquip(o.goodsid);if(i){if(i.adapt==e.adapt&&e.fight>i.fight)return{isCan:!0,userid:a,propdata:t}}else if(e.adapt==r)return{isCan:!0,userid:a,propdata:t}}else if(e.adapt==r)return{isCan:!0,userid:a,propdata:t}}}return{isCan:!1,userid:0,propdata:t}},e.prototype.SubNewEquip=function(t){this.newequip.splice(0,1),this.newequip.length<=0?t(!1):t(!0)},n=r([h],e)}(d.default));n.default=y,cc._RF.pop()},{"../Data/EquipData":"EquipData","../Tools/GameTools":"GameTools","./DiscipleDataManager":"DiscipleDataManager","./PropDataManager":"PropDataManager","./SingleBase":"SingleBase"}],EquipData:[function(t,e,n){"use strict";cc._RF.push(e,"7bcce5pcwxFVqesCLxjm55E","EquipData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.adapt=0},cc._RF.pop()},{}],EventConst:[function(t,e,n){"use strict";cc._RF.push(e,"5247dt095VN24yorHaDl1P6","EventConst");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.EventConst=void 0;var i=cc._decorator,s=i.ccclass,c=i.property;(function(t){t.EV_REFRESH_BUILD_DATA="EV_REFRESH_BUILD_DATA",t.EV_REFRESH_DISCIPLE_DATA="EV_REFRESH_DISCIPLE_DATA",t.Coin="Coin",t.Jewel="Jewel",t.Crystal="Crystal",t.Jade="Jade",t.EV_UNLOCK_NEW_DISCIPLE="EV_UNLOCK_NEW_DISCIPLE",t.EV_UNLOCK_NEW_BUILDER="EV_UNLOCK_NEW_BUILDER",t.GAME_BG_TOUCH_START="GAME_BG_TOUCH_START",t.GAME_BG_TOUCH_END="GAME_BG_TOUCH_END",t.GAME_BG_TOUCH_CANCEL="GAME_BG_TOUCH_CANCEL",t.GAME_BG_TOUCH_WHEEL="GAME_BG_TOUCH_WHEEL",t.GAME_BG_TOUCH_MOVE="GAME_BG_TOUCH_MOVE",t.GAME_CHESS_MOVE="GAME_CHESS_MOVE",t.GAME_CHESS_END="GAME_CHESS_END",t.Game_Fight_initSkill="Game_Fight_initSkill",t.Game_Fight_changeMp="Game_Fight_changeMp",t.Game_Fight_changeHp="Game_Fight_changeHp",t.Game_Fight_skill="Game_Fight_skill",t.Game_FIght_allTeamCure="Game_FIght_allTeamCure",t.GameStart="GameStart",t.Game_Up="Game_Up",t.Game_Guide="Game_Guide",t.Game_Build="Game_Build",t.Shop_Ref="Shop_Ref",t.Maps="Maps",t.Landmark="Landmark",t.UnlockRoam="UnlockRoam",t.initChessPos="initChessPos",t.initUpNum="initUpNum",t.initTips="initTips",t.CanUpEquip="CanUpEquip",t.CanUpSkill="CanUpSkill",t.initFight="initFight",t.playChapter="playChapter",t.playPlace="playPlace",t.Recorder="Recorder",t.initMagic="initMagic",t.ShowMask="ShowMask",t.HideMask="HideMask",t.RefGarden="RefGarden",t.GardenPanlt="GardenPanlt",t.GardenGet="GardenGet",t.HideTeacher="HideTeacher",t.SkillTeacher="SkillTeacher",t.playCoinSp="playCoinSp",t.ShowCoinToUp="ShowCoinToUp",t.PlayEat="PlayEat",t.initBtn="initBtn",t.RefGardenItem="RefGardenItem"})(n.EventConst||(n.EventConst={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return o(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],EveryDayData:[function(t,e,n){"use strict";cc._RF.push(e,"85a03FnzsxHtIckq8blqU+v","EveryDayData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],EveryDayItem:[function(t,e,n){"use strict";cc._RF.push(e,"87797ZpY/dHVagvaavDayDz","EveryDayItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.info=this.node.getChildByName("info").getComponent(cc.RichText),this.icon=this.node.getChildByName("assect").getChildByName("icon").getComponent(cc.Sprite),this.reward=this.node.getChildByName("assect").getChildByName("num").getComponent(cc.Label),this.prop=this.node.getChildByName("prop").getChildByName("icon").getComponent(cc.Sprite),this.propnum=this.node.getChildByName("prop").getChildByName("num").getComponent(cc.Label),this.propname=this.node.getChildByName("prop").getChildByName("type").getComponent(cc.Label),this.getBtn=this.node.getChildByName("get"),this.goBtn=this.node.getChildByName("go")},e.prototype.init=function(){},e.prototype.start=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],EveryDayManager:[function(t,e,n){"use strict";cc._RF.push(e,"9a3df/iUP5NwLMocIA+EzGX","EveryDayManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/EveryDayData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","dailyQuest",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","dailyQuest")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.color=o.color,r.precondition=o.condition,r.info=o.name,r.needtime=o.needTime,r.rewadType=o.awardId,r.award=o.awardNum,this.allDataList.push(r);return[2]}})})},e.prototype.GetData=function(t){return this.allDataList[t]},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/EveryDayData":"EveryDayData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],EveryDayTask:[function(t,e,n){"use strict";cc._RF.push(e,"7d610dGMfxON6w5X+kdq2Dy","EveryDayTask");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/EveryDayManager"),d=t("../Manager/SoundManager"),f=t("../record/GameSys"),h=t("../Tools/GameTools"),y=t("./TipGroup"),g=t("./UIManager"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e.banner=null,e.type=null,e.info=null,e.awardSprite=null,e.awardLabel=null,e.awardType=null,e.startBtn=null,e.timeNode=null,e.time=null,e.getBtn=null,e.overBtn=null,e.index=0,e.task=null,e.curpannel=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){},e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r;return s(this,function(i){switch(i.label){case 0:switch(this.curpannel=e,this.task=p.default.Instance.GetData(t),this.task.color){case"\u767d":this.type.string=""+c.i18nMgr.getLabel("title196"),this.banner.color=cc.color().fromHEX("#FFFFFF");break;case"\u9ec4":this.type.string=""+c.i18nMgr.getLabel("title197"),this.banner.color=cc.color().fromHEX("#D6DBEE");break;case"\u7ea2":this.type.string=""+c.i18nMgr.getLabel("title198"),this.banner.color=cc.color().fromHEX("#E5E4C8")}return this.info.string=""+this.task.info,this.awardType.string=1==this.task.rewadType?c.i18nMgr.getLabel("title202"):c.i18nMgr.getLabel("title203"),n=0,1!=this.task.rewadType?[3,2]:[4,u.default.Instance.GetOutPut()];case 1:return n=i.sent()*this.task.award,[3,3];case 2:n=l.default.Instance.GetOutPut()*this.task.award,i.label=3;case 3:return this.awardLabel.string=h.default.refSetCoin(n),a=1==this.task.rewadType?"PropIcon/money_lingqi":"PropIcon/money_lingshi",o=h.default.GetRes("Bundle",a,cc.SpriteFrame),r=null,o?(r=o,[3,6]):[3,4];case 4:return[4,h.default.loadImage("Bundle",a)];case 5:r=i.sent(),i.label=6;case 6:return this.awardSprite.spriteFrame=r,[2]}})})},e.prototype.initBtn=function(){var t=f.default.getEveryDay()[this.index];0==t.state?(this.startBtn.active||(this.startBtn.active=!0),this.timeNode.active=!1,this.getBtn.active=!1,this.overBtn.active=!1):1==t.state?t.time>0?(this.timeNode.active||(this.timeNode.active=!0),this.startBtn.active=!1,this.getBtn.active=!1,this.overBtn.active=!1,this.time.string=""+h.default.hour_min_secTimeFuncion(t.time)):(this.getBtn.active||(this.getBtn.active=!0),this.node.setSiblingIndex(0),this.startBtn.active=!1,this.timeNode.active=!1,this.overBtn.active=!1):(this.overBtn.active||(this.overBtn.active=!0,this.node.active=!1),this.startBtn.active=!1,this.timeNode.active=!1,this.getBtn.active=!1)},e.prototype.ClickOpen=function(){d.default.instance.play(d.Sound.Click),this.ShowSp();for(var t=f.default.getEveryDay(),e=0,n=0;n<t.length;n++)1==t[n].state&&(e+=1);if(e>=4)y.default.instance.setText(-1,c.i18nMgr.getLabel("title204"));else{if(0!=this.task.precondition&&2!=t[this.task.precondition-1].state){var a=p.default.Instance.GetData(this.task.precondition-1).info;return void y.default.instance.setText(-1,c.i18nMgr.getLabel("title205")+a)}switch(t[this.index].state=1,t[this.index].time=60*this.task.needtime,f.default.setEveryDay(t),this.curpannel.initEveryDay(),this.task=p.default.Instance.GetData(this.index),this.task.color){case"\u767d":h.default.getSdk().sendEvent("task_n",{message:"1\u666e\u901a\u4efb\u52a1"});break;case"\u9ec4":h.default.getSdk().sendEvent("task_n",{message:"2\u4e2d\u7ea7\u4efb\u52a1"});break;case"\u7ea2":h.default.getSdk().sendEvent("task_n",{message:"3\u9ad8\u7ea7\u4efb\u52a1"})}}},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return d.default.instance.play(d.Sound.Click),this.ShowSp(),(t=f.default.getEveryDay())[this.index].state=2,t[this.index].time=0,f.default.setEveryDay(t),e=0,1!=this.task.rewadType?[3,2]:[4,u.default.Instance.GetOutPut()];case 1:return e=n.sent()*this.task.award,g.default.Instance.ChangeCoin(e),[3,3];case 2:e=l.default.Instance.GetOutPut()*this.task.award,g.default.Instance.ChangeJewel(e),n.label=3;case 3:return this.curpannel.initEveryDay(),f.default.setEveryDayCount(),[2]}})})},e.prototype.update=function(){this.task&&this.initBtn()},e.prototype.ShowSp=function(){var t=this;this.sp.node.active=!0,this.sp.setAnimation(0,"fengshang",!1),this.sp.setCompleteListener(function(){t.sp.node.active=!1})},r([b(sp.Skeleton)],e.prototype,"sp",void 0),r([b(cc.Node)],e.prototype,"banner",void 0),r([b(cc.Label)],e.prototype,"type",void 0),r([b(cc.Label)],e.prototype,"info",void 0),r([b(cc.Sprite)],e.prototype,"awardSprite",void 0),r([b(cc.Label)],e.prototype,"awardLabel",void 0),r([b(cc.Label)],e.prototype,"awardType",void 0),r([b(cc.Node)],e.prototype,"startBtn",void 0),r([b(cc.Node)],e.prototype,"timeNode",void 0),r([b(cc.Label)],e.prototype,"time",void 0),r([b(cc.Node)],e.prototype,"getBtn",void 0),r([b(cc.Node)],e.prototype,"overBtn",void 0),r([b({displayName:"\u7f16\u53f7",type:cc.Float})],e.prototype,"index",void 0),r([m],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/EveryDayManager":"EveryDayManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIManager":"UIManager"}],ExpeditionGroup:[function(t,e,n){"use strict";cc._RF.push(e,"af3afn2zs5Cia9URiO/+ojy","ExpeditionGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Item/expeditionItem"),u=t("../Manager/GuideDataManager"),p=t("../Manager/PropDataManager"),d=t("../Manager/SceneDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../UI/FightPanel"),v=t("../UI/PanelConst"),m=t("../UI/RewardPanel"),b=t("../UI/TipGroup"),_=t("../UI/UIBase"),S=t("../UI/UIManager"),C=t("./PracticeGroup"),w=cc._decorator,M=w.ccclass,P=w.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TrialBtn=null,e.CustomsLabel=null,e.ResetLabel=null,e.FightBtn=null,e.OffBtn=null,e.ScrollView=null,e.ContentArray=[],e.MapName=null,e.MopCount=null,e.NodeArray=[],e}return o(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.ContentArray.length;t++)for(var e=0;e<this.ContentArray[t].childrenCount;e++)this.NodeArray.push(this.ContentArray[t].children[e]);this.ScrollEvent(),cc.systemEvent.on(y.EventConst.Maps,this.init,this)},e.prototype.onEnable=function(){5==C.default.instance.teacherid&&this.showTeaher(),this.init()},e.prototype.init=function(){this.ResetLabel.string="("+h.default.getReset()+"/1)",this.MopCount.string="("+h.default.getExpeditionMop()+"/1)";var t=d.default.Instance.GetRole(h.default.getCustoms());this.CustomsLabel.string=""+t.missonName+t.rankId;for(var e=d.default.Instance.getMissonArray(),n=0;n<this.NodeArray.length;n++)n<e.length?this.NodeArray[n].getComponent(l.default).init(e[n]):this.NodeArray[n].active=!1},e.prototype.ClickFighting=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return f.default.instance.play(f.Sound.Click),[4,S.default.Instance.ShowUI(v.default.FightPanel)];case 1:return t.sent(),S.default.Instance.GetClass(v.default.FightPanel).getComponent(g.default).OpenChallenge(),this.hideTeacher(),[2]}})})},e.prototype.ClickReset=function(){f.default.instance.play(f.Sound.Click),h.default.getMaxCustoms()<=105?b.default.instance.setText(-1,c.i18nMgr.getLabel("title131")):0==h.default.getReset()?b.default.instance.setText(-1,c.i18nMgr.getLabel("title132")):(h.default.setReset(),h.default.setCustoms(1),b.default.instance.setText(-1,c.i18nMgr.getLabel("title133")),this.init())},e.prototype.ClickMop=function(){return i(this,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:return f.default.instance.play(f.Sound.Click),h.default.getMaxCustoms()<=105?(b.default.instance.setText(-1,c.i18nMgr.getLabel("title134")),[2]):0!=h.default.getExpeditionMop()?[3,1]:(b.default.instance.setText(-1,c.i18nMgr.getLabel("title135")),[3,3]);case 1:for(h.default.setExpeditionMop(),t=[],e=1;e<=h.default.getMaxCustoms();e++)999999!=(n=d.default.Instance.GetRole(e)).item1&&(a=p.default.Instance.GetCoinProp(),t.push({prop:a,have:n.item1Num})),999999!=n.item2&&(a=p.default.Instance.GetProp(n.item2),t.push({prop:a,have:n.item2Num})),999999!=n.item3&&(a=p.default.Instance.GetProp(n.item3),t.push({prop:a,have:n.item3Num}));return[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 2:o.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t),h.default.setCustoms(h.default.getMaxCustoms()),this.init(),o.label=3;case 3:return[2]}})})},e.prototype.ClickTrial=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return f.default.instance.play(f.Sound.Click),u.default.Instance.isUnlcok(26)?[4,S.default.Instance.ShowUI(v.default.TrialsPanel)]:[3,2];case 1:return t.sent(),[3,3];case 2:b.default.instance.setText(-1,u.default.Instance.CanUnlock(26)),t.label=3;case 3:return[2]}})})},e.prototype.ScrollEvent=function(){for(var t=0;t<this.ContentArray.length;t++)for(var e=this.ContentArray[t].parent.convertToWorldSpaceAR(this.ContentArray[t].getPosition()),n=e.y>-this.ContentArray[t].height&&e.y<this.ContentArray[t].height,a=this.ContentArray[t].getComponentsInChildren(cc.RenderComponent),o=0;o<a.length;o++)a[o].enabled=n,n&&(this.MapName.string=d.default.Instance.getMap(t))},e.prototype.showTeaher=function(){S.default.Instance.GuideHand.active=!0,this.FightBtn.parent.getComponent(cc.Widget).updateAlignment();var t=null;switch(C.default.instance.teacherid){case 5:case 6:t=this.FightBtn;break;case 26:t=this.TrialBtn;break;case 27:t=this.FightBtn}var e=t.parent.convertToWorldSpaceAR(t.getPosition()),n=S.default.Instance.GuideHand.parent.convertToNodeSpaceAR(e);S.default.Instance.GuideHand.setPosition(n)},e.prototype.showTeacherOff=function(t){this.callback=t,S.default.Instance.GuideHand.active=!0;var e=this.OffBtn,n=e.parent.convertToWorldSpaceAR(e.getPosition()),a=S.default.Instance.GuideHand.parent.convertToNodeSpaceAR(n);S.default.Instance.GuideHand.setPosition(a)},e.prototype.hideTeacher=function(){S.default.Instance.GuideHand.active=!1},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.callback&&(this.hideTeacher(),this.callback(),this.callback=null)},r([P(cc.Node)],e.prototype,"TrialBtn",void 0),r([P(cc.Label)],e.prototype,"CustomsLabel",void 0),r([P(cc.Label)],e.prototype,"ResetLabel",void 0),r([P(cc.Node)],e.prototype,"FightBtn",void 0),r([P(cc.Node)],e.prototype,"OffBtn",void 0),r([P(cc.ScrollView)],e.prototype,"ScrollView",void 0),r([P(cc.Node)],e.prototype,"ContentArray",void 0),r([P(cc.Label)],e.prototype,"MapName",void 0),r([P(cc.Label)],e.prototype,"MopCount",void 0),r([M],e)}(_.default);n.default=k,cc._RF.pop()},{"../Item/expeditionItem":"expeditionItem","../Manager/GuideDataManager":"GuideDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SceneDataManager":"SceneDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../UI/FightPanel":"FightPanel","../UI/PanelConst":"PanelConst","../UI/RewardPanel":"RewardPanel","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PracticeGroup":"PracticeGroup"}],FightPanel:[function(t,e,n){"use strict";cc._RF.push(e,"3cd60niP9hOkIQkOFnHZdK5","FightPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.FightState=void 0;var c,l=t("../Animation/SkillUi"),u=t("../GameGroup/Artifacts"),p=t("../GameGroup/Monster"),d=t("../GameGroup/player"),f=t("../GameGroup/PracticeGroup"),h=t("../GameGroup/Teamer"),y=t("../i18n/i18nMgr"),g=t("../Manager/ArtifactsDataManager"),v=t("../Manager/CoinOutPutDataManager"),m=t("../Manager/CustomTalkDataManager"),b=t("../Manager/DiscipleDataManager"),_=t("../Manager/GuideDataManager"),S=t("../Manager/HeroDataManager"),C=t("../Manager/PetDataManager"),w=t("../Manager/PropDataManager"),M=t("../Manager/SceneDataManager"),P=t("../Manager/SoundManager"),k=t("../Manager/TrialsDataManager"),I=t("../record/GameSys"),T=t("../Tools/EventConst"),G=t("../Tools/GameTools"),O=t("./fightTxt"),A=t("./NewresultPanel"),R=t("./PanelConst"),D=t("./RewardPanel"),x=t("./TalkPanel"),B=t("./TipGroup"),L=t("./UIBase"),N=t("./UIManager"),E=cc._decorator,j=E.ccclass,F=E.property;(function(t){t[t.ready=0]="ready",t[t.fight=1]="fight",t[t.challenge=2]="challenge",t[t.Trials=3]="Trials",t[t.roam=4]="roam"})(c=n.FightState||(n.FightState={}));var U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Automatic=null,e.TeamHp=null,e.MonsterHp=null,e.Backgroup=[],e.SkillUi=null,e.playitem=[],e.WaveLabel=null,e.Skill=[],e.FightNumLabel=null,e.CustomsLabel=null,e.LabelContent=null,e.TeamContent=null,e.MonsterContent=null,e.Down=null,e.Up=null,e.Artifacts=null,e.StartSp=null,e.Blash=null,e.ChallengeContent=null,e.ChangeLv=null,e.CustomesIcon=null,e.CustomesIconSp=[],e.interval=.5,e.state=1,e.time=2,e.team=[],e.teamData=[],e.monsterData=[],e.startpos=[],e.Point=[],e.SceneData=null,e.wave=1,e.maxwave=1,e.nowlevel=1,e.fightType=0,e.RoamData=null,e.over=!1,e.reward=[],e.playernum=0,e.isStart=!1,e.maxfightnum=0,e.allmonsterhp=0,e.maxmonsterhp=0,e.allteamhp=0,e.maxteamhp=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){var t=this;n.instance=this,this.initStartpos(),cc.systemEvent.on(T.EventConst.SkillTeacher,function(){6==f.default.instance.teacherid&&(t.TeacherCallback(),N.default.Instance.GuideHand.active=!1,f.default.instance.teacherid=-1,setTimeout(function(){n.instance.teamData[0].ManualSkill(0)},1e3))}),cc.systemEvent.on(T.EventConst.Maps,this.initMaps,this),cc.systemEvent.on(T.EventConst.Game_Fight_changeHp,this.ChangeAllHp,this)},e.prototype.onEnable=function(){this.initAutomatic()},e.prototype.initAutomatic=function(){I.default.getAutomatic()?G.default.ResetGrayAllNode(this.Automatic):G.default.SetGrayAllNode(this.Automatic)},e.prototype.initMaps=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c,l,u,p;return s(this,function(s){switch(s.label){case 0:return[4,M.default.Instance.GetRole()];case 1:switch(t=s.sent(),e=0,n=M.default.Instance.GetAllScene(),t.map){case n[0]:e=t.missonId;break;case n[1]:e=7;break;case n[2]:e=8;break;case n[3]:e=9;break;case n[4]:e=10;break;case n[5]:e=11}return r=(o="Maps/map"+(a=e<10?"0"+e:""+e))+"/map"+a+"_1",(i=G.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,3]:[4,G.default.loadImage("Bundle",r)];case 2:i=s.sent(),s.label=3;case 3:return this.Backgroup[0].spriteFrame=i,c=o+"/map"+a+"_2",(l=G.default.GetRes("Bundle",c,cc.SpriteFrame))?[3,5]:[4,G.default.loadImage("Bundle",c)];case 4:l=s.sent(),s.label=5;case 5:return this.Backgroup[1].spriteFrame=l,11!=e?[3,6]:(this.Backgroup[2].node.active=!1,[3,9]);case 6:return this.Backgroup[2].node.active=!0,u=o+"/map"+a+"_3",(p=G.default.GetRes("Bundle",u,cc.SpriteFrame))?[3,8]:[4,G.default.loadImage("Bundle",u)];case 7:p=s.sent(),s.label=8;case 8:this.Backgroup[2].spriteFrame=p,s.label=9;case 9:return[2]}})})},e.prototype.ChangeAllHp=function(t,e){0==t?this.allteamhp+=e:this.allmonsterhp+=e,this.initMessage()},e.prototype.start=function(){},e.prototype.init=function(){this.time=0,this.state=c.ready,this.SceneData=M.default.Instance.GetRole(),this.maxwave=M.default.Instance.GetMaxWave(),this.initMessage(),this.initTeam(),this.initSkill()},e.prototype.initStartpos=function(){this.startpos=[];for(var t=0;t<this.TeamContent.childrenCount;t++)this.startpos.push(this.TeamContent.children[t].getPosition())},e.prototype.initUp=function(){this.team=[],this.team.push({type:0,id:0}),this.team.push({type:1,id:C.default.Instance.GetPetid()});for(var t=[0,1,2,3],e=0;e<4;e++)this.team.push({type:2,id:I.default.getDisciple()[e].state?t[e]:-1})},e.prototype.initMessage=function(){if(this.TeamHp.fillRange=this.allteamhp/this.maxteamhp,this.MonsterHp.fillRange=this.allmonsterhp/this.maxmonsterhp,2!=this.fightType){this.FightNumLabel.string=y.i18nMgr.getLabel("title206")+G.default.refSetCoin(Math.floor(this.maxfightnum)),this.WaveLabel.string=y.i18nMgr.getLabel("title207")+this.wave+"/"+this.maxwave;var t=M.default.Instance.GetRole(I.default.getCustoms()+1),e=M.default.Instance.GetSceneAllCustoms(t.missonName).length;this.CustomsLabel.string=t.missonName+"("+t.rankId+"/"+e+")"}else k.default.Instance.GetRole(),this.FightNumLabel.string=y.i18nMgr.getLabel("title206")+G.default.refSetCoin(Math.floor(this.maxfightnum)),this.WaveLabel.string=y.i18nMgr.getLabel("title207")+this.wave+"/"+this.maxwave,this.CustomsLabel.string=""+y.i18nMgr.getLabel("title208")+I.default.getMaxTier()+y.i18nMgr.getLabel("title243")},e.prototype.initTeam=function(t){void 0===t&&(t=!0),this.playernum=0,this.maxfightnum=0,this.initUp(),this.teamData=[],this.allteamhp=0,this.maxteamhp=0;for(var e=0;e<this.team.length;e++){if(-1==this.team[e].id)this.TeamContent.children[e].active=!1;else{this.TeamContent.children[e].active=!0;var n=this.TeamContent.children[e].getComponent(h.default),a=null;0==e?(a=S.default.Instance.GetRole(),this.maxfightnum+=S.default.Instance.GetFightNum()):1==e?(a=C.default.Instance.GetRole(),this.maxfightnum+=C.default.Instance.GetFightNum()):(a=b.default.Instance.GetRole(this.team[e].id),this.maxfightnum+=b.default.Instance.GetFightNum(this.team[e].id)),this.allteamhp+=a.maxhp,this.maxteamhp=this.allteamhp,e<=1?n.init(e,a):n.init(e,a,this.team[e].id),this.teamData.push(n)}t&&this.TeamContent.children[e].setPosition(this.startpos[e])}},e.prototype.initMonster=function(){this.monsterData=[],this.MonsterContent.destroyAllChildren();var t=0;this.allmonsterhp=0,this.maxmonsterhp=0,(t=1==this.fightType?M.default.Instance.GetMonsterNum(this.wave,I.default.getCustoms()+1):2*M.default.Instance.GetMonsterNum(this.wave))>=6&&(t=6),this.Formations(t);for(var e=0;e<t;e++){var n=this.CreateMontser();if(n.setPosition(this.Point[e]),this.state==c.fight?n.x+=500:n.x+=425,M.default.Instance.GetWave(this.wave)<6){var a=null;a=1==this.fightType?M.default.Instance.GetMonsterRole(this.wave,I.default.getCustoms()+1):M.default.Instance.GetMonsterRole(this.wave),this.allmonsterhp+=a.maxhp,this.maxmonsterhp=this.allmonsterhp,n.getComponent(p.default).init(e,a),n.scale=1}else{var o=0;1==this.fightType?(o=M.default.Instance.GetBossNum(1,I.default.getCustoms()+1),M.default.Instance.GetBossNum(2,I.default.getCustoms()+1)):(o=M.default.Instance.GetBossNum(1),M.default.Instance.GetBossNum(2)),a=null,a=1==this.fightType?e<o?M.default.Instance.GetBossRole(1,I.default.getCustoms()+1):M.default.Instance.GetBossRole(2,I.default.getCustoms()+1):e<o?M.default.Instance.GetBossRole(1):M.default.Instance.GetBossRole(2),this.allmonsterhp+=a.maxhp,this.maxmonsterhp=this.allmonsterhp,n.getComponent(p.default).init(e,a),n.scale=1.5}this.monsterData.push(n.getComponent(p.default))}},e.prototype.initTrialsMonster=function(){this.monsterData=[],this.MonsterContent.destroyAllChildren();var t=0;this.allmonsterhp=0,this.maxmonsterhp=0,(t=k.default.Instance.GetMonsterNum(this.wave))>=6&&(t=6),this.Formations(t);for(var e=0;e<t;e++){var n=this.CreateMontser();n.setPosition(this.Point[e]),this.state==c.fight?n.x+=500:n.x+=425;var a,o=null;if(k.default.Instance.GetWave(this.wave)<6)o=k.default.Instance.GetMonsterRole(this.wave);else a=k.default.Instance.GetBossNum(1),k.default.Instance.GetBossNum(2),e<a?(o=k.default.Instance.GetBossRole(1),n.scale=1):(o=k.default.Instance.GetBossRole(2),n.scale=1.5);this.allmonsterhp+=o.maxhp,this.maxmonsterhp=this.allmonsterhp,n.getComponent(p.default).init(e,o),this.monsterData.push(n.getComponent(p.default))}},e.prototype.initRoamMonster=function(){return i(this,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:this.monsterData=[],this.MonsterContent.destroyAllChildren(),(t=this.RoamData.enemyNum+this.RoamData.bossNum)>=6&&(t=6),this.allmonsterhp=0,this.maxmonsterhp=0,this.Formations(t),e=0,o.label=1;case 1:return e<t?((n=this.CreateMontser()).setPosition(this.Point[e]),this.state==c.fight?n.x+=500:n.x+=425,a=null,e<this.RoamData.enemyNum?[4,M.default.Instance.GetMonsterRole(this.wave)]:[3,3]):[3,7];case 2:return(a=o.sent()).name=this.RoamData.enemy,this.allmonsterhp+=a.maxhp,this.maxmonsterhp=this.allmonsterhp,n.getComponent(p.default).init(e,a),this.MonsterContent.children[e].scale=1,[3,5];case 3:return[4,M.default.Instance.RandomGetBoss()];case 4:(a=o.sent()).name=this.RoamData.boss,this.allmonsterhp+=a.maxhp,this.maxmonsterhp=this.allmonsterhp,n.getComponent(p.default).init(e,a),this.MonsterContent.children[e].scale=1.5,o.label=5;case 5:this.monsterData.push(n.getComponent(p.default)),o.label=6;case 6:return e++,[3,1];case 7:return[2]}})})},e.prototype.Activate=function(){for(var t=0;t<this.teamData.length;t++)this.teamData[t].Ready()},e.prototype.GetReward=function(){var t=this.SceneData,e=[];if(999999!=t.item1){var n=w.default.Instance.GetCoinProp();e.push({prop:n,have:t.item1Num})}999999!=t.item2&&(n=w.default.Instance.GetProp(t.item2),e.push({prop:n,have:t.item2Num})),999999!=t.item3&&(n=w.default.Instance.GetProp(t.item3),e.push({prop:n,have:t.item3Num}));for(var a=0;a<e.length;a++)if(1==e[a].prop.type){var o=v.default.Instance.GetOutPut()*e[a].have;N.default.Instance.GetCoin(o)}else 2==e[a].prop.type?(o=g.default.Instance.GetOutPut()*e[a].have,N.default.Instance.GetJewel(o)):w.default.Instance.addPack([e[a]]);this.Showbalance()},e.prototype.Showbalance=function(){return i(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,N.default.Instance.ShowUI(R.default.NEWRESULT_PANEL)];case 1:return e.sent(),N.default.Instance.GetClass(R.default.NEWRESULT_PANEL).getComponent(A.default).init(this.reward,function(e){t.reward=[],e?(t.time=0,t.state=c.ready,t.fightType=0,t.Challenge()):(t.time=0,t.state=c.ready,t.fightType=0,t.CloseThis())}),[2]}})})},e.prototype.Challenge=function(){this.nowlevel=I.default.getCustoms()+1,this.state!=c.fight&&this.state!=c.ready||this.OpenChallenge()},e.prototype.Roaminit=function(t,e,n){this.RoamData=t,this.success=e,this.fail=n,this.OpenRoam()},e.prototype.initCustomes=function(){I.default.getCustoms();var t,e,n=[0,0,0,0,0],a=M.default.Instance.GetNowPlace();e=(t=M.default.Instance.GetRole().rankId)<=2?t-1:a.length-t>=2?2:3-(a.length-t);for(var o=0;o<4;o++){var r=o-e;n[o]=t+r}for(o=0;o<this.CustomesIcon.childrenCount;o++){var i=this.CustomesIcon.children[o].getComponent(cc.Sprite);if(this.CustomesIcon.children[o].getChildByName("level").getComponent(cc.Label).string=""+n[o],n[o]==t)i.spriteFrame=this.CustomesIconSp[0];else if(n[o]==t+1)i.spriteFrame=this.CustomesIconSp[1];else{var s=a[n[o]-1].boss1Num>0;i.spriteFrame=s?this.CustomesIconSp[2]:this.CustomesIconSp[0]}}},e.prototype.OpenChallenge=function(t){return void 0===t&&(t=!0),i(this,void 0,void 0,function(){var e,n,a,o=this;return s(this,function(){for(P.default.instance.play(P.Sound.BGM3),this.initCustomes(),I.default.doMove=!1,this.fightType=1,this.state=c.challenge,e=0;e<this.teamData.length;e++)this.teamData[e].node.stopAllActions();return n=function(){return i(o,void 0,void 0,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:for(e=this.GetTeam(),r=0;r<e.length;r++)e[r].ChangeState(h.default.STATE_DIE);for(n=this.GetMonster(),r=0;r<n.length;r++)n[r].ChangeState(p.default.STATE_DIE);return a=this,[4,M.default.Instance.GetRole(I.default.getCustoms()+1)];case 1:return a.SceneData=i.sent(),o=this,[4,M.default.Instance.GetMaxWave(I.default.getCustoms()+1)];case 2:return o.maxwave=i.sent(),t?(G.default.getSdk().sendEvent("challengeMisson",{message:"\u6311\u6218\u5173\u5361",customes:I.default.getCustoms()+1}),this.ClearUpAndDown(),this.wave=1,this.initTeam(),[4,this.initArtifacts()]):[3,4];case 3:for(i.sent(),r=0;r<this.playitem.length;r++)this.playitem[r].init();i.label=4;case 4:return[4,this.initMonster()];case 5:return i.sent(),this.initSkill(),[4,this.initMessage()];case 6:return i.sent(),[2]}})})},a=function(){return i(o,void 0,void 0,function(){var e=this;return s(this,function(){return t?(this.StartSp.node.active=!0,this.StartSp.setAnimation(0,"start",!1),this.playChallengelv(),this.StartSp.setCompleteListener(function(){return i(e,void 0,void 0,function(){var t,e,n,a=this;return s(this,function(){if(1==I.default.getMaxCustoms()&&this.teamData[0].setAngle(100),this.StartSp.node.active=!1,this.over=!1,6==f.default.instance.teacherid)this.showTeacherSkill(),this.TeacherCallback=function(){for(var t=a.GetMonster(),e=0;e<t.length;e++)t[e].getComponent(p.default).Ready();var n=a.GetTeam();for(e=0;e<n.length;e++)n[e].getComponent(h.default).Ready();a.Artifacts.node.getComponent(u.default).Ready()};else if(27==f.default.instance.teacherid)this.showTeacherAuto(),this.TeacherCallback=function(){for(var t=a.GetMonster(),e=0;e<t.length;e++)t[e].getComponent(p.default).Ready();var n=a.GetTeam();for(e=0;e<n.length;e++)n[e].getComponent(h.default).Ready();a.Artifacts.node.getComponent(u.default).Ready()};else{for(t=this.GetMonster(),n=0;n<t.length;n++)t[n].getComponent(p.default).Ready();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].getComponent(h.default).Ready();this.Artifacts.node.getComponent(u.default).Ready()}return[2]})})})):(this.StartSp.node.active=!0,this.StartSp.setAnimation(0,"start",!1),this.StartSp.setCompleteListener(function(){return i(e,void 0,void 0,function(){var t,e,n;return s(this,function(){for(this.StartSp.node.active=!1,this.over=!1,t=this.GetMonster(),n=0;n<t.length;n++)t[n].getComponent(p.default).Ready();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].getComponent(h.default).Ready();return this.Artifacts.node.getComponent(u.default).Ready(),[2]})})})),[2]})})},t?(this.Blash.node.active=!0,this.Blash.setAnimation(0,"in",!1),this.Blash.setEventListener(function(t,e){"stop"==e.data.name&&n()}),this.Blash.setCompleteListener(function(){return i(o,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.Instance.isHaveTalk(1)?[4,N.default.Instance.ShowUI(R.default.TalkPanel)]:[3,2];case 1:return t.sent(),N.default.Instance.GetClass(R.default.TalkPanel).getComponent(x.default).initCustoms(I.default.getCustoms()+1,1,function(){a()}),[3,3];case 2:a(),t.label=3;case 3:return this.Blash.node.active=!1,[2]}})})})):(n(),a()),[2]})})},e.prototype.OpenTrials=function(t){return void 0===t&&(t=!0),i(this,void 0,void 0,function(){var e,n,a,o=this;return s(this,function(r){switch(r.label){case 0:for(P.default.instance.play(P.Sound.BGM3),n=0;n<this.teamData.length;n++)this.teamData[n].node.stopAllActions();for(e=this.GetTeam(),n=0;n<e.length;n++)e[n].ChangeState(h.default.STATE_DIE);return this.over=!1,this.fightType=2,this.state=c.Trials,this.maxwave=k.default.Instance.GetMaxWave(),t?(this.wave=1,this.ClearUpAndDown(),[4,this.initTeam()]):[3,3];case 1:return r.sent(),[4,this.initArtifacts()];case 2:for(r.sent(),n=0;n<this.playitem.length;n++)this.playitem[n].init();r.label=3;case 3:return this.initSkill(),[4,this.initMessage()];case 4:return r.sent(),[4,this.initTrialsMonster()];case 5:return r.sent(),this.StartSp.node.active=!0,a=this.StartSp.setAnimation(0,"start",!1),this.StartSp.setTrackCompleteListener(a,function(){for(var t=o.GetMonster(),e=0;e<t.length;e++)t[e].getComponent(p.default).Ready();var n=o.GetTeam();for(e=0;e<n.length;e++)n[e].getComponent(h.default).Ready();o.Artifacts.node.getComponent(u.default).Ready()}),cc.systemEvent.emit(T.EventConst.Maps),[2]}})})},e.prototype.OpenRoam=function(t){return void 0===t&&(t=!0),i(this,void 0,void 0,function(){var e,n,a,o,r,i,l=this;return s(this,function(s){switch(s.label){case 0:for(P.default.instance.play(P.Sound.BGM3),o=0;o<this.teamData.length;o++)this.teamData[o].node.stopAllActions();for(e=this.GetTeam(),o=0;o<e.length;o++)e[o].ChangeState(h.default.STATE_DIE);for(n=this.GetMonster(),o=0;o<n.length;o++)n[o].ChangeState(p.default.STATE_DIE);return this.over=!1,this.fightType=3,this.state=c.roam,a=this,[4,M.default.Instance.GetRole()];case 1:return a.SceneData=s.sent(),[4,M.default.Instance.GetMaxWave(I.default.getCustoms()+1)];case 2:return s.sent(),this.maxwave=1,t?(this.wave=1,this.ClearUpAndDown(),this.initTeam(),[4,this.initArtifacts()]):[3,4];case 3:for(s.sent(),o=0;o<this.playitem.length;o++)this.playitem[o].init();s.label=4;case 4:return[4,this.initRoamMonster()];case 5:return s.sent(),[4,this.initSkill()];case 6:return s.sent(),[4,this.initMessage()];case 7:return s.sent(),r=function(){for(var t=l.GetMonster(),e=0;e<t.length;e++)t[e].getComponent(p.default).Ready();var n=l.GetTeam();for(e=0;e<n.length;e++)n[e].getComponent(h.default).Ready();l.Artifacts.node.getComponent(u.default).Ready()},t?(this.StartSp.node.active=!0,i=this.StartSp.setAnimation(0,"start",!1),this.StartSp.setTrackCompleteListener(i,function(){r()})):r(),cc.systemEvent.emit(T.EventConst.Maps),[2]}})})},e.prototype.WinChallenge=function(){return i(this,void 0,void 0,function(){var t,e,n=this;return s(this,function(a){switch(a.label){case 0:return this.over?[2]:((t=N.default.Instance.GetPanelByType(R.default.GiveUpPanel))&&t.panelUI.CloseThis(),this.over=!0,this.state==c.ready?[3,4]:this.wave<this.maxwave?(this.wave++,this.time=0,this.OpenChallenge(!1),[3,4]):[3,1]);case 1:return this.wave=1,e=function(){G.default.getSdk().sendEvent("finishMission",{message:"\u5b8c\u6210\u6311\u6218",customes:n.SceneData.id}),I.default.setCustoms(n.SceneData.id),n.SceneData.id<I.default.getMaxCustoms()?console.log("\u8f6e\u56de\u8ffd\u8d76\u72b6\u6001\uff0c\u4e0d\u4fee\u6539\u6700\u5927\u5173\u5361\u503c"):I.default.setMaxCustoms(n.SceneData.id),n.reward.push(n.SceneData),n.GetReward(),cc.systemEvent.emit(T.EventConst.Maps)},m.default.Instance.isHaveTalk(2)?[4,N.default.Instance.ShowUI(R.default.TalkPanel)]:[3,3];case 2:return a.sent(),N.default.Instance.GetClass(R.default.TalkPanel).getComponent(x.default).initCustoms(this.SceneData.id,2,function(){n.initAutomatic(),e()}),[3,4];case 3:e(),a.label=4;case 4:return[2]}})})},e.prototype.LoseChallenge=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:if(this.over)return[2];for(this.over=!0,t=0;t<this.monsterData.length;t++)this.monsterData[t].ChangeState(p.default.STATE_WAIT);return this.SceneData.id<I.default.getMaxCustoms()?I.default.tick?(I.default.tick=!1,this.reward.length>0?(this.Showbalance(),[3,3]):[3,1]):[3,4]:[3,7];case 1:return[4,N.default.Instance.ShowUI(R.default.ChallengeLose)];case 2:e.sent(),this.CloseThis(),e.label=3;case 3:return[3,6];case 4:return[4,N.default.Instance.ShowUI(R.default.ChallengeLose)];case 5:e.sent(),this.CloseThis(),e.label=6;case 6:return[3,9];case 7:return[4,N.default.Instance.ShowUI(R.default.ChallengeLose)];case 8:e.sent(),this.CloseThis(),e.label=9;case 9:return[2]}})})},e.prototype.WinTrials=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return this.over?[2]:((t=N.default.Instance.GetPanelByType(R.default.GiveUpPanel))&&t.panelUI.CloseThis(),this.over=!0,this.state==c.ready?[3,3]:this.wave<this.maxwave?(this.wave++,this.time=0,this.OpenTrials(!1),[3,3]):[3,1]);case 1:return this.wave=1,[4,N.default.Instance.ShowUI(R.default.RewardPanel)];case 2:a.sent(),e=k.default.Instance.GetReward(),N.default.Instance.GetClass(R.default.RewardPanel).getComponent(D.default).initAsset(e,function(){N.default.Instance.ShowUI(R.default.TrialsPanel)}),n=I.default.getMaxTier(),(n+=1)>=k.default.Instance.GetMaxTier()&&(n=k.default.Instance.GetMaxTier()),I.default.setMaxTier(n),a.label=3;case 3:return[2]}})})},e.prototype.LoseTrials=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:if(this.over)return[2];for(this.over=!0,t=0;t<this.monsterData.length;t++)this.monsterData[t].ChangeState(p.default.STATE_WAIT);return this.time=0,this.CloseThis(),[4,N.default.Instance.ShowUI(R.default.TrialsPanel)];case 1:return e.sent(),N.default.Instance.ShowUI(R.default.ChallengeLose),[2]}})})},e.prototype.WinRoam=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.over?[2]:(this.over=!0,this.state==c.ready?[3,3]:this.wave<this.maxwave?(this.wave++,this.time=0,this.OpenRoam(!1),[3,3]):[3,1]);case 1:return this.wave=1,this.time=0,this.state=c.ready,this.fightType=0,this.CloseThis(),[4,N.default.Instance.ShowGroup(3)];case 2:t.sent(),this.success(),t.label=3;case 3:return[2]}})})},e.prototype.LoseRoam=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:if(this.over)return[2];for(this.over=!0,t=0;t<this.monsterData.length;t++)this.monsterData[t].ChangeState(p.default.STATE_WAIT);return this.CloseThis(),this.fail(),[4,N.default.Instance.ShowUI(R.default.ChallengeLose)];case 1:return e.sent(),[2]}})})},e.prototype.ToStartpos=function(){this.playernum++;var t=this.GetTeam().length;this.playernum>=t&&(this.playernum=0,1==this.fightType?this.WinChallenge():2==this.fightType?this.WinTrials():3==this.fightType&&this.WinRoam())},e.prototype.GetTeam=function(){for(var t=[],e=0;e<this.teamData.length;e++)this.teamData[e].isDie()||t.push(this.teamData[e]);return t},e.prototype.GetMonster=function(){for(var t=[],e=0;e<this.monsterData.length;e++)this.monsterData[e].isDie()||t.push(this.monsterData[e]);return t},e.prototype.initArtifacts=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=I.default.getNowArtifacts(),I.default.getNowArtifacts()>0?(this.Artifacts.node.active=!0,e="Artifacts_xiao/fabao0"+t,(n=G.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,2]:[4,G.default.loadImage("SpriteBundle1",e)]):[3,3];case 1:n=a.sent(),a.label=2;case 2:return this.Artifacts.spriteFrame=n,this.Artifacts.getComponent(u.default).init(),[3,4];case 3:this.Artifacts.node.active=!1,a.label=4;case 4:return[2]}})})},e.prototype.setText=function(t,e,n){var a=I.default.fightTxt.get();a.setParent(this.LabelContent),a.getComponent(O.default).setText(t,e,n)},e.prototype.initSkill=function(){},e.prototype.ClearUpAndDown=function(){this.Down.destroyAllChildren(),this.Up.destroyAllChildren()},e.prototype.playChallengelv=function(){var t=this.ChangeLv.node.parent;t.active=!0,t.opacity=0,this.ChangeLv.string=this.SceneData.missonName+"-"+this.SceneData.rankId,cc.tween(t).delay(.5).to(.3,{opacity:255}).delay(.5).to(.3,{opacity:0}).call(function(){t.active=!1}).start()},e.prototype.Formations=function(t){switch(this.Point=[],t){case 1:this.Point.push(this.startpos[0]);break;case 2:this.Point.push(this.startpos[2]),this.Point.push(this.startpos[4]);break;case 3:this.Point.push(this.startpos[0]),this.Point.push(this.startpos[3]),this.Point.push(this.startpos[5]);break;case 4:this.Point.push(this.startpos[0]),this.Point.push(this.startpos[1]),this.Point.push(this.startpos[3]),this.Point.push(this.startpos[5]);break;case 5:this.Point.push(this.startpos[1]),this.Point.push(this.startpos[2]),this.Point.push(this.startpos[3]),this.Point.push(this.startpos[4]),this.Point.push(this.startpos[5]);break;case 6:for(var e=0;e<this.startpos.length;e++)this.Point.push(this.startpos[e])}},e.prototype.CreateMontser=function(){var t=I.default.monster.get();return t.setParent(this.MonsterContent),t},e.prototype.CreateThunder=function(){return I.default.Thunder.get()},e.prototype.CreateEddy=function(){var t=I.default.Eddy.get();return t.setParent(this.Down),t.y=320,t},e.prototype.CreateStar=function(){var t=I.default.Star.get();return t.setParent(this.Up),t},e.prototype.CreateKnife=function(){var t=I.default.Knife.get();return t.setParent(this.Up),t},e.prototype.CreateCureMatrix=function(){var t=I.default.CureMatrix.get();return t.setParent(this.Down),t.y=320,t},e.prototype.CreateWind=function(){var t=I.default.Wind.get();return t.setParent(this.Up),t},e.prototype.CreateBaneMatrix=function(){var t=I.default.BaneMatrix.get();return t.setParent(this.Down),t},e.prototype.Createbuttet=function(){var t=I.default.buttet.get();return t.setParent(this.Up),t},e.prototype.CreateMoon=function(){var t=I.default.Moon.get();return t.setParent(this.Up),t},e.prototype.CreateFlamepalm=function(){var t=I.default.Flamepalm.get();return t.setParent(this.Up),t},e.prototype.CreateFireBall=function(){var t=I.default.Fireball.get();return t.setParent(this.Up),t},e.prototype.CreateFlame=function(){var t=I.default.Flame.get();return t.setParent(this.Up),t},e.prototype.CreatePersistCure=function(){var t=I.default.PersistCure.get();return t.setParent(this.Up),t},e.prototype.CreateHothalo=function(){var t=I.default.Hothalo.get();return t.setParent(this.Down),t},e.prototype.CreateHit=function(t){var e=I.default.hit.get();e.setParent(this.Up),e.setPosition(t.getPosition());var n=e.getComponent(sp.Skeleton);return n.setAnimation(0,"atkA_hit",!1),n.setCompleteListener(function(){I.default.hit.restor(e)}),e},e.prototype.CreatewzlxHit=function(){var t=I.default.wzlxHit.get();return t.setParent(this.Up),t},e.prototype.CreateDebuff=function(){return I.default.debuff.get()},e.prototype.CreateSkill=function(t){var e=I.default.SkillSp.get();return e.setParent(this.SkillUi),e.getComponent(l.default).init(t),e},e.prototype.CreateSkillLJ=function(){var t=I.default.SkillLJ.get();return t.setParent(this.Down),t},e.prototype.CreateSkillHC=function(){var t=I.default.SkillHC.get();return t.setParent(this.Down),t},e.prototype.initMask=function(t){cc.systemEvent.emit(T.EventConst.Maps),setTimeout(function(){t()},500)},e.prototype.showTeacherSkill=function(){N.default.Instance.GuideHand.active=!0;var t=this.Skill[0],e=t.parent.convertToWorldSpaceAR(t.getPosition()),n=N.default.Instance.GuideHand.parent.convertToNodeSpaceAR(e);N.default.Instance.GuideHand.setPosition(n)},e.prototype.showTeacherAuto=function(){N.default.Instance.GuideHand.active=!0;var t=this.Automatic,e=t.parent.convertToWorldSpaceAR(t.getPosition()),n=N.default.Instance.GuideHand.parent.convertToNodeSpaceAR(e);N.default.Instance.GuideHand.setPosition(n)},e.prototype.ClickAutomatic=function(){P.default.instance.play(P.Sound.Click),_.default.Instance.isUnlcok(27)?(27==f.default.instance.teacherid&&(f.default.instance.teacherid=-1,N.default.Instance.GuideHand.active=!1,this.TeacherCallback()),I.default.setAutomatic(),I.default.getAutomatic()?G.default.ResetGrayAllNode(this.Automatic):G.default.SetGrayAllNode(this.Automatic)):B.default.instance.setText(-1,_.default.Instance.CanUnlock(27))},e.prototype.ClickOut=function(){P.default.instance.play(P.Sound.Click),N.default.Instance.ShowUI(R.default.GiveUpPanel)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),P.default.instance.play(P.Sound.BGM1),cc.systemEvent.emit(T.EventConst.initBtn)},e.instance=null,r([F(cc.Node)],e.prototype,"Automatic",void 0),r([F(cc.Sprite)],e.prototype,"TeamHp",void 0),r([F(cc.Sprite)],e.prototype,"MonsterHp",void 0),r([F(cc.Sprite)],e.prototype,"Backgroup",void 0),r([F(cc.Node)],e.prototype,"SkillUi",void 0),r([F(d.default)],e.prototype,"playitem",void 0),r([F(cc.Label)],e.prototype,"WaveLabel",void 0),r([F(cc.Node)],e.prototype,"Skill",void 0),r([F(cc.Label)],e.prototype,"FightNumLabel",void 0),r([F(cc.Label)],e.prototype,"CustomsLabel",void 0),r([F(cc.Node)],e.prototype,"LabelContent",void 0),r([F(cc.Node)],e.prototype,"TeamContent",void 0),r([F(cc.Node)],e.prototype,"MonsterContent",void 0),r([F(cc.Node)],e.prototype,"Down",void 0),r([F(cc.Node)],e.prototype,"Up",void 0),r([F(cc.Sprite)],e.prototype,"Artifacts",void 0),r([F(sp.Skeleton)],e.prototype,"StartSp",void 0),r([F(sp.Skeleton)],e.prototype,"Blash",void 0),r([F(cc.Node)],e.prototype,"ChallengeContent",void 0),r([F(cc.Label)],e.prototype,"ChangeLv",void 0),r([F(cc.Node)],e.prototype,"CustomesIcon",void 0),r([F(cc.SpriteFrame)],e.prototype,"CustomesIconSp",void 0),n=r([j],e)}(L.default);n.default=U,cc._RF.pop()},{"../Animation/SkillUi":"SkillUi","../GameGroup/Artifacts":"Artifacts","../GameGroup/Monster":"Monster","../GameGroup/PracticeGroup":"PracticeGroup","../GameGroup/Teamer":"Teamer","../GameGroup/player":"player","../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/CustomTalkDataManager":"CustomTalkDataManager","../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/PetDataManager":"PetDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SceneDataManager":"SceneDataManager","../Manager/SoundManager":"SoundManager","../Manager/TrialsDataManager":"TrialsDataManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./NewresultPanel":"NewresultPanel","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TalkPanel":"TalkPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager","./fightTxt":"fightTxt"}],FightUp:[function(t,e,n){"use strict";cc._RF.push(e,"11f82vtmNlPwY42xfpFsyMY","FightUp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Sp=null,e.fight=null,e.flot=null,e.jiantou=null,e.frame=[],e.old=0,e.now=0,e.sub=0,e.do=!0,e}return o(e,t),e.prototype.start=function(){},e.prototype.init=function(t,e){var n=this;this.node.opacity=255,this.old=t,this.now=e,this.sub=e-t,this.fight.string=""+Math.floor(t),this.jiantou.spriteFrame=t>e?this.frame[1]:this.frame[0],this.flot.node.color=t>e?cc.color().fromHEX("#DC4646"):cc.color().fromHEX("#4AE314"),this.flot.string=""+Math.floor(Math.abs(e-t)),this.Sp.setAnimation(0,"up",!1),this.Sp.setCompleteListener(function(){n.do=!1})},e.prototype.update=function(){var t=this;this.do||(this.old>=this.now?(this.old=this.now,this.do=!0,cc.tween(this.node).delay(.3).to(.6,{opacity:0}).call(function(){i.default.FightUp.restor(t.node)}).start()):this.old+=Math.floor(.1*this.sub),this.fight.string=""+Math.floor(this.old))},r([l(sp.Skeleton)],e.prototype,"Sp",void 0),r([l(cc.Label)],e.prototype,"fight",void 0),r([l(cc.Label)],e.prototype,"flot",void 0),r([l(cc.Sprite)],e.prototype,"jiantou",void 0),r([l(cc.SpriteFrame)],e.prototype,"frame",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../record/GameSys":"GameSys"}],Fireball:[function(t,e,n){"use strict";cc._RF.push(e,"fa3570zxTFEzKf/BZP035TW","Fireball");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ball=null,e.master=null,e.target=null,e.end=!1,e}return o(e,t),e.prototype.onLoad=function(){this.ball=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},e.prototype.init=function(t,e){this.ball.setAnimation(0,"bullet",!0),this.master=t,this.target=this.master.GetTarget(),this.end=!1,this.callback=e},e.prototype.start=function(){},e.prototype.update=function(t){var e=this;if(!this.end&&this.master){if(s.default.instance.state==s.FightState.ready)return this.end=!0,void i.default.Fireball.restor(this.node);if(this.target){var n=this.node.getPosition(),a=this.target.node.getPosition(),o=n.sub(a).mag(),r=n.sub(a).signAngle(cc.v2(1,0)),c=r/Math.PI*180;this.node.angle=-c;var l=cc.v2(-Math.cos(r),Math.sin(r));l.normalizeSelf(),o>20?(this.node.x+=t*l.x*i.default.speed*1200,this.node.y+=t*l.y*i.default.speed*1200):(this.end=!0,this.ball.setAnimation(0,"hit",!0),this.ball.setCompleteListener(function(){i.default.Fireball.restor(e.node)}),this.callback())}else i.default.Fireball.restor(this.node)}},r([u(sp.Skeleton)],e.prototype,"ball",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],Flamepalm:[function(t,e,n){"use strict";cc._RF.push(e,"f801cDLljxLDpmrkWhRk3eX","Flamepalm");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t,e){var n=this;setTimeout(function(){s.default.instance.state!=s.FightState.ready?(e(),i.default.Flamepalm.restor(n.node)):i.default.Flamepalm.restor(n.node)},500)},e.prototype.start=function(){},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],Flame:[function(t,e,n){"use strict";cc._RF.push(e,"018cad28sFJg7uZ48rXneLP","Flame");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.count=0,e.victim=null,e}return o(e,t),e.prototype.init=function(t){this.victim=t,this.time=1,this.count=0},e.prototype.start=function(){},e.prototype.atk=function(){var t=.02*this.victim.role.maxhp;this.victim.TheStrike(t,999,!1,!1),this.count++,this.count>=5&&i.default.Flame.restor(this.node)},e.prototype.update=function(t){s.default.instance.state!=s.FightState.ready?(this.time-=t*i.default.speed,this.time<=0&&this.count<5&&(this.atk(),this.time=1)):i.default.Flame.restor(this.node)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],ForewordPanel:[function(t,e,n){"use strict";cc._RF.push(e,"11bddUvwFZF/b66Hic/YB2p","ForewordPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/ChapterDataManager"),s=t("./UIBase"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.group=[],e.offBtn=null,e.txtArray=[],e}return o(e,t),e.prototype.onLoad=function(){var t=cc.tween(this.offBtn).to(.3,{opacity:255}).delay(.3).to(.7,{opacity:0});cc.tween(this.offBtn).repeatForever(t).start()},e.prototype.onEnable=function(){for(var t=0;t<this.group.length;t++)this.group[t].active=!1},e.prototype.init=function(t){var e=this;this.callback=t,this.txtArray=[];for(var n=i.default.Instance.isHaveChapter().explain,a=0,o=0;o<n.length;o++){var r=n[o];"/"==r?a++:this.txtArray[a]?this.txtArray[a]+=r:this.txtArray.push(r)}var s=[];for(o=0;o<this.group.length;o++)o<this.txtArray.length?(this.group[o].getChildByName("txt").getComponent(cc.Label).string=this.txtArray[o],this.group[o].active=!0,s.push(this.group[o])):this.group[o].active=!1;var c=function(t){cc.tween(s[t]).call(function(){s[t].opacity=0}).delay(1.5*t).to(1,{opacity:255}).call(function(){t==s.length-1&&(e.offBtn.active=!0)}).start()};for(o=0;o<s.length;o++)c(o)},e.prototype.ClickOff=function(){this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),this.callback()},e.prototype.start=function(){},r([u(cc.Node)],e.prototype,"group",void 0),r([u(cc.Node)],e.prototype,"offBtn",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../Manager/ChapterDataManager":"ChapterDataManager","./UIBase":"UIBase"}],Foreword:[function(t,e,n){"use strict";cc._RF.push(e,"0b8feaTU5VMQ4LkZ0Y0GuUO","Foreword");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SoundManager"),s=t("./PanelConst"),c=t("./UIBase"),l=t("./UIManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=[],e.off=null,e}return o(e,t),e.prototype.onEnable=function(){for(var t=this,e=function(e){setTimeout(function(){cc.tween(t.label[e]).call(function(){t.label[e].opacity=0,t.label[e].active=!0}).to(.7,{opacity:255}).call(function(){e==t.label.length-1&&(t.off.active=!0)}).start()},1e3*e)},n=0;n<this.label.length;n++)e(n)},e.prototype.ClickOff=function(){i.default.instance.play(i.Sound.Click),this.CloseThis(),l.default.Instance.ShowUI(s.default.StartGame)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},r([d(cc.Node)],e.prototype,"label",void 0),r([d(cc.Node)],e.prototype,"off",void 0),r([p],e)}(c.default);n.default=f,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","./PanelConst":"PanelConst","./UIBase":"UIBase","./UIManager":"UIManager"}],FreeBox:[function(t,e,n){"use strict";cc._RF.push(e,"80a6as4dGBD3Lxg3ZOL65oR","FreeBox");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CoinOutPutDataManager"),l=t("../Manager/PropDataManager"),u=t("../Manager/SoundManager"),p=t("../Tools/GameTools"),d=t("./PanelConst"),f=t("./RewardPanel"),h=t("./UIBase"),y=t("./UIManager"),g=cc._decorator,v=g.ccclass,m=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Coin=null,e.gift=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return t.prototype.onEnable.call(this),[4,c.default.Instance.GetOutPut()];case 1:return e=n.sent()*this.gift.coin,this.Coin.string="\xd7"+p.default.refSetCoin(e),[2]}})})},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.GetReward=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return[4,y.default.Instance.ShowUI(d.default.RewardPanel)];case 1:return n.sent(),t=[],this.gift.coin>0&&(e=l.default.Instance.GetCoinProp(),t.push({prop:e,have:this.gift.coin})),this.gift.jewel>0&&(e=l.default.Instance.GetJewelProp(),t.push({prop:e,have:this.gift.jewel})),999999!=this.gift.prop1_id&&(e=l.default.Instance.GetProp(this.gift.prop1_id),t.push({prop:e,have:this.gift.prop1_num})),999999!=this.gift.prop2_id&&(e=l.default.Instance.GetProp(this.gift.prop2_id),t.push({prop:e,have:this.gift.prop2_num})),999999!=this.gift.prop3_id&&(e=l.default.Instance.GetProp(this.gift.prop3_id),t.push({prop:e,have:this.gift.prop3_num})),999999!=this.gift.prop4_id&&(e=l.default.Instance.GetProp(this.gift.prop4_id),t.push({prop:e,have:this.gift.prop4_num})),y.default.Instance.GetClass(d.default.RewardPanel).getComponent(f.default).initAsset(t),[2]}})})},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([m(cc.Label)],e.prototype,"Coin",void 0),r([v],e)}(h.default);n.default=b,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./UIBase":"UIBase","./UIManager":"UIManager"}],FreeCoin:[function(t,e,n){"use strict";cc._RF.push(e,"02970smN4BI/q2N6unIKKwb","FreeCoin");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/HeartDevilDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/EventConst"),h=t("../Tools/GameTools"),y=t("./TipGroup"),g=t("./UIBase"),v=t("./UIManager"),m=cc._decorator,b=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reward=null,e.txt=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e,n,a,o;return s(this,function(r){switch(r.label){case 0:return t.prototype.onEnable.call(this),[4,l.default.Instance.GetNeedCoin()];case 1:return e=r.sent()*u.default.Instance.getVideoCoin(),this.reward.string=""+h.default.refSetCoin(e),n=l.default.Instance.GetNeedCoin(),(a=d.default.getCoin())+e>=n?this.txt.string=""+c.i18nMgr.getLabel("title209"):(o=Math.ceil((n-a)/e),this.txt.string=c.i18nMgr.getLabel("title306")+" "+o+" "+c.i18nMgr.getLabel("title210")),h.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},e.prototype.start=function(){},e.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.CloseThis()},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e=this;return s(this,function(n){switch(n.label){case 0:return p.default.instance.play(p.Sound.Click),[4,l.default.Instance.GetNeedCoin()];case 1:return t=n.sent()*u.default.Instance.getVideoCoin(),h.default.getSdk().PlatformCallBack("REWARD",function(){v.default.Instance.ChangeCoin(t),e.CloseThis(),cc.systemEvent.emit(f.EventConst.ShowCoinToUp)},function(){y.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-1),[2]}})})},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),h.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([_(cc.Label)],e.prototype,"reward",void 0),r([_(cc.Label)],e.prototype,"txt",void 0),r([b],e)}(g.default);n.default=S,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/HeartDevilDataManager":"HeartDevilDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],FreeJewel:[function(t,e,n){"use strict";cc._RF.push(e,"98a30SNsMtFiqI03TAXci17","FreeJewel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/ArtifactsDataManager"),c=t("../Manager/SoundManager"),l=t("../Tools/GameTools"),u=t("./TipGroup"),p=t("./UIBase"),d=t("./UIManager"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reward=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this);var e=100*s.default.Instance.GetOutPut();this.reward.string=""+l.default.refSetCoin(e),l.default.getSdk().PlatformCallBack("BANNER")},e.prototype.start=function(){},e.prototype.ClickOff=function(){c.default.instance.play(c.Sound.Click),this.CloseThis()},e.prototype.ClickGet=function(){var t=this;c.default.instance.play(c.Sound.Click);var e=100*s.default.Instance.GetOutPut();l.default.getSdk().PlatformCallBack("REWARD",function(){d.default.Instance.ChangeJewel(e),t.CloseThis()},function(){u.default.instance.setText(-1,i.i18nMgr.getLabel("title148"))},-2)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),l.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([y(cc.Label)],e.prototype,"reward",void 0),r([h],e)}(p.default);n.default=g,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],GameBgTouch:[function(t,e,n){"use strict";cc._RF.push(e,"6a2e7evbAdDUYY8jbAvCUeS","GameBgTouch");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Tools/EventConst"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){cc.systemEvent.emit(i.EventConst.GAME_BG_TOUCH_START,t)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){console.log("\u79fb\u52a8"),cc.systemEvent.emit(i.EventConst.GAME_BG_TOUCH_MOVE,t)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.systemEvent.emit(i.EventConst.GAME_BG_TOUCH_END,t)},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){cc.systemEvent.emit(i.EventConst.GAME_BG_TOUCH_CANCEL,t)},this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,function(t){cc.systemEvent.emit(i.EventConst.GAME_BG_TOUCH_WHEEL,t)},this)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../Tools/EventConst":"EventConst"}],GameEntry:[function(t,e,n){"use strict";cc._RF.push(e,"b32f7DKBupGzb6U7rautXoF","GameEntry");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/ChapterDataManager"),l=t("../Manager/SingleBase"),u=t("../Manager/Singleton"),p=t("../record/GameSys"),d=t("../Tools/EventConst"),f=t("../Tools/GameTools"),h=t("../UI/ForewordPanel"),y=t("../UI/PanelConst"),g=t("../UI/UIManager"),v=cc._decorator,m=v.ccclass,b=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singleTons=new Array("CoinOutPutDataManager","HeroDataManager","PetDataManager","SceneDataManager","MonsterDataManager","SkillDataManager","ArtifactsDataManager","TeamSkillDataManager","DiscipleDataManager","DrugDataManager","StoryDataManager","GuideDataManager","EveryDayManager","AchievementDataManager","TrialsDataManager","PropDataManager","RoamDataManager","TalkDataManager","CustomTalkDataManager","ChapterDataManager","HeartDevilDataManager","SignDataManager","OnlineDataManager","SecretDataManager","HerbDataManager","CrystalBoxManager","CrystalBoxAwardManager","MagicDataManager","GardenDataManager","CallerDataManager","CallerTalkDataManager","GiftDataManager"),e}var n;return o(e,t),n=e,e.prototype.RegistSingleTon=function(){for(var t=this.singleTons.length,e=0;e<t;e++){var a=u.default.RegistSingleTon(this.singleTons[e]);a instanceof l.default||console.log("\u6709\u5355\u4f8b\u6ca1\u6709\u7ee7\u627f\u57fa\u7c7b\uff01",a),n.curAllSignleBases.push(a)}},e.prototype.InitSingleTon=function(t){return i(this,void 0,void 0,function(){var e,a;return s(this,function(o){switch(o.label){case 0:e=n.curAllSignleBases.length,a=0,o.label=1;case 1:return a<e?[4,n.curAllSignleBases[a].Init()]:[3,4];case 2:o.sent(),o.label=3;case 3:return a++,[3,1];case 4:return t(),[2]}})})},e.prototype.start=function(){return i(this,void 0,void 0,function(){return s(this,function(){return cc.game.addPersistRootNode(this.node),[2]})})},e.PlayGame=function(){return i(this,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:if(p.default.islogin=!0,!p.default.getIsFirst())return[3,5];for(t="",e=(new Date).getTime(),t+=e,n=0;n<4;n++)t+=Math.floor(10*Math.random());return f.default.getSdk().sendEvent("createRole_n",{roleid:t}),p.default.isjumpguide?[3,2]:[4,g.default.Instance.ShowUI(y.default.StartGame)];case 1:return o.sent(),cc.systemEvent.emit(d.EventConst.Maps),[3,4];case 2:return cc.systemEvent.emit(d.EventConst.GameStart),a=c.default.Instance.GetData(1),[4,g.default.Instance.ShowUI(y.default.ForewordPanel)];case 3:o.sent(),g.default.Instance.GetClass(y.default.ForewordPanel).getComponent(h.default).init(function(){cc.systemEvent.emit(d.EventConst.playChapter,a)}),o.label=4;case 4:return[3,6];case 5:cc.systemEvent.emit(d.EventConst.GameStart),cc.systemEvent.emit(d.EventConst.Maps),o.label=6;case 6:return[2]}})})},e.prototype.StartGame=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.curAllSignleBases=new Array,n=r([m],e)}(cc.Component));n.default=b,cc._RF.pop()},{"../Manager/ChapterDataManager":"ChapterDataManager","../Manager/SingleBase":"SingleBase","../Manager/Singleton":"Singleton","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/ForewordPanel":"ForewordPanel","../UI/PanelConst":"PanelConst","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],GameFightSkill:[function(t,e,n){"use strict";cc._RF.push(e,"efb0bGFbx5O9bccwWOGW+xZ","GameFightSkill");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/HeroDataManager"),c=t("../Tools/EventConst"),l=t("../UI/FightPanel"),u=t("../UI/TipGroup"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guideSp=null,e.lock=null,e.CD=null,e.time=null,e.index=0,e.mp=0,e}return o(e,t),e.prototype.onLoad=function(){this.guideSp.active=!1},e.prototype.init=function(){if(this.node.parent.active){this.index=this.node.getSiblingIndex();var t=s.default.Instance.IsUnlockSkill(this.index);this.lock.active=!t}},e.prototype.initMp=function(){this.initprogress()},e.prototype.ChangeMp=function(t){this.mp=t,this.initprogress()},e.prototype.initprogress=function(){this.node.parent.active&&this.lock.active&&(this.CD.active=!1)},e.prototype.start=function(){cc.systemEvent.on(c.EventConst.Game_Fight_initSkill,this.init,this),cc.systemEvent.on(c.EventConst.Game_Fight_initSkill,this.initMp,this),cc.systemEvent.on(c.EventConst.Game_Fight_changeMp,this.ChangeMp,this)},e.prototype.AtkSkill=function(){l.default.instance.teamData[0].skill1>0?u.default.instance.setText(-1,i.i18nMgr.getLabel("title136")):(cc.systemEvent.emit(c.EventConst.SkillTeacher),l.default.instance.teamData[0].ManualSkill(0))},e.prototype.ControlSkill=function(){l.default.instance.teamData[0].skill2>0?u.default.instance.setText(-1,i.i18nMgr.getLabel("title136")):l.default.instance.teamData[0].ManualSkill(3)},e.prototype.update=function(){if(this.node.parent.active&&!this.lock.active){var t=l.default.instance.teamData[0];if(!t)return;var e=0;switch(this.node.getSiblingIndex()){case 0:e=t.skill1,this.guideSp.active=!!(e<=0&&s.default.Instance.IsUnlockSkill(0));break;case 1:e=t.skill2,this.guideSp.active=!!(e<=0&&s.default.Instance.IsUnlockSkill(1))}this.time.string=Math.floor(e)+"s",this.CD.active=e>0}},r([f(cc.Node)],e.prototype,"guideSp",void 0),r([f(cc.Node)],e.prototype,"lock",void 0),r([f(cc.Node)],e.prototype,"CD",void 0),r([f(cc.Label)],e.prototype,"time",void 0),r([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Manager/HeroDataManager":"HeroDataManager","../Tools/EventConst":"EventConst","../UI/FightPanel":"FightPanel","../UI/TipGroup":"TipGroup","../i18n/i18nMgr":"i18nMgr"}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"948e0qzHTVEOIc2iShJfgCq","GameManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.registObserver=function(t){this.observers.push(t)},t.sendMessage=function(t){for(var e=0,n=this.observers.length;e<n&&!this.observers[e].notify(t);e++);},t.sendSimpleMessage=function(t){this.sendMessage({type:t})},t.observers=[],t}();n.default=a,cc._RF.pop()},{}],GameMessage:[function(t,e,n){"use strict";cc._RF.push(e,"e0f47H83MNDiYeyX0KJ3oW/","GameMessage"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],GameSys:[function(t,e,n){"use strict";cc._RF.push(e,"695ff9pb4xIlbFpZdMbnh7i","GameSys");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Recorder"),i=t("../Tools/EventConst"),s=t("../Manager/MagicDataManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.LoadGameDate=function(){this.saveTime=r.default.readInt("SAVETIME",0),this.todayTime=r.default.readInt("TOADYTIME",0),this.team=r.default.readobjArray("TEAM",this.initTeam()),this.petIndex=r.default.readInt("PETINDEX",0),this.level=r.default.readInt("LEVEL",1),this.maxlevel=r.default.readInt("MAXLEVEL",1),this.sex=r.default.readInt("SEX",0),this.coin=r.default.readInt("COIN",0),this.jewel=r.default.readInt("JEWEL",300),this.jade=r.default.readInt("JADE",0),this.crystal=r.default.readInt("CRYSTAL",0),this.crystalboxopencount=r.default.readInt("CRYSTALBOXOPENCOUNT",1),this.isFirstLoad=r.default.readBool("ISFRISTLOAD",!0),this.devil=r.default.readInt("DEVIL",0),this.buycount=r.default.readInt("BUYCOUNT",0),this.maxartifacts=r.default.readInt("MAXARTIFACTS",0),this.artifactslist=r.default.readintArray("ARTIFACTSLIST",this.initArtifacts()),this.unlockartifacts=r.default.readintArray("UNLOCKARTIFACTS",[]),this.nowartifacts=r.default.readInt("NOWARTIFACTS",0),this.quickfight=r.default.readInt("QUICKFIGHT",3),this.quality=r.default.readInt("QUALITY",0),this.herbCount=r.default.readInt("HERBCOUNT",0),this.garden=r.default.readGarden("GARDEN",this.initGarden()),this.garden2=r.default.readGarden("GARDEN2",this.initGarden2()),this.magic=r.default.readMagic("MAGIC",this.initMagic()),this.reset=r.default.readInt("RESET",1),this.gardenlv=r.default.readInt("GARDENLV",1),this.jadefreecount=r.default.readInt("JADEFREECOUNT",10),this.callerevent=r.default.readCallerEvent("CALLEREVENT",this.initCallerEvent()),this.expeditionmop=r.default.readInt("EXPEDITIONMOP",1),this.reincarnadd=r.default.readInt("REINCARNADD",0),this.videocount=r.default.readInt("VIDEOCOUNT",0),this.novicegift=r.default.readInt("NOVICEGIFT",0),this.sharerecorder=r.default.readBool("SHARERECORDER",!1),this.crystalgfit=r.default.readInt("CRYSTALGFIT",0),this.herbgift=r.default.readInt("HERBGIFT",0),this.freeboxcount=r.default.readInt("FREEBOXCOUNT",0),this.freeboxtime=r.default.readInt("FREEBOXTIME",0),this.fiveboxcount=r.default.readInt("FIVEBOXCOUNT",5),this.fiveboxtime=r.default.readInt("FIVEBOXTIME",0),this.petlevel2=r.default.readintArray("PETLEVEL2",[1,0,0,0,0,0,0,0,0,0]),this.petexp2=r.default.readintArray("PETEXP2",[0,0,0,0,0,0,0,0,0,0]),this.customs=r.default.readInt("CUSTOMS",1),this.maxcustoms=r.default.readInt("MAXCUSTOMS",1),this.guide=r.default.readintArray("GUIDE",[1,0]),this.everyday=r.default.readEveryDay("EVERYDAY",this.initEveryDay()),this.everydaycount=r.default.readInt("EVERYDAYCOUNT",0),this.award=r.default.readintArray("AWARD",this.initAward()),this.roamcount=r.default.readInt("ROAMCOUNT",0),this.tier=r.default.readInt("TIER",1),this.maxtier=r.default.readInt("MAXTIER",1),this.resume=r.default.readInt("RESUME",0),this.buildlv=r.default.readintArray("BUILDLV",[0,0,0,0,0,0,0,0,0,0]),this.resetcount=r.default.readInt("RESETCOUNT",1),this.mopup=r.default.readInt("MOPUP",1),this.music=r.default.readBool("MUSIC",!0),this.pack=r.default.readpack("PACK",[]),this.reincarncount=r.default.readInt("REINCARNCOUNT",0),this.automatic=r.default.readBool("AUTOMATIC",!1),this.Speed=r.default.readBool("SPEED",!1),this.online=r.default.readInt("ONLINE",0),this.onlineisget=r.default.readintArray("ONLINEISGET",[0,0,0,0]),this.day=r.default.readInt("DAY",-1),this.signisget=r.default.readBool("SIGNISGET",!1),this.dicenum=r.default.readInt("DICENUM",10),this.dicetime=r.default.readInt("DICETIME",0),this.pos=r.default.readInt("POS",2),this.roamexp=r.default.readInt("ROAMEXP",0),this.roambox=r.default.readintArray("ROAMBOX",[]),this.roamboxisget=r.default.readintArray("ROAMBOXISGET",[]),this.landmark=r.default.readintArray("LANDMARK",this.initLandMark()),this.drugnum=r.default.readintArray("DRUGNUM",[0,0,0,0]),this.drugtime=r.default.readintArray("DRUGTIME",[0,0,0,0]),this.drugboxnum=r.default.readintArray("DRUGBOXNUM",[0,0,0,0]),this.drugover=r.default.readintArray("DRUGOVER",[0,0,0,0]),this.drugcount=r.default.readInt("DRUGCOUNT",0),this.realmexp=r.default.readInt("REALMEXP",0),this.intensifyLv=r.default.readintArray("INTENSIFYLV",[0,0,0,0,0]),this.skilllevel=r.default.readintArray("SKILLLEVEL",[1,0,0,0,0]),this.discipleLv=r.default.readDisciple("DISCIPLELV",this.initDisciple()),this.isAddToDesktop=r.default.readBool("ISADDTODESKTOP",!1),this.isaddColorSign=r.default.readBool("ISADDCOLORSIGN",!1),this.addcolorsign=r.default.readBool("ADDCOLORSIGN",!1),this.addmy=r.default.readBool("ADDMY",!1),this.savetodesktip=r.default.readBool("SAVEDESKTOP",!1),this.subscribeMsg=r.default.readBool("SUBSCRIBEMSG",!1);var t=new Date;e.serverTime=t.getTime();var n=new Date(this.serverTime).setHours(0,0,0,0);this.todayTime<n&&(console.log("\u8de8\u5929\u4e86\u5237\u65b0"),this.quality=0,r.default.writeData("QUALITY",this.quality),this.todayTime=n,r.default.writeData("TOADYTIME",this.todayTime),this.resetcount=1,r.default.writeData("RESETCOUNT",this.resetcount),this.mopup=1,r.default.writeData("MOPUP",this.mopup),this.expeditionmop=1,r.default.writeData("EXPEDITIONMOP",this.expeditionmop),this.everyday=this.initEveryDay(),r.default.writeData("EVERYDAY",this.everyday),this.online=0,r.default.writeData("ONLINE",this.online),this.onlineisget=[0,0,0,0],r.default.writeData("ONLINEISGET",this.onlineisget),this.day+=1,this.day>6&&(this.day=0),r.default.writeData("DAY",this.day),this.signisget=!1,r.default.writeData("SIGNISGET",this.signisget),this.quickfight=3,r.default.writeData("QUICKFIGHT",this.quickfight),this.freeboxcount=0,r.default.writeData("FREEBOXCOUNT",this.freeboxcount),this.callerevent=this.initCallerEvent(),r.default.writeData("CALLEREVENT",this.callerevent),this.reset=1,r.default.writeData("RESET",this.reset),this.jadefreecount=10,r.default.writeData("JADEFREECOUNT",this.jadefreecount),this.fiveboxtime=0,r.default.writeData("FIVEBOXTIME",0),this.fiveboxcount=5,r.default.writeData("FIVEBOXCOUNT",5),this.videocount=0,r.default.writeData("VIDEOCOUNT",this.videocount),this.herbgift=0,r.default.writeData("HERBGIFT",this.herbgift),this.crystalgfit=0,r.default.writeData("CRYSTALGFIT",this.crystalgfit)),r.default.localRecorder.writeData("ENC",1)},e.initTeam=function(){for(var t=[],e=0;e<6;e++)0==e?t.push({type:0,id:0}):1==e?t.push({type:1,id:-1}):t.push({type:2,id:-1});return t},e.initArtifacts=function(){for(var t=[],e=0;e<12;e++)t.push(0);return t},e.initDisciple=function(){var t=[];return t.push({level:1,name:"\u6155\u7075",unlock:!1,state:!1}),t.push({level:1,name:"\u5955\u94ed\u98ce",unlock:!1,state:!1}),t.push({level:1,name:"\u97e9\u6708\u7391",unlock:!1,state:!1}),t.push({level:1,name:"\u83ab\u7b80\u79bb",unlock:!1,state:!1}),t},e.initEveryDay=function(){for(var t=[],e=0;e<12;e++)t.push({state:0,time:0});return t},e.initAward=function(){for(var t=[],e=0;e<15;e++)t.push(1);return t},e.initGoods=function(){for(var t=[],e=0;e<12;e++)t.push(1);return t},e.initLandMark=function(){for(var t=[],e=0;e<12;e++)t.push(0);return t},e.initGarden=function(){for(var t=[],e=0;e<16;e++)e<4?t.push({state:0,herb:0,time:0,num:0,unlock:!0}):t.push({state:0,herb:0,time:0,num:0,unlock:!1});return t},e.initGarden2=function(){for(var t=[],e=0;e<20;e++)e<4?t.push({state:0,herb:0,time:0,num:0,unlock:!0}):t.push({state:0,herb:0,time:0,num:0,unlock:!1});return t},e.initCallerEvent=function(){for(var t=[],e=0;e<5;e++)t.push({id:0,state:!1});return t},e.initMagic=function(){for(var t=s.default.Instance.getAllMagic(),e=[],n=0;n<t.length;n++)e.push({name:t[n],level:0});return e},e.Plate=function(){},e.SaveGameDate=function(){r.default.writeDatas({TEAM:this.team,SAVETIME:this.saveTime,LEVEL:this.level,COIN:this.coin,JEWEL:this.jewel,CRYSTAL:this.crystal,JADE:this.jade,BUYCOUNT:this.buycount,MAXARTIFACTS:this.maxartifacts,ARTIFACTSLIST:this.artifactslist,UNLOCKARTIFACTS:this.unlockartifacts,NOWARTIFACTS:this.nowartifacts,CUSTOMS:this.customs,DRUGNUM:this.drugnum,DRUGTIME:this.drugtime,REALMEXP:this.realmexp,DRUGOVER:this.drugover,DRUGBOXNUM:this.drugboxnum,EVERYDAY:this.everyday,DICETIME:this.dicetime,DEVIL:this.devil,ONLINE:this.online,GARDEN:this.garden,GARDEN2:this.garden2,FIVEBOXTIME:this.fiveboxtime})},e.getCrystalGift=function(){return this.crystalgfit},e.setCrystalGift=function(){this.crystalgfit++,r.default.writeData("CRYSTALGFIT",this.crystalgfit)},e.getHerbGift=function(){return this.herbgift},e.setHerbGift=function(){this.herbgift++,r.default.writeData("HERBGIFT",this.herbgift)},e.getShareRecorder=function(){return this.sharerecorder},e.setShareRecorder=function(){this.sharerecorder=!0,r.default.writeData("SHARERECORDER",this.sharerecorder)},e.getNoviceGift=function(){return this.novicegift},e.setNoviceGift=function(){this.novicegift++,r.default.writeData("NOVICEGIFT",this.novicegift)},e.setVideoCount=function(){this.videocount++,r.default.writeData("VIDEOCOUNT",this.videocount)},e.getFiveBoxCount=function(){return this.fiveboxcount},e.setFiveBoxCount=function(){this.fiveboxcount--,r.default.writeData("FIVEBOXCOUNT",this.fiveboxcount)},e.getFiveBoxTime=function(){return this.fiveboxtime},e.setFiveBoxTime=function(t){this.fiveboxtime=t,r.default.writeData("FIVEBOXTIME",this.fiveboxtime)},e.getReincarnAdd=function(){return this.reincarnadd},e.setReincarnAdd=function(t){this.reincarnadd=t,r.default.writeData("REINCARNADD",this.reincarnadd)},e.getExpeditionMop=function(){return this.expeditionmop},e.setExpeditionMop=function(){this.expeditionmop--,r.default.writeData("EXPEDITIONMOP",this.expeditionmop)},e.getJadeFreeCount=function(){return this.jadefreecount},e.setJadeFreeCount=function(){this.jadefreecount--,r.default.writeData("JADEFREECOUNT",this.jadefreecount)},e.getGardenLv=function(){return this.gardenlv},e.setGardenLv=function(t){this.gardenlv=t,r.default.writeData("GARDENLV",this.gardenlv)},e.getCallerEvent=function(){return this.callerevent},e.setCallerEvent=function(t){this.callerevent=t,r.default.writeData("CALLEREVENT",this.callerevent)},e.getReset=function(){return this.reset},e.setReset=function(){this.reset--,r.default.writeData("RESET",this.reset)},e.getFreeBoxCount=function(){return this.freeboxcount},e.setFreeBoxCount=function(){this.freeboxcount++,r.default.writeData("FREEBOXCOUNT",this.freeboxcount)},e.getFreeBoxTime=function(){return this.freeboxtime},e.setFreeBoxTime=function(t){this.freeboxtime=t,r.default.writeData("FREEBOXTIME",this.freeboxtime)},e.getMagic=function(){return this.magic},e.setMagic=function(t){this.magic=t,r.default.writeData("MAGIC",this.magic)},e.getGarden=function(){return this.garden2},e.setGarden=function(t){this.garden2=t,r.default.writeData("GARDEN2",this.garden2)},e.getCrystalBoxOpenCount=function(){return this.crystalboxopencount},e.setCrystalBoxOpenCount=function(){this.crystalboxopencount++,r.default.writeData("CRYSTALBOXOPENCOUNT",this.crystalboxopencount)},e.getJade=function(){return this.jade},e.setJade=function(t){this.jade+=t,r.default.writeData("JADE",this.jade)},e.getHerbCount=function(){return this.herbCount},e.setHerbCount=function(){this.herbCount++,r.default.writeData("HERBCOUNT",this.herbCount)},e.getCrystal=function(){return this.crystal},e.setCrystal=function(t){this.crystal+=t,r.default.writeData("CRYSTAL",this.crystal)},e.getQuality=function(){return this.quality},e.setQuality=function(){this.quality++,r.default.writeData("QUALITY",this.quality)},e.getSaveToDesktip=function(){return this.savetodesktip},e.setSaveToDesktip=function(){this.savetodesktip=!0,r.default.writeData("SAVEDESKTOP",this.savetodesktip)},e.getSubscribemsg=function(){return this.subscribeMsg},e.setSubscribemsg=function(){this.subscribeMsg=!0,r.default.writeData("SUBSCRIBEMSG",this.subscribeMsg)},e.getAddMy=function(){return this.addmy},e.setAddMy=function(){this.addmy=!0,r.default.writeData("ADDMY",this.addmy)},e.getaddColorSign=function(){return this.addcolorsign},e.setaddColorSign=function(){this.addcolorsign=!0,r.default.writeData("ADDCOLORSIGN",this.addcolorsign)},e.getQuickFight=function(){return this.quickfight},e.setQuickFight=function(t){void 0===t&&(t=!1),t?this.quickfight++:this.quickfight--,r.default.writeData("QUICKFIGHT",this.quickfight)},e.getDay=function(){return this.day},e.getSignIsGet=function(){return this.signisget},e.setSignIsGet=function(){this.signisget=!0,r.default.writeData("SIGNISGET",this.signisget)},e.getOnlineIsGet=function(){return this.onlineisget},e.setOnlineIsGet=function(t){this.onlineisget[t]=1,r.default.writeData("ONLINEISGET",this.onlineisget)},e.getOnline=function(){return this.online},e.setOnline=function(t){this.online=t,r.default.writeData("ONLINE",this.online)},e.getDevil=function(){return this.devil},e.setDevil=function(t){this.devil=t,r.default.writeData("DEVIL",this.devil)},e.getPetIndex=function(){return this.petIndex},e.setPetIndex=function(t){this.petIndex=t,r.default.writeData("PETINDEX",this.petIndex)},e.getSpeed=function(){return this.Speed},e.setSpeed=function(t){this.Speed=t,r.default.writeData("SPEED",this.Speed)},e.getAutomatic=function(){return this.automatic},e.setAutomatic=function(){this.automatic=!this.automatic,r.default.writeData("AUTOMATIC",this.automatic)},e.getMaxCustoms=function(){return this.maxcustoms},e.setMaxCustoms=function(t){this.maxcustoms=t,r.default.writeData("MAXCUSTOMS",this.maxcustoms)},e.getRoamBoxIsGet=function(){return this.roamboxisget},e.setRoamBoxIsGet=function(t){this.roamboxisget=t,r.default.writeData("ROAMBOXISGET",this.roamboxisget)},e.getLandmark=function(){return this.landmark},e.setLandmark=function(t){this.landmark[t]+=1,r.default.writeData("LANDMARK",this.landmark)},e.getRoamExp=function(){return this.roamexp},e.setRoamExp=function(t){this.roamexp+=t,r.default.writeData("ROAMEXP",this.roamexp)},e.getRoamBox=function(){return this.roambox},e.setRoamBox=function(t){this.roambox=t,r.default.writeData("ROAMBOX",this.roambox)},e.getPos=function(){return this.pos},e.setPos=function(t){this.pos=t,r.default.writeData("POS",this.pos)},e.getDiceNum=function(){return this.dicenum},e.setDiceNum=function(t){this.dicenum+=t,r.default.writeData("DICENUM",this.dicenum)},e.getDiceTime=function(){return this.dicetime},e.setDiceTime=function(t){this.dicetime=t,r.default.writeData("DICETIME",this.dicetime)},e.getReincarnCount=function(){return this.reincarncount},e.setReincarnCount=function(){this.reincarncount++,r.default.writeData("REINCARNCOUNT",this.reincarncount)},e.getPack=function(){return this.pack},e.setPack=function(t){this.pack=t,r.default.writeData("PACK",this.pack)},e.getMusic=function(){return this.music},e.setMusic=function(t){this.music=t,r.default.writeData("MUSIC",this.music)},e.getMopUp=function(){return this.mopup},e.setMopUp=function(t){this.mopup=t,r.default.writeData("MOPUP",this.mopup)},e.getResetCount=function(){return this.resetcount},e.setResetCount=function(t){this.resetcount=t,r.default.writeData("RESETCOUNT",this.resetcount)},e.getBuildLv=function(){return this.buildlv},e.setBuildLv=function(t){this.buildlv=t,r.default.writeData("BUILDLV",this.buildlv)},e.getMaxTier=function(){return this.maxtier},e.setMaxTier=function(t){this.maxtier=t,r.default.writeData("MAXTIER",this.maxtier)},e.getTier=function(){return this.tier},e.setTier=function(t){this.tier=t,r.default.writeData("TIER",this.tier)},e.getEveryDayCount=function(){return this.everydaycount},e.setEveryDayCount=function(){this.everydaycount++,r.default.writeData("EVERYDAYCOUNT",this.everydaycount)},e.getDrugCount=function(){return this.drugcount},e.setDrugCount=function(t){this.drugcount+=t,r.default.writeData("DRUGCOUNT",this.drugcount)},e.getRoamCount=function(){return this.roamcount},e.setRoamCount=function(){this.roamcount++,r.default.writeData("ROAMCOUNT",this.roamcount)},e.getAward=function(){return this.award},e.setAward=function(t){this.award=t,r.default.writeData("AWARD",this.award)},e.getEveryDay=function(){return this.everyday},e.setEveryDay=function(t){this.everyday=t,r.default.writeData("EVERYDAY",this.everyday)},e.getGuide=function(){return this.guide},e.setGuide=function(t){this.guide=t,r.default.writeData("GUIDE",this.guide)},e.getDisciple=function(){return this.discipleLv},e.setDisciple=function(t){this.discipleLv=t,r.default.writeData("DISCIPLELV",this.discipleLv),cc.systemEvent.emit(i.EventConst.Game_Guide)},e.getSkillLevel=function(){return this.skilllevel},e.setSkillLevel=function(t){this.skilllevel[t]+=1,r.default.writeData("SKILLLEVEL",this.skilllevel)},e.initSkillLevel=function(){this.skilllevel=[1,0,0,0,0],r.default.writeData("SKILLLEVEL",this.skilllevel)},e.getIntensify=function(){return this.intensifyLv},e.setIntensify=function(t){this.intensifyLv[t]+=1,r.default.writeData("INTENSIFYLV",this.intensifyLv)},e.getRealmExp=function(){return this.realmexp},e.setRealmExp=function(t){this.realmexp+=t,r.default.writeData("REALMEXP",this.realmexp)},e.getDrugNum=function(){return this.drugnum},e.setDrugNum=function(t){this.drugnum=t,r.default.writeData("DRUGNUM",this.drugnum)},e.getDrugBoxNum=function(){return this.drugboxnum},e.setDrugBoxNum=function(t){this.drugboxnum=t,r.default.writeData("DRUGBOXNUM",this.drugboxnum)},e.getDrugTime=function(){return this.drugtime},e.setDrugTime=function(t){this.drugtime=t,r.default.writeData("DRUGTIME",this.drugtime)},e.getDrugOver=function(){return this.drugover},e.setDrugOver=function(t){this.drugover=t,r.default.writeData("DRUGOVER",this.drugover)},e.getCustoms=function(){return this.customs},e.setCustoms=function(t){this.customs=t,r.default.writeData("CUSTOMS",this.customs),cc.systemEvent.emit(i.EventConst.Game_Guide)},e.getPetLevel=function(){return this.petlevel2},e.setPetLevel=function(t,e){this.petlevel2[t]=e,r.default.writeData("PETLEVEL2",this.petlevel2)},e.getPetExp=function(){return this.petexp2},e.setPetExp=function(t,e,n){void 0===n&&(n=!1),n?this.petexp2[t]=e:this.petexp2[t]+=e,r.default.writeData("PETEXP2",this.petexp2)},e.getNowArtifacts=function(){return this.nowartifacts},e.setNowArtifacts=function(t){this.nowartifacts=t,r.default.writeData("NOWARTIFACTS",this.nowartifacts)},e.getMaxArtifacts=function(){return this.maxartifacts},e.setMaxArtifacts=function(t){this.maxartifacts=t,r.default.writeData("MAXARTIFACTS",this.maxartifacts)},e.getArtifactslist=function(){return this.artifactslist},e.setArtifactslist=function(t){this.artifactslist=t,r.default.writeData("ARTIFACTSLIST",this.artifactslist)},e.getUnlockArtifacts=function(){return this.unlockartifacts},e.setUnlockArtifacts=function(){this.unlockartifacts.push(),r.default.writeData("UNLOCKARTIFACTS",this.unlockartifacts)},e.getBuyCount=function(){return this.buycount},e.setBuyCount=function(t){void 0===t&&(t=!1),t?this.buycount=0:this.buycount+=1,r.default.writeData("BUYCOUNT",this.buycount)},e.setIsFristLoad=function(){r.default.writeData("ISFRISTLOAD",!1)},e.getCoin=function(){return this.coin},e.setCoin=function(t){this.coin+=t,r.default.writeData("COIN",this.coin)},e.getJewel=function(){return this.jewel},e.setJewel=function(t){this.jewel+=t,r.default.writeData("JEWEL",this.jewel)},e.getLevel=function(){return this.level},e.setLevel=function(t){t?this.level=t:this.level+=1,r.default.writeData("LEVEL",this.level),this.level>this.getMaxLevel()&&this.setMaxLevel(this.level),cc.systemEvent.emit(i.EventConst.Game_Guide),cc.systemEvent.emit(i.EventConst.Game_Up)},e.getMaxLevel=function(){return this.maxlevel},e.setMaxLevel=function(t){this.maxlevel=t,r.default.writeData("MAXLEVEL",this.maxlevel)},e.getSex=function(){return this.sex},e.setSex=function(t){this.sex=t,r.default.writeData("SEX",this.sex)},e.getTeam=function(){return this.team},e.setTeam=function(t){this.team=t,r.default.writeData("TEAM",this.team)},e._clearGameData=function(){cc.sys.localStorage.clear()},e.getIsFirst=function(){return this.isFirstLoad},e.setIsFirst=function(){this.isFirstLoad=!1,r.default.writeData("ISFRISTLOAD",this.isFirstLoad)},e.getisAddToDesktop=function(){return this.isAddToDesktop},e.setisAddToDesktop=function(){this.isAddToDesktop=!0,r.default.writeData("ISADDTODESKTOP",this.isAddToDesktop)},e.setOffTime=function(){var t=new Date;this.saveTime=t.getTime(),r.default.writeData("SAVETIME",this.saveTime)},e.getOffTime=function(){return this.saveTime},e.customs=0,e.maxcustoms=0,e.serverTime=0,e.saveTime=0,e.todayTime=0,e.sex=0,e.level=1,e.maxlevel=1,e.resume=0,e.isFirstLoad=!0,e.coin=0,e.jewel=0,e.crystal=0,e.jade=0,e.crystalboxopencount=0,e.herbCount=0,e.petlevel2=[],e.petexp2=[],e.quickfight=3,e.quality=0,e.garden=[],e.garden2=[],e.magic=[],e.callerevent=[],e.gardenlv=1,e.jadefreecount=10,e.realmexp=0,e.intensifyLv=[],e.skilllevel=[1,0,0,0,0],e.discipleLv=[],e.petIndex=0,e.devil=0,e.online=0,e.onlineisget=[0,0,0,0],e.day=0,e.signisget=!1,e.expeditionmop=0,e.reincarnadd=0,e.videocount=0,e.novicegift=0,e.sharerecorder=!1,e.offcount=0,e.herbgift=0,e.crystalgfit=0,e.music=!0,e.maxartifacts=0,e.artifactslist=[],e.buycount=0,e.unlockartifacts=[],e.nowartifacts=0,e.drugnum=[],e.drugtime=[],e.drugover=[],e.drugboxnum=[],e.drugcount=0,e.buildlv=[],e.guide=[1,0],e.everyday=[],e.everydaycount=0,e.freeboxcount=0,e.freeboxtime=0,e.fiveboxcount=0,e.fiveboxtime=0,e.reincarncount=0,e.pack=[],e.tier=0,e.maxtier=0,e.resetcount=1,e.mopup=1,e.reset=1,e.award=[],e.roamcount=0,e.dicenum=0,e.dicetime=0,e.pos=0,e.roamexp=0,e.roambox=[],e.landmark=[],e.roamboxisget=[],e.team=[],e._tipTxt=null,e.fightTxt=null,e.artifacts=null,e.disciple=null,e.OutputCoin=null,e.magicitem=null,e.FightUp=null,e.SkillSp=null,e.meteor=null,e.Thunder=null,e.Eddy=null,e.Star=null,e.wzlxHit=null,e.hit=null,e.star=null,e.Wind=null,e.Knife=null,e.buttet=null,e.CureMatrix=null,e.BaneMatrix=null,e.Moon=null,e.Flame=null,e.Flamepalm=null,e.Fireball=null,e.danMadicine=null,e.yehuo=null,e.PersistCure=null,e.Hothalo=null,e.SkillLJ=null,e.SkillHC=null,e.CoinIcon=null,e.rewardItem=null,e.packitem=null,e.SectTxt=null,e.equipitem=null,e.spectrum=null,e.raiseditem=null,e.roamboxitem=null,e.monster=null,e.GuideMonster=null,e.debuff=null,e.islogin=!1,e.automatic=!1,e.tick=!0,e.disater=100,e.source=0,e.isPetToGarden=!1,e.doBreak=!1,e.doMove=!0,e.speed=1.2,e.Speed=!1,e.channel="WY",e.savetodesktip=!1,e.subscribeMsg=!1,e.addmy=!1,e.addcolorsign=!1,e.addTime=0,e.isAddToDesktop=!1,e.isaddColorSign=!1,e.isShowBannerAd=!0,e.isShowInterAd=!0,e.isShowVideoAd=!0,e.isjumpguide=!1,e.PanelAd=4,e.userid="",e.openid="",e.interTime=0,e.isdorecorder=0,e}(cc.Component);n.default=c,cc._RF.pop()},{"../Manager/MagicDataManager":"MagicDataManager","../Tools/EventConst":"EventConst","./Recorder":"Recorder"}],GameTools:[function(t,e,n){"use strict";cc._RF.push(e,"0ff4adw5SxFpoNFIDkfMaQi","GameTools");var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../record/GameSys"),i=t("../platform/TTManager"),s=t("../platform/SdkManager"),c=t("../platform/AndroidManager"),l=t("../platform/QQManager"),u=t("../platform/IOSManager"),p=t("../platform/WxManager"),d=t("../platform/OppoManager"),f=t("../platform/VivoManager"),h=t("../platform/WyManager"),y=function(){function t(){}return t.getSdk=function(){if(null==this.sdkInstance)switch(r.default.channel){case"blank":this.sdkInstance=new s.default;break;case"Android":this.sdkInstance=new c.default;break;case"TT":this.sdkInstance=new i.default;break;case"QQ":this.sdkInstance=new l.default;break;case"IOS":this.sdkInstance=new u.default;break;case"WX":this.sdkInstance=new p.default;break;case"OPPO":this.sdkInstance=new d.default;break;case"VIVO":this.sdkInstance=new f.default;break;case"WY":this.sdkInstance=new h.default}return this.sdkInstance},t.get0Time=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),a=t.getDate();return new Date(e,n,a).getTime()},t.randomMinToMax=function(t,e){var n=Math.random();return parseInt(100*(n*(e-t)+t)+"")/100},t.getHowPoint=function(t,e){var n=t*e;return Math.floor(n)/e},t.isWxGame=function(){return cc.sys.platform==cc.sys.WECHAT_GAME},t.cocosToWX=function(t){var e=cc.view.getFrameSize().width,n=cc.view.getFrameSize().height,a=cc.winSize.width,o=cc.winSize.height,r=t.width,i=t.height,s=t.convertToWorldSpace(cc.v2(0,i));return cc.rect(e/a*s.x,(1-s.y/o)*n,e/a*r,n/o*i)},t.nowToZero=function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),o=86400-(3600*e+60*n+a);return console.log("now:",e,n,a,o),o},t.refSetCoin=function(t){if(t<1e3)return Math.floor(t)==t?t.toFixed(0)+"":t.toFixed(2)+"";for(var e="???",n=this.units.length,a=1,o=0;o<n;o++){var r=1e3*a;if(t<r){e=Math.floor(t/a*10)/10+this.units[o];break}a=r}return e},t.sec_to_timefunction=function(t){var e="";if(t>-1){var n=Math.floor(t/60),a=Math.floor(t-60*n);e=(n>=10?""+n:"0"+n)+":"+(a>=10?""+a:"0"+a)}return e},t.hour_min_secTimeFuncion=function(t){var e="";if(t>-1){var n=Math.floor(t/3600),a=Math.floor(t/60-60*n),o=Math.floor(t-3600*n-60*a),r=void 0,i=void 0,s=void 0;r=n.toString(),i=a.toString(),s=o.toString(),n<10&&(r="0"+n.toString()),a<10&&(i="0"+a.toString()),o<10&&(s="0"+o.toString()),e=r+":"+i+":"+s}return e},t.ConvertTargetToCurLocal=function(t,e){var n=cc.Vec2.ZERO;try{var a=t.getPosition(),o=t.parent.convertToWorldSpaceAR(a);n=e.convertToNodeSpaceAR(o)}catch(r){}return n},t.ConvertTargetCameraToCur=function(t,e,n,a){var o=t.parent.convertToWorldSpaceAR(t.getPosition()),r=e.getWorldToScreenPoint(o);return this.ConvertScreenPosToCoor(new cc.Vec2(r.x,r.y),n,a)},t.ConvertTargetPointToCoor=function(t,e,n){var a=cc.Vec2.ZERO;try{var o=e.convertToWorldSpaceAR(t);a=n.convertToNodeSpaceAR(o)}catch(r){}return a},t.ConvertScreenPosToCoor=function(t,e,n){var a=cc.Vec2.ZERO;try{var o=n.getScreenToWorldPoint(t),r=e.convertToNodeSpaceAR(o);a=new cc.Vec2(r.x,r.y)}catch(i){}return a},t.ConvertNumberToUit=function(t,e){void 0===e&&(e=this.normalUnits);var n=t<0,a="????",o=e;if((t=Math.abs(t))<1e3)return n?o[1]+t.toFixed(0)+"":t.toFixed(0)+"";for(var r=o.length,i=1,s=3;s<r;s++){var c=1e3*i;if(t<c){a=Math.floor(t/i*10)/10+o[s];break}i=c}return a.replace(".",o[0]),n&&(a=o[1]+a),a},t.ConvertNumberToAscii=function(t,e,n){void 0===e&&(e=this.normalUnits),void 0===n&&(n=!0);var a=(t=parseInt(t.toString())).toString();return t<0?(a=a.replace("-",""),a=e[1]+a):n&&(a=a.replace("+",""),a=e[2]+a),a},t.GetCloseInRectByPos=function(t,e){var n=Math.abs(e.yMax-t.y),a=Math.abs(e.yMin-t.y),o=Math.abs(e.xMin-t.x),r=Math.abs(e.xMax-t.x),i=n;return(i=(i=(i=i>a?a:i)>o?o:i)>r?r:i)==n?new cc.Vec2(t.x,e.yMax):i==a?new cc.Vec2(t.x,e.yMin):i==o?new cc.Vec2(e.xMin,t.y):new cc.Vec2(e.xMax,t.y)},t.GetComponentInParent=function(t,e){var n=t.parent;if(!n)return null;var a=n.getComponent(e);if(a)return a;try{return this.GetComponentInParent(n,e)}catch(o){return null}},t.IsPosInCanvas=function(t){var e=cc.find("Canvas");if(e){var n=this.ConvertTargetToCurLocal(t,e),a=e.width/2,o=e.height/2;return n.x>=-a&&n.x<=a&&n.y>=-o&&n.y<=o}return console.log("\u6ca1\u6709\u627e\u5230canvas!!!!"),!1},t.GetOneArray=function(t,e){for(var n=new Array,a=0;a<t;a++)n.push(e);return n},t.GetTwoArray=function(t,e,n){for(var a=new Array,o=0;o<t;o++)a.push(this.GetOneArray(e,n));return a},t.GetMinAngleValue=function(t,e){t%=360;var n=e%=360,a=Math.abs(t-e),o=e+360,r=Math.abs(t-o);r<a&&(a=r,n=o);var i=e-360,s=Math.abs(t-i);return s<a&&(a=s,n=i),new Array(t,n)},t.IsSpineContainAnim=function(t,e){var n=!1,a=t._skeletonCache.animations;if(a)for(var o=a.length,r=0;r<o;r++)if(a[r].name==e){n=!0;break}return n},t.RemoveFromArray=function(t,e){void 0===t&&(t=[]);var n=t.indexOf(e);n>-1&&t.splice(n,1)},t.GetNumFromArray=function(t,e){void 0===t&&(t=[]);for(var n=0,a=t.length,o=0;o<a;o++)t[o]==e&&(n+=1);return n},t.GetUpDirLocalVect=function(t,e){void 0===e&&(e=null),e=null==e?t.parent:e;var n=t.up,a=cc.v2(n.x,n.y);return e.convertToNodeSpaceAR(a)},t.IsGamePause=function(){return cc.director.isPaused()},t.GamePause=function(){cc.director.pause()},t.GameResume=function(){cc.director.resume()},t.getBundle=function(e){var n=null;switch(e){case"JsonBundle":n=t.Jsonbundle;break;case"Bundle":n=t.bundle;break;case"SpriteBundle1":n=t.SpriteBundle1}return n},t.GetRes=function(t,e,n){return this.getBundle(t).get(e,n)||(console.log("\u8fd8\u6ca1\u6709\u52a0\u8f7d\u8fc7\u7684\u8d44\u6e90\uff1a "+e),null)},t.loadJson=function(t,e){return a(this,void 0,void 0,function(){var n=this;return o(this,function(){return[2,new Promise(function(a){n.getBundle(t).load(e,cc.JsonAsset,function(t,e){t?(console.log(t),a({})):e instanceof cc.JsonAsset&&a(e.json)})})]})})},t.LoadFont=function(t,e){return a(this,void 0,void 0,function(){var n=this;return o(this,function(){return[2,new Promise(function(a){n.getBundle(t).load(e,cc.Font,function(t,e){t?(console.log(t),a(null)):a(e)})})]})})},t.loadAudioClip=function(t,e){return a(this,void 0,void 0,function(){var n=this;return o(this,function(){return[2,new Promise(function(a){n.getBundle(t).load(e,cc.AudioClip,function(t,e){t?(console.log(t),a(null)):a(e)})})]})})},t.loadPrefab=function(t,e){return a(this,void 0,void 0,function(){var n=this;return o(this,function(){return[2,new Promise(function(a){n.getBundle(t).load(e,cc.Prefab,function(t,e){t?(console.log(t),a(null)):a(e)})})]})})},t.loadImage=function(t,e){return a(this,void 0,void 0,function(){var n=this;return o(this,function(){return[2,new Promise(function(a){n.getBundle(t).load(e,cc.SpriteFrame,function(t,e){t?(console.log(t),a(null)):a(e)})})]})})},t.LoadSpinData=function(t,e){return a(this,void 0,void 0,function(){var n=this;return o(this,function(){return[2,new Promise(function(a){n.getBundle(t).load(e,sp.SkeletonData,function(t,e){t?(console.log(t),a(null)):a(e)})})]})})},t.LoadAny=function(t,e,n){return a(this,void 0,void 0,function(){var a=this;return o(this,function(){return[2,new Promise(function(o){a.getBundle(t).load(e,n,function(t,e){t?(console.log(t),o(null)):o(e)})})]})})},t.SetGraySprite=function(t){var e=cc.Material.getBuiltinMaterial("2d-gray-sprite"),n=t.getMaterial(0);n&&n.material&&n.material==e||t.setMaterial(0,e)},t.ResetGraySprite=function(t){var e=cc.Material.getBuiltinMaterial("2d-sprite"),n=t.getMaterial(0);n&&n.material&&n.material==e||t.setMaterial(0,e)},t.SetGrayAllNode=function(t){for(var e=t.getComponentsInChildren(cc.RenderComponent),n=e.length,a=0;a<n;a++)this.SetGraySprite(e[a])},t.ResetGrayAllNode=function(t){for(var e=t.getComponentsInChildren(cc.RenderComponent),n=e.length,a=0;a<n;a++)this.ResetGraySprite(e[a])},t.sceneBundle=null,t.bundle=null,t.Jsonbundle=null,t.SpriteBundle1=null,t.sdkInstance=null,t.units=["","K","M","B","T","P","E","Z","Y","S","L","X","D","KK","KM","KB","KT","KP","KE","KZ","KY","KS","KL","KX","MM","MB","MT","MP","ME","MZ","MY","MS","ML","MX","MD"],t.normalUnits=[".","-","+","","K","M","B","T","P","E","Z","Y"],t.artNumberUnits=[".","/",":","","<","=",">"],t}();n.default=y,cc._RF.pop()},{"../platform/AndroidManager":"AndroidManager","../platform/IOSManager":"IOSManager","../platform/OppoManager":"OppoManager","../platform/QQManager":"QQManager","../platform/SdkManager":"SdkManager","../platform/TTManager":"TTManager","../platform/VivoManager":"VivoManager","../platform/WxManager":"WxManager","../platform/WyManager":"WyManager","../record/GameSys":"GameSys"}],GardenDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"9396bOpZYNMG7Ue3jX8P3gM","GardenDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/Garden"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","xiancao_land",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","xiancao_land")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).level=o.level,r.plantTime=o.plantTime,r.upgradeNeed=o.upgradeNeed,this.allDataList.push(r);return[2]}})})},e.prototype.getDataFromLevel=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e]},e.prototype.getUpGardenCoin=function(){for(var t=l.default.getGardenLv(),e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e].upgradeNeed},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/Garden":"Garden","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],GardenMessagePanel:[function(t,e,n){"use strict";cc._RF.push(e,"b70e1h/ea5CSr2TgU3js4vw","GardenMessagePanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/PropDataManager"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("./UIBase"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Content=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var t,e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:t=0,s.label=1;case 1:return t<this.Content.children.length?(e=l.default.Instance.GetHerbProp(t+1),n="PropFrame/"+e.rank,(a=p.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,3]:[4,p.default.loadImage("Bundle",n)]):[3,7];case 2:a=s.sent(),s.label=3;case 3:return(o=this.Content.children[t]).getChildByName("frame").getComponent(cc.Sprite).spriteFrame=a,r="PropIcon/"+e.icon,(i=p.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,5]:[4,p.default.loadImage("Bundle",r)];case 4:i=s.sent(),s.label=5;case 5:o.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=i,o.getChildByName("level").getComponent(cc.Label).string="Lv."+e.index,o.getChildByName("name").getComponent(cc.Label).string=e.name,o.getChildByName("state").getComponent(cc.Label).string=u.default.getGardenLv()>=t+1?c.i18nMgr.getLabel("Activated"):c.i18nMgr.getLabel("noactive"),o.getChildByName("state").color=u.default.getGardenLv()>=t+1?cc.color().fromHEX("#41DA2C"):cc.color().fromHEX("#DC4646"),u.default.getGardenLv()>=t+1?p.default.ResetGrayAllNode(o.getChildByName("frame")):p.default.SetGrayAllNode(o.getChildByName("frame")),u.default.getGardenLv()>=t+1?p.default.ResetGrayAllNode(o.getChildByName("icon")):p.default.SetGrayAllNode(o.getChildByName("icon")),s.label=6;case 6:return t++,[3,1];case 7:return[2]}})})},r([y(cc.Node)],e.prototype,"Content",void 0),r([h],e)}(d.default);n.default=g,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./UIBase":"UIBase"}],GardenPanel:[function(t,e,n){"use strict";cc._RF.push(e,"465e2dNKP5MConxE+VPeuku","GardenPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../i18n/i18nMgr"),u=t("../Item/gardenItem"),p=t("../Manager/GardenDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Mask=null,e.UpRed=null,e.VideoList=[],e.PlantBtn=null,e.UpSpeedBtn=null,e.GetBtn=null,e.PlantNum=null,e.GetNum=null,e.UpNum=null,e.Level=null,e.Content=[],e.PlantRed=null,e.GetRed=null,e.LvUpSp=null,e}return o(e,t),e.prototype.onEnable=function(){g.default.getSdk().sendEvent("plantLevel",{message:"\u7075\u690d\u56ed\u7b49\u7ea7",level:h.default.getGardenLv()})},e.prototype.onLoad=function(){var t=this;this.initItem(),cc.systemEvent.on(y.EventConst.RefGardenItem,this.initItem,this),cc.systemEvent.on(y.EventConst.RefGarden,this.init,this),cc.systemEvent.on(y.EventConst.Coin,function(){var e=p.default.Instance.getUpGardenCoin();h.default.getCoin()>=e?t.UpRed.active=!0:t.UpRed.active=!1},this)},e.prototype.initItem=function(){for(var t=0;t<this.Content.length;t++)this.Content[t].getComponent(u.default).setData(t)},e.prototype.init=function(){var t=p.default.Instance.getUpGardenCoin();this.UpNum.string=""+g.default.refSetCoin(t),this.Level.string="lv."+h.default.getGardenLv();for(var e=0,n=0,a=0,o=h.default.getGarden(),r=0;r<o.length;r++)o[r].unlock&&(e++,0==o[r].state&&a++,2==o[r].state&&n++);this.GetNum.string=n+"/"+e,this.GetRed.active=n>0,this.PlantNum.string=a+"/"+e,this.PlantRed.active=a>0},e.prototype.ClickSpeedUp=function(){if(f.default.instance.play(f.Sound.Click),13==c.default.instance.teacherid){this.ShowTeacher(2);for(var t=h.default.getGarden(),e=0;e<t.length;e++)0!=t[e].time&&(t[e].time=0,t[e].state=2);h.default.setGarden(t),b.default.instance.setText(-1,l.i18nMgr.getLabel("title211"))}else g.default.getSdk().PlatformCallBack("REWARD",function(){for(var t=h.default.getGarden(),e=0;e<t.length;e++)0!=t[e].time&&(t[e].time=0,t[e].state=2);h.default.setGarden(t),b.default.instance.setText(-1,l.i18nMgr.getLabel("title211")),g.default.getSdk().sendEvent("plantSpeed",{message:"\u79cd\u690d\u52a0\u901f"})},function(){b.default.instance.setText(-1,l.i18nMgr.getLabel("title148"))},-8)},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,p=this;return s(this,function(){for(f.default.instance.play(f.Sound.Click),t=h.default.getGarden(),e=[],n=0;n<t.length;n++)t[n].unlock&&2==t[n].state&&(a=h.default.getGarden(),o=d.default.Instance.GetHerbProp(a[n].herb),r=a[n].num,e.push({prop:o,have:r}),a[n].state=0,a[n].herb=0,a[n].num=0,a[n].time=0,h.default.setGarden(a),this.Content[n].getComponent(u.default).playGet());return e.length>0?cc.tween(this.node).call(function(){p.Mask.active=!0}).delay(.5).call(function(){return i(p,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 1:for(n.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(e),t=0;t<this.Content.length;t++)this.Content[t].getComponent(u.default).init();return g.default.getSdk().sendEvent("getHerb",{message:"\u91c7\u6458\u8349\u836f"}),this.Mask.active=!1,[2]}})})}).start():b.default.instance.setText(-1,l.i18nMgr.getLabel("title212")),13==c.default.instance.teacherid&&(S.default.Instance.GuideHand.active=!1,c.default.instance.teacherid=-1),[2]})})},e.prototype.ClickPlant=function(){f.default.instance.play(f.Sound.Click);for(var t=!1,e=h.default.getGarden(),n=0;n<e.length;n++)e[n].unlock&&0==e[n].state&&(this.Content[n].getComponent(u.default).ClickPlant(),t=!0);t?(b.default.instance.setText(-1,l.i18nMgr.getLabel("title213")),g.default.getSdk().sendEvent("plantHerb",{message:"\u79cd\u690d\u8349\u836f"})):b.default.instance.setText(-1,l.i18nMgr.getLabel("title214")),13==c.default.instance.teacherid&&this.ShowTeacher(1)},e.prototype.ClickUnlock=function(t,e){var n=this,a=parseInt(e);f.default.instance.play(f.Sound.Click),g.default.getSdk().PlatformCallBack("REWARD",function(){for(var t=0;t<4;t++)n.Content[4*a+t].getComponent(u.default).ClickUnlock();n.init()},function(){b.default.instance.setText(-1,l.i18nMgr.getLabel("title148"))},-17)},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),h.default.isPetToGarden&&(S.default.Instance.ShowUI(v.default.PET_PANEL),h.default.isPetToGarden=!1)},e.prototype.ClickUp=function(){f.default.instance.play(f.Sound.Click);var t=p.default.Instance.getUpGardenCoin();if(h.default.getCoin()<t)b.default.instance.setText(-1,l.i18nMgr.getLabel("title128")),S.default.Instance.ShowUI(v.default.FreeCoin);else{var e=h.default.getGardenLv();e>=10?b.default.instance.setText(-1,l.i18nMgr.getLabel("title215")):(e++,h.default.setGardenLv(e),S.default.Instance.ChangeCoin(-t),this.LvUpSp.setAnimation(0,"lvup",!1),this.init(),b.default.instance.setText(-1,l.i18nMgr.getLabel("title216")+e))}},e.prototype.ClickMessage=function(){f.default.instance.play(f.Sound.Click),S.default.Instance.ShowUI(v.default.GardenMessagePanel)},e.prototype.ShowTeacher=function(t){var e=null;switch(t){case 0:e=this.PlantBtn;break;case 1:e=this.UpSpeedBtn;break;case 2:e=this.GetBtn}S.default.Instance.GuideHand.active=!0;var n=e.parent.convertToWorldSpaceAR(e.getPosition()),a=S.default.Instance.GuideHand.parent.convertToNodeSpaceAR(n);S.default.Instance.GuideHand.setPosition(a)},r([M(cc.Node)],e.prototype,"Mask",void 0),r([M(cc.Node)],e.prototype,"UpRed",void 0),r([M(cc.Node)],e.prototype,"VideoList",void 0),r([M(cc.Node)],e.prototype,"PlantBtn",void 0),r([M(cc.Node)],e.prototype,"UpSpeedBtn",void 0),r([M(cc.Node)],e.prototype,"GetBtn",void 0),r([M(cc.Label)],e.prototype,"PlantNum",void 0),r([M(cc.Label)],e.prototype,"GetNum",void 0),r([M(cc.Label)],e.prototype,"UpNum",void 0),r([M(cc.Label)],e.prototype,"Level",void 0),r([M(cc.Node)],e.prototype,"Content",void 0),r([M(cc.Node)],e.prototype,"PlantRed",void 0),r([M(cc.Node)],e.prototype,"GetRed",void 0),r([M(sp.Skeleton)],e.prototype,"LvUpSp",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Item/gardenItem":"gardenItem","../Manager/GardenDataManager":"GardenDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],Garden:[function(t,e,n){"use strict";cc._RF.push(e,"2cb64/JCh1OEJgpGyrw0TcO","Garden"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],GiftDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"34c8axNMtBO6L7wppsFTt3m","GiftDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/GiftData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","gift",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","gift")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.type=o.type,r.totalTimes=o.totalTimes,r.need=o.need,r.start=o.start,r.end=o.end,r.keepTime=o.keepTime,r.item1=o.item1,r.item1Num=o.item1Num,r.item2=o.item2,r.item2Num=o.item2Num,r.item3=o.item3,r.item3Num=o.item3Num,r.item4=o.item4,r.item4Num=o.item4Num,this.allDataList.push(r);return[2]}})})},e.prototype.getGift=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},e.prototype.GetNoviceGift=function(){for(var t=l.default.getNoviceGift(),e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].id<=3&&e.push(this.allDataList[n]);return e[t]},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/GiftData":"GiftData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],GiftData:[function(t,e,n){"use strict";cc._RF.push(e,"1e4ecHBRT1K7aaRUqfo7huD","GiftData");var a=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,i=(o.property,function(){function t(){}return a([r],t)}());n.default=i,cc._RF.pop()},{}],GiftTime:[function(t,e,n){"use strict";cc._RF.push(e,"7e9df59QiJCP7PpXR9iiV0Y","GiftTime");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Time=null,e.time=0,e}return o(e,t),e.prototype.onEnable=function(){this.time=30},e.prototype.update=function(t){this.time-=t,this.Time.string=Math.floor(this.time)+i.i18nMgr.getLabel("title113")},r([l(cc.Label)],e.prototype,"Time",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../i18n/i18nMgr":"i18nMgr"}],Gift:[function(t,e,n){"use strict";cc._RF.push(e,"1dcadDUpbVM4Lk62YZALnOT","Gift");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/SoundManager"),l=t("../record/GameSys"),u=t("../UI/PanelConst"),p=t("../UI/UIManager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CrystalBtn=null,e.HerbBtn=null,e.index=0,e}return o(e,t),e.prototype.onLoad=function(){this.initTween()},e.prototype.initTween=function(){var t=this,e=cc.tween(this.node).call(function(){switch(l.default.offcount>=6?t.index=2:l.default.getCrystalGift()>=3&&l.default.getHerbGift()>=3?t.index=2:0==t.index?l.default.getCrystalGift()>=3&&(t.index=1):l.default.getHerbGift()>=3&&(t.index=0),t.index){case 0:t.HerbBtn.active=!1,t.CrystalBtn.active=!0,cc.tween(t.CrystalBtn).to(0,{x:-150}).to(.3,{x:0}).start();break;case 1:t.CrystalBtn.active=!1,t.HerbBtn.active=!0,cc.tween(t.HerbBtn).to(0,{x:-150}).to(.3,{x:0}).start();break;case 2:t.CrystalBtn.active=!1,t.HerbBtn.active=!1,t.node.stopAllActions()}}).delay(30).call(function(){cc.tween(t.CrystalBtn).to(0,{x:0}).to(.3,{x:-150}).call(function(){t.CrystalBtn.active=!1}).start(),cc.tween(t.HerbBtn).to(0,{x:0}).to(.3,{x:-150}).call(function(){t.HerbBtn.active=!1}).start(),0==t.index?t.index=1:t.index=0}).delay(15);cc.tween(this.node).repeatForever(e).start()},e.prototype.ClickCrystal=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.CrystalBtn.active=!1,this.HerbBtn.active=!1,c.default.instance.play(c.Sound.Click),[4,p.default.Instance.ShowUI(u.default.CrystalGiftPanel)];case 1:return t.sent(),[2]}})})},e.prototype.ClickHerb=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.CrystalBtn.active=!1,this.HerbBtn.active=!1,c.default.instance.play(c.Sound.Click),[4,p.default.Instance.ShowUI(u.default.HerbGiftPanel)];case 1:return t.sent(),[2]}})})},r([h(cc.Node)],e.prototype,"CrystalBtn",void 0),r([h(cc.Node)],e.prototype,"HerbBtn",void 0),r([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../UI/PanelConst":"PanelConst","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],GiveUpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"db008XTcftAoIKbHzHZX0qI","GiveUpPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SoundManager"),s=t("./FightPanel"),c=t("./UIBase"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.ClickYes=function(){i.default.instance.play(i.Sound.Click),this.CloseThis(),s.default.instance.CloseThis()},e.prototype.ClickNo=function(){i.default.instance.play(i.Sound.Click),this.CloseThis()},e.prototype.start=function(){},r([u],e)}(c.default));n.default=p,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","./FightPanel":"FightPanel","./UIBase":"UIBase"}],GuideDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e9583S6nXBPKZUYhbY4VtYD","GuideDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/GuideData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e.datalist=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,l;return s(this,function(s){switch(s.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","guide",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","guide")];case 1:return e=s.sent(),[3,3];case 2:e=t.json,s.label=3;case 3:for(n=e.length,r=0;r<n;r++)i=e[r],(l=new c.default).itemNum=i.itemNum,l.mission=i.mission,l.item=i.item,l.unlock=i.unlock,l.rank=i.rank,l.id=i.id,l.talkId=i.talkId,l.tips=i.tips,l.unlockGift=i.unlockGift,this.allDataList.push(l);return null!=u.default.GetRes("JsonBundle","lilian_guide",cc.JsonAsset)?[3,5]:[4,u.default.loadJson("JsonBundle","lilian_guide")];case 4:return a=s.sent(),[3,6];case 5:a=t.json,s.label=6;case 6:for(o=a.length,r=0;r<o;r++)i=a[r],(l=new c.default).id=i.id,l.tips=i.tips,l.unlock=i.unlock,l.mission=i.mission,this.datalist.push(l);return[2]}})})},e.prototype.GetData=function(t){void 0===t&&(t=l.default.getGuide());for(var e=t[0],n=0;n<this.allDataList.length;n++){if(this.allDataList[n].id==e)return this.allDataList[n];if(n==this.allDataList.length-1)return this.allDataList[n]}},e.prototype.GetMaxNum=function(){return this.allDataList.length},e.prototype.isFinish=function(){var t=this.GetData();if(999999==t.rank){var e=l.default.getMaxCustoms();return{isFinsh:e>=t.mission,progress:e,maxprogress:t.mission}}var n=l.default.getMaxLevel();return{isFinsh:n>=t.rank,progress:n,maxprogress:t.rank}},e.prototype.isUnlcok=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].unlock==t&&(e=this.allDataList[n]);return 999999==e.rank?l.default.getMaxCustoms()>=e.mission:l.default.getMaxLevel()>=e.rank},e.prototype.ExpeditionGuide=function(){},e.prototype.CanUnlock=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].unlock==t&&(e=this.allDataList[n]);return""+e.tips},e.prototype.isHaveUnlockToLevel=function(){if(l.default.getLevel()<l.default.getMaxLevel())return null;for(var t=l.default.getMaxLevel(),e=0;e<this.allDataList.length;e++)if(999999!=this.allDataList[e].rank&&t==this.allDataList[e].rank)return this.allDataList[e];return null},e.prototype.isHaveUnlockToCustoms=function(){if(l.default.getCustoms()<l.default.getMaxCustoms())return null;for(var t=l.default.getMaxCustoms(),e=0;e<this.allDataList.length;e++)if(999999==this.allDataList[e].rank&&t==this.allDataList[e].mission)return this.allDataList[e];return null},e.prototype.isHaveTalk=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].unlock==t)return this.allDataList[e].talkId;return 999999},e.prototype.getUnlockReward=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].unlock==t)return this.allDataList[e].unlockGift},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/GuideData":"GuideData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],GuideData:[function(t,e,n){"use strict";cc._RF.push(e,"3cfc5ODMcxOxJT6DA6KceQc","GuideData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],GuideManager:[function(t,e,n){"use strict";cc._RF.push(e,"3ff73P6YZBGTpUr46XUu78T","GuideManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("./GameManager"),o=function(){function t(){}return t.getInstance=function(){return this.instance||(this.instance=new t,a.default.registObserver(this.instance)),this.instance},t.prototype.notify=function(t){return console.log(t),!1},t}();n.default=o,cc._RF.pop()},{"./GameManager":"GameManager"}],GuidePanel:[function(t,e,n){"use strict";cc._RF.push(e,"d70d5A1uwpI4Yv4wi/cMnib","GuidePanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/GuideDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/EventConst"),d=t("../Tools/GameTools"),f=t("./UIManager"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progress=null,e.getBtn=null,e.info=null,e.coin=null,e.accomplishSp=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.systemEvent.on(p.EventConst.GameStart,function(){t.initGuide()},this)},e.prototype.start=function(){cc.systemEvent.on(p.EventConst.Game_Guide,this.initGuide,this)},e.prototype.initGuide=function(){return i(this,void 0,void 0,function(){var t,e,n,a;return s(this,function(){return t=c.default.Instance.GetMaxNum(),u.default.getGuide()[0]>t?this.node.active=!1:(e=c.default.Instance.GetData(),n=c.default.Instance.isFinish(),this.getBtn.active!=n.isFinsh&&this.accomplishSp.setAnimation(0,"flash",!1),this.getBtn.active=n.isFinsh,a=e.itemNum,this.coin.string=""+d.default.refSetCoin(a),this.info.string=""+e.tips,this.progress.string=n.progress+"/"+n.maxprogress,n.progress>=n.maxprogress?this.progress.node.color=cc.color().fromHEX("#41DA2C"):this.progress.node.color=cc.color().fromHEX("#DC4646")),[2]})})},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(){return l.default.instance.play(l.Sound.Click),t=c.default.Instance.GetData(),e=t.itemNum,f.default.Instance.ChangeJade(e),(n=u.default.getGuide())[0]+=1,n[1]=0,u.default.setGuide(n),this.accomplishSp.setAnimation(0,"flash",!1),this.initGuide(),[2]})})},e.prototype.ClickGo=function(){return i(this,void 0,void 0,function(){return s(this,function(){return l.default.instance.play(l.Sound.Click),999999==c.default.Instance.GetData().rank?f.default.Instance.ShowGroup(1):f.default.Instance.ShowGroup(2),[2]})})},e.prototype.update=function(){},r([g(cc.Label)],e.prototype,"progress",void 0),r([g(cc.Node)],e.prototype,"getBtn",void 0),r([g(cc.Label)],e.prototype,"info",void 0),r([g(cc.Label)],e.prototype,"coin",void 0),r([g(sp.Skeleton)],e.prototype,"accomplishSp",void 0),r([y],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../Manager/GuideDataManager":"GuideDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./UIManager":"UIManager"}],HeartDevilDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"08deax5rEhEcLdBvJa+paT+","HeartDevilDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/HeartDevilData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(r){switch(r.label){case 0:return null!=u.default.GetRes("JsonBundle","AD_xinmo_lingqi",cc.JsonAsset)?[3,2]:[4,u.default.loadJson("JsonBundle","AD_xinmo_lingqi")];case 1:t=r.sent(),r.label=2;case 2:for(e=Object.keys(t).length,n=0;n<e;n++)a=t[n],(o=new c.default).minlevel=a.rangeMix,o.maxlevel=a.rangeMax,o.time=a.interval,o.cout=a.times,o.lingqiAD=a.lingqiAD,o.id=a.id,this.allDataList.push(o);return[2]}})})},e.prototype.isHaveDevil=function(t){return void 0===t&&(t=l.default.getLevel()),i(this,void 0,void 0,function(){var e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return this.allDataList.length<=0?[4,this.Init()]:[3,2];case 1:s.sent(),s.label=2;case 2:for(e=null,r=0;r<this.allDataList.length;r++)t>=this.allDataList[r].minlevel&&t<=this.allDataList[r].maxlevel&&(e=this.allDataList[r]);if(n=10*Math.floor(l.default.getMaxLevel()/10),t<(a=n-10)&&l.default.getMaxLevel()>20)return[2,null];if(t>a&&t<n&&t==a+5)return[2,e.time];if(e.cout<=0)return[2,null];switch(o=[],e.cout){case 1:o=[5];break;case 2:o=[3,7];break;case 3:o=[2,5,8]}for(r=0;r<o.length;r++)if(i=10*Math.floor(t/10),t==i+o[r])return[2,e.time];return[2,null]}})})},e.prototype.getVideoCoin=function(){for(var t=l.default.getLevel(),e=null,n=0;n<this.allDataList.length;n++)t>=this.allDataList[n].minlevel&&t<=this.allDataList[n].maxlevel&&(e=this.allDataList[n]);return e.lingqiAD},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/HeartDevilData":"HeartDevilData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],HeartDevilData:[function(t,e,n){"use strict";cc._RF.push(e,"b8dbdaD+/lHaZID03Psy4ZQ","HeartDevilData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],HerbDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"b431cjmz+ZGHpjCRicQ676f","HerbDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/Herb"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","xiancao",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","xiancao")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.name=o.name,r.exp=o.exp,this.allDataList.push(r);return[2]}})})},e.prototype.getHerbfromId=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/Herb":"Herb","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],HerbGiftPanel:[function(t,e,n){"use strict";cc._RF.push(e,"b8b51U+Cr5Frbow4FzqexPX","HerbGiftPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GiftDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Item=[],e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return t.prototype.onEnable.call(this),999999==(e=p.default.Instance.getGift(4)).item1?[3,5]:(this.Item[0].active=!0,n=d.default.Instance.GetProp(e.item1),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",a)]);case 1:o=s.sent(),s.label=2;case 2:return this.Item[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,g.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.Item[0].getComponent(cc.Sprite).spriteFrame=i,this.Item[0].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item1Num),this.Item[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,6];case 5:this.Item[0].active=!1,s.label=6;case 6:return 999999==e.item2?[3,11]:(this.Item[1].active=!0,n=d.default.Instance.GetProp(e.item2),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,8]:[4,g.default.loadImage("Bundle",a)]);case 7:o=s.sent(),s.label=8;case 8:return this.Item[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("Bundle",r)];case 9:i=s.sent(),s.label=10;case 10:return this.Item[1].getComponent(cc.Sprite).spriteFrame=i,this.Item[1].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item2Num),this.Item[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,12];case 11:this.Item[1].active=!1,s.label=12;case 12:return 999999==e.item3?[3,17]:(this.Item[2].active=!0,n=d.default.Instance.GetProp(e.item3),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,14]:[4,g.default.loadImage("Bundle",a)]);case 13:o=s.sent(),s.label=14;case 14:return this.Item[2].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,16]:[4,g.default.loadImage("Bundle",r)];case 15:i=s.sent(),s.label=16;case 16:return this.Item[2].getComponent(cc.Sprite).spriteFrame=i,this.Item[2].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item3Num),this.Item[2].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,18];case 17:this.Item[2].active=!1,s.label=18;case 18:return 999999==e.item4?[3,23]:(this.Item[3].active=!0,n=d.default.Instance.GetProp(e.item4),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,20]:[4,g.default.loadImage("Bundle",a)]);case 19:o=s.sent(),s.label=20;case 20:return this.Item[3].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,22]:[4,g.default.loadImage("Bundle",r)];case 21:i=s.sent(),s.label=22;case 22:return this.Item[3].getComponent(cc.Sprite).spriteFrame=i,this.Item[3].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item4Num),this.Item[3].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,24];case 23:this.Item[3].active=!1,s.label=24;case 24:return[2]}})})},e.prototype.CanGetNum=function(t,e){return 1==t.type?u.default.Instance.GetOutPut()*e:2==t.type?l.default.Instance.GetOutPut()*e:e},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),h.default.offcount++,this.CloseThis()},e.prototype.ClickGet=function(){var t=this;f.default.instance.play(f.Sound.Click),g.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=[],999999!=(e=p.default.Instance.getGift(4)).item1&&(n=d.default.Instance.GetProp(e.item1),t.push({prop:n,have:e.item1Num})),999999!=e.item2&&(n=d.default.Instance.GetProp(e.item2),t.push({prop:n,have:e.item2Num})),999999!=e.item3&&(n=d.default.Instance.GetProp(e.item3),t.push({prop:n,have:e.item3Num})),999999!=e.item4&&(n=d.default.Instance.GetProp(e.item4),t.push({prop:n,have:e.item4Num})),[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 1:return a.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t),h.default.setHerbGift(),this.CloseThis(),cc.systemEvent.emit(y.EventConst.Game_Up),[2]}})})},function(){b.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-22)},r([M(cc.Node)],e.prototype,"Item",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],Herb:[function(t,e,n){"use strict";cc._RF.push(e,"f8b558APiVAFYIWGBmLB8kk","Herb"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],HeroDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"0ba84gubrlCT7Cxnx7C7DG/","HeroDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/TeamerData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./ArtifactsDataManager"),d=t("./DiscipleDataManager"),f=t("./MagicDataManager"),h=t("./PetDataManager"),y=t("./SingleBase"),g=t("./TeamSkillDataManager"),v=cc._decorator,m=v.ccclass,b=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","character_hero",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","character_hero")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=0,r.hit=o.hit,r.realm=o.rank,r.level=o.level,r.atk=o.atk,r.interval=o.atkSpeed,r.atkSpeed=60/r.interval,r.dodge=o.avoid,r.crit=o.cri,r.maxmp=o.mp,r.hp=o.hp,r.maxhp=o.hp,r.name=o.name,r.type=o.atkType,this.allDataList.push(r);return[2]}})})},e.prototype.GetFightNum=function(){var t=this.GetRole();return.1*t.hp+t.interval*t.atk/60*.6},e.prototype.GetBasiFight=function(){var t=this.GetBasicRole();return.1*t.hp+t.interval*t.atk/60*.6},e.prototype.GetBasicRole=function(t){void 0===t&&(t=l.default.getLevel());for(var e=null,n=0;n<this.allDataList.length;n++){if(this.allDataList[n].level==t){e=this.allDataList[n];break}if(n>=this.allDataList.length-1){e=this.allDataList[n];break}}return{id:e.id,level:e.level,realm:e.realm,hp:e.hp,atk:e.atk,interval:e.interval,atkSpeed:e.atkSpeed,hit:e.hit,dodge:e.dodge,crit:e.crit,maxhp:e.maxhp,maxmp:e.maxmp,name:e.name,injured_anger:e.injured_anger,Shot_anger:e.Shot_anger,type:e.type,time_anger:e.time_anger}},e.prototype.GetRole=function(t){void 0===t&&(t=l.default.getLevel());var e=this.GetBasicRole(t),n={id:e.id,level:e.level,realm:e.realm,hp:e.hp,atk:e.atk,interval:e.interval,atkSpeed:e.atkSpeed,hit:e.hit,dodge:e.dodge,crit:e.crit,maxhp:e.maxhp,maxmp:e.maxmp,name:e.name,injured_anger:e.injured_anger,Shot_anger:e.Shot_anger,type:e.type,time_anger:e.time_anger},a=this.GetAddAtk();n.atk*=a;var o=this.GetAddHp();n.hp*=o,n.maxhp=n.hp;var r=this.GetAddCrit(t);n.crit+=r;var i=this.GetAddHit();n.hit+=i;var s=this.GetAddDodge();return n.dodge+=s,n.atkSpeed=60/n.interval,n},e.prototype.IsUnlockSkill=function(t){return this.getAllSkill()[t].level>0},e.prototype.getAllSkill=function(){return g.default.Instance.getSkillToName(this.GetRole().name)},e.prototype.GetAddAtk=function(){return p.default.Instance.GetAddAtk()+f.default.Instance.getAddAtk()},e.prototype.GetAddHp=function(){return p.default.Instance.GetAddHp()+f.default.Instance.getAddHp()},e.prototype.GetAddCrit=function(){return p.default.Instance.GetAddCrit()},e.prototype.GetAddHit=function(){return p.default.Instance.GetAddHit()},e.prototype.GetAddDodge=function(){return p.default.Instance.GetAddDodge()},e.prototype.GetVisualizeArray=function(t){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20][t]},e.prototype.GetRealm=function(t){for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].level==t)return this.allDataList[e].realm;if(e>=this.allDataList.length-1)return this.allDataList[e].realm}},e.prototype.GetMaxFight=function(){return i(this,void 0,void 0,function(){var t,e,a;return s(this,function(o){switch(o.label){case 0:t=0,t+=n.Instance.GetFightNum(),t+=h.default.Instance.GetFightNum(),e=0,o.label=1;case 1:return e<4?d.default.Instance.GetIsUnlock(e)?(a=t,[4,d.default.Instance.GetFightNum(e)]):[3,3]:[3,4];case 2:t=a+o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2,t]}})})},n=r([m],e)}(y.default));n.default=b,cc._RF.pop()},{"../Data/TeamerData":"TeamerData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./ArtifactsDataManager":"ArtifactsDataManager","./DiscipleDataManager":"DiscipleDataManager","./MagicDataManager":"MagicDataManager","./PetDataManager":"PetDataManager","./SingleBase":"SingleBase","./TeamSkillDataManager":"TeamSkillDataManager"}],Hothalo:[function(t,e,n){"use strict";cc._RF.push(e,"d8b69UJfHhERoFiFeOgoQGC","Hothalo");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atk=0,e.count=0,e.do=!1,e.time=0,e.master=null,e}return o(e,t),e.prototype.init=function(t,e){this.atk=t,this.count=0,this.do=!0,this.master=e},e.prototype.start=function(){},e.prototype.DoAtk=function(){this.count++;for(var t=s.default.instance.GetMonster(),e=0;e<t.length;e++)t[e].TheStrike(this.atk,100,!1,!1,10);this.count>=10&&(this.do=!1,i.default.Hothalo.restor(this.node))},e.prototype.update=function(t){s.default.instance.state!=s.FightState.ready?this.do&&(this.time<=0?(this.time=1,this.DoAtk()):this.time-=t*i.default.speed):i.default.Hothalo.restor(this.node)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],HttpClient:[function(t,e,n){"use strict";cc._RF.push(e,"d3ae9/B94hHyaiQZrxqoLF1","HttpClient"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("../record/GameSys"),o=t("./MD5"),r=function(){function t(){}return t.init=function(){},t.get=function(t,e){console.log("url:>>"+t);var n=new XMLHttpRequest;n.timeout=3e4,n.onload=function(){if(n.status>=200||n.status<400){var t=n.responseText;e.success(t)}},n.ontimeout=function(){console.log("http\u7684\u56de\u8c03 -------------xhr.ontimeout"),e.fail(n.status)},n.onerror=function(t){console.log("http\u7684\u56de\u8c03---------- xhr.onerror",JSON.stringify(t)),e.fail(n.status)},n.open("GET",t,!0),n.send()},t.RequestHttpData=function(e,n,a,o){var r="https://sapi.tomato123.cn/union/game/getcontrol";r+="?gameid="+encodeURIComponent(e),r+="&gchannelid="+encodeURIComponent(n),o&&(r+="&version="+encodeURIComponent(o)),t.get(r,a)},t.post=function(t,e,n,a){console.log("url:>>"+t+"<<");var o=new XMLHttpRequest;o.timeout=3e4,o.onload=function(){if(200==o.status||304==o.status){var t=o.responseText;n.success&&n.success(t)}},n.fail&&(o.ontimeout=function(){n.fail("timeout")},o.onerror=function(){n.fail("error")}),o.open("POST",t,!0),null!=a&&o.setRequestHeader("content-type",a),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(e)},t.put=function(t,e,n,a){console.log("put,url:>>"+t+"<<");var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var t=o.responseText;n.success&&(console.info(t+"["+typeof t+" ]"),n.success(t))}},n.fail&&(o.ontimeout=function(){n.fail("timeout")},o.onerror=function(){n.fail("error")}),o.open("PUT",t,!0),a&&o.setRequestHeader("Content-Type",a),console.log("put\u91cc\u7684body,",e,a),o.send(e)},t.query=function(e){var n=this.remoteUrl+"/ttgames/config/"+this.gid+"/"+this.vid;t.get(n,e)},t.login=function(e,n,a){var o=this.gameUrl+"/user/login",r="anonymous_code="+encodeURIComponent(e);r+="&code="+encodeURIComponent(n),t.post(o,r,a)},t.setInfo=function(e,n,a,o){var r=this.gameUrl+"/user/saveInfo",i="uid="+encodeURIComponent(e);i+="&us="+encodeURIComponent(n),i+="&userInfo="+encodeURIComponent(a),t.post(r,i,o)},t.setEncryptedInfo=function(e,n,a,o,r){var i=this.gameUrl+"/user/saveRealInfo",s="uid="+encodeURIComponent(e);s+="&us="+encodeURIComponent(n),s+="&encryptedData="+encodeURIComponent(a),s+="&iv="+encodeURIComponent(o),t.post(i,s,r)},t.getInfo=function(e,n){var a=this.gameUrl+"/user/info";a+="?uid="+e,t.get(a,n)},t.getInfos=function(e,n){var a=this.gameUrl+"/user/infos";a+="?uids="+encodeURIComponent(JSON.stringify(e)),t.get(a,n)},t.saveData=function(t){this.gameRequest("https://sapi.tomato123.cn/game/index/setgamesave",{gameid:"158",userid:a.default.userid,data:t},function(t){console.log("\u4e91\u5b58\u50a8\u6210\u529f:",t)},function(t){console.log("\u4e91\u5b58\u50a8\u5931\u8d25:",t)})},t.saveDatas=function(e,n,a,o){var r=this.gameUrl+"/user/saveList",i="uid="+encodeURIComponent(e);i+="&us="+encodeURIComponent(n),i+="&kvData="+encodeURIComponent(JSON.stringify(a)),t.post(r,i,o)},t.loadData=function(t,e){this.gameRequest("https://sapi.tomato123.cn/game/index/getgamesave",{gameid:"158",userid:a.default.userid},function(e){var n=e.data;console.log("\u8bfb\u53d6\u6570\u636e\uff1a"+n),t(e)},function(t){console.log("loadFail",t),e(t)})},t.gameRequest=function(e,n,a,o){n.timestamp=Math.floor(Date.now()/1e3),t.postJson(e,n,{success:function(t){t&&(console.log("\u670d\u52a1\u5668\u83b7\u53d6\u8fd4\u56de\u7684code:",t.code),200==t.code?(console.log("\u6210\u529f\u56de\u8c03",t.code),a(t)):(console.log("\u5931\u8d25\u56de\u8c03",t.code),o(t)))},fail:function(t){console.log("error",t)}})},t.loadAllDatas=function(e,n){var a=this.gameUrl+"/user/loadAll";a+="?uid="+encodeURIComponent(e),t.get(a,n)},t.sendMail=function(e,n,a,o,r){var i=this.gameUrl+"/user/send";i+="?addr="+encodeURIComponent(e),i+="&uid="+encodeURIComponent(n),i+="&us="+encodeURIComponent(a),i+="&content="+encodeURIComponent(o),t.get(i,r)},t.receiveMail=function(e,n,a){var o=this.gameUrl+"/user/receive";o+="?uid="+encodeURIComponent(e),o+="&us="+encodeURIComponent(n),t.get(o,a)},t.getServerTime=function(e){var n=this.gameUrl+"/user/serverTime";t.get(n,e)},t.getJsonStr=function(e,n,a){if(void 0===a&&(a=!0),e.sign);else if(a){var o=t.getFormStr(e,n,!1,!1);e.sign=this.getMd5(o,n)}var r={},i=Object.keys(e);for(var s in i)"object"==typeof e[i[s]]?r[i[s]]=JSON.stringify(e[i[s]]):r[i[s]]=e[i[s]];return JSON.stringify(r)},t.getFormStr=function(t,e,n,a){void 0===n&&(n=!0),void 0===a&&(a=!0);var o=Object.keys(t).sort(),r="";for(var i in o)"object"==typeof t[o[i]]?r+=o[i]+"="+JSON.stringify(t[o[i]])+"&":"string"==typeof t[o[i]]&&a?r+=o[i]+"="+encodeURIComponent(t[o[i]])+"&":r+=o[i]+"="+t[o[i]]+"&";return r=r.substr(0,r.length-1),t.sign||n&&(r+="&sign="+this.getMd5(r,e)),r},t.getMd5=function(t,e){var n=(t=decodeURIComponent(t))+e;return o.default.hex_md5(n)},t.postJson=function(t,e,n){var a=this.getJsonStr(e,this.secret);this.post(t,a,n,this.HEADER_TYPE_JSON)},t.postObj=function(t,e,n,a){void 0===a&&(a=!0);var o=this.getFormStr(e,this.secret);this.post(t,o,{success:function(t){if(n.success){var e=JSON.parse(t);a&&200!=e.code?n.fail&&n.fail(e.code):n.success(t)}},fail:function(t){n.fail(t)}},this.HEADER_TYPE_FORM)},t._initialize=!1,t.gid=1016,t.vid=115,t.remoteUrl="http://192.168.0.19:8080",t.gameUrl="",t.HEADER_TYPE_FORM="application/x-www-form-urlencoded",t.HEADER_TYPE_JSON="application/json",t.secret="48bd7980fa2bc86e8b5fc125dfe93b95",t}();n.default=r,cc._RF.pop()},{"../record/GameSys":"GameSys","./MD5":"MD5"}],HuaWeiManager:[function(t,e,n){"use strict";cc._RF.push(e,"3359eVMOSBEY6y54av2/Q8/","HuaWeiManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("./PlatformConst"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardedVideoAd=null,e.rewardNum=0,e}return o(e,t),e.prototype.getChannel=function(){return"hw"},e.prototype.getChannelId=function(){return"0001066"},e.prototype.rewardedAdShow=function(t,e,n){void 0===t&&(t=-1),this.rewardedVideoAd||(this.rewardedVideoAd=hbs.createRewardedVideoAd({adUnitId:r.HwConst.param_rewardedVideo,success:function(){},fail:function(){},complete:function(){}})),this.rewardedVideoAd.onLoad(function(){console.log("ad loaded.")}),this.rewardedVideoAd.load(),this.rewardedVideoAd.onError(function(){n(!0)}),this.rewardedVideoAd.onClose(function(t){console.log("ad onClose: "+t.isEnded),t.isEnded?e():n(!0)}),this.rewardedVideoAd.show()},e}(t("./SdkManager").default);n.default=i,cc._RF.pop()},{"./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],IOSManager:[function(t,e,n){"use strict";cc._RF.push(e,"64cf7g3ny9OQrdesPklTvj0","IOSManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],i=0,s=r.length;i<s;i++,o++)a[o]=r[i];return a};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.callOC=function(t){for(var e,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return(e=jsb.reflection).callStaticMethod.apply(e,r(["MyAppManager",t],n))},e.prototype.getChannel=function(){return"ios"},e.prototype.getChannelId=function(){return"0001045"},e.prototype.bannerAdShow=function(t){void 0===t&&(t=0),e.callOC("showAdWithType:",1)},e.prototype.bannerAdShowAutoUpdate=function(t){void 0===t&&(t=0),this.bannerAdShowAutoUpdate(t)},e.prototype.bannerAdHide=function(){e.callOC("closeBanner")},e.prototype.interstitialAdShow=function(t){void 0===t&&(t=1),e.callOC("showAdWithType:",2),cc.fullVideoCallback={onResult:function(){}}},e.prototype.rewardedAdShow=function(t,n,a){void 0===t&&(t=-1),e.callOC("showAdWithType:",4),cc.adCallback={onResult:function(t){t?n():a(!1)}}},e.prototype.fullVideoAdShow=function(t){void 0===t&&(t=1),e.callOC("showAdWithType:",3),cc.fullVideoCallback={onResult:function(){}}},e.prototype.requestReview=function(){e.callOC("requestReview")},e.prototype.toGame=function(t){e.callOC("toGame:",t)},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),i.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e(),i.default.setVideoCount()},n)):"BANNER"==t?this.bannerAdShow():"BANNERCLOSE"==t?this.bannerAdHide():"INTER"==t&&this.interstitialAdShow()},e.prototype.login=function(t){t()},e}(t("./SdkManager").default);n.default=s,cc._RF.pop()},{"../record/GameSys":"GameSys","./SdkManager":"SdkManager"}],Knife:[function(t,e,n){"use strict";cc._RF.push(e,"05435k0kxtNN5IcM6mZR6sw","Knife");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.open=999,e.type=0,e.master=null,e.atk=0,e.move=!1,e.speed=2500,e.target=null,e.isover=!1,e.dir=null,e}return o(e,t),e.prototype.onLoad=function(){this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},e.prototype.initTeamer=function(t,e,n,a){this.Sp.setAnimation(0,"bullet",!0),this.open=.5*a,this.type=t,this.master=e,this.atk=n,this.move=!1,this.isover=!1;var o=Math.floor(3*Math.random());this.node.x=-500,this.node.angle=-180,this.node.y=[450,300,150][o]},e.prototype.initMonster=function(t,e,n,a){this.open=.5*a,this.type=t,this.master=e,this.atk=n,this.move=!1,this.isover=!1;var o=Math.floor(3*Math.random());this.node.angle=0,this.node.x=500,this.node.y=[450,300,150][o]},e.prototype.start=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.update=function(t){var e=this;if(s.default.instance.state==s.FightState.ready)return this.move=!1,void i.default.Knife.restor(this.node);if(this.open-=t*i.default.speed,this.open<=0&&!this.move){this.move=!0;var n=null;if(this.type,this.target=this.master.GetTarget(),!this.target||!this.target.node)return void i.default.Knife.restor(this.node);n=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition());var a=this.node.getPosition(),o=this.node.parent.convertToNodeSpaceAR(n),r=a.sub(o).signAngle(cc.v2(1,0)),c=r/Math.PI*180;this.node.angle=-c,this.dir=cc.v2(-Math.cos(r),Math.sin(r)),this.dir.normalizeSelf()}this.move&&!this.isover&&(this.node.x+=t*this.dir.x*i.default.speed*this.speed,this.node.y+=t*this.dir.y*i.default.speed*this.speed,!this.isover&&this.target&&this.target.node&&this.target.node.parent?(a=this.node.getPosition(),n=null,n=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition()),o=this.node.parent.convertToNodeSpaceAR(n),a.sub(o).mag()<=30&&(this.isover=!0,this.target.TheStrike(this.atk,this.master.role.hit,!1,!1),this.move=!1,this.Sp.setAnimation(0,"hit",!1),this.Sp.setCompleteListener(function(){i.default.Knife.restor(e.node)}))):i.default.Knife.restor(this.node),0==this.type?(this.node.x>700||this.node.y>1e3||this.node.y<-1e3)&&i.default.Knife.restor(this.node):(this.node.x<-700||this.node.y>1e3||this.node.y<-1e3)&&i.default.Knife.restor(this.node))},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],LevelUpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"a1498jbyCZCbYP/tkfUa1W5","LevelUpPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/HeroDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=t("./UIBase"),y=cc._decorator,g=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroup=null,e.PaintSp=null,e.aniSp=null,e.RealmLayout=null,e.RealmBackgroup=null,e.Realm=null,e.OutputLayout=null,e.Output=null,e.Outputadd=null,e.OutputBackgroup=null,e.Need=null,e.callback=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e,n){var a=this;t>1&&cc.director.getScheduler().setTimeScale(2.3),this.callback=n,cc.tween(this.node).call(function(){a.RealmLayout.active=!1,a.OutputLayout.active=!1,a.aniSp.node.active=!1,a.Realm.string=l.default.Instance.GetRealm(d.default.getLevel()-1),e?a.oldinitVisualize():a.initVisualize(),a.backgroup.opacity=0,cc.tween(a.backgroup).to(.8,{opacity:160}).start()}).delay(.5).call(function(){for(var e=function(e){cc.tween(a.node).delay(4*e).call(function(){a.aniSp.node.active=!0,p.default.instance.play(p.Sound.Shengji),a.aniSp.setAnimation(0,"tupo_2",!1)}).delay(3.5).call(function(){a.initRealmAnimation(t-1-e),a.initVisualize(),c.default.instance.initVisualize()}).start()},n=0;n<t;n++)e(n)}).delay(4*t).call(function(){a.initOutput()}).delay(.5).call(function(){cc.tween(a.backgroup).to(.8,{opacity:0}).call(function(){a.CloseThis(),cc.director.getScheduler().setTimeScale(1),a.callback&&(a.callback(),a.callback=null)}).start()}).start()},e.prototype.initVisualize=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return t=d.default.getSex(),e=d.default.getLevel(),n=Math.floor((e-1)/10),a=u.default.Instance.GetVisualizeArray(n),o="player"+t+"/play"+a+"/renwu"+a,(r=f.default.GetRes("Bundle",o,sp.SkeletonData))?[3,2]:[4,f.default.LoadSpinData("Bundle",o)];case 1:r=s.sent(),s.label=2;case 2:return this.PaintSp.skeletonData=r,i=1==a?"idle":"newAnimation",this.PaintSp.setAnimation(0,i,!0),[2]}})})},e.prototype.oldinitVisualize=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return t=d.default.getSex(),e=d.default.getLevel()-1,n=Math.floor((e-1)/10),(a=u.default.Instance.GetVisualizeArray(n))<=0&&(a=1),o="player"+t+"/play"+a+"/renwu"+a,(r=f.default.GetRes("Bundle",o,sp.SkeletonData))?[3,2]:[4,f.default.LoadSpinData("Bundle",o)];case 1:r=s.sent(),s.label=2;case 2:return this.PaintSp.skeletonData=r,i=1==a?"idle":"newAnimation",this.PaintSp.setAnimation(0,i,!0),[2]}})})},e.prototype.initRealmAnimation=function(t){var e=this;this.RealmLayout.active=!0,this.RealmLayout.stopAllActions();var n=d.default.getLevel()-t;this.Realm.string=l.default.Instance.GetRealm(n),this.RealmLayout.scale=3,cc.tween(this.RealmBackgroup).call(function(){e.RealmBackgroup.opacity=255}).to(.2,{opacity:0}).start(),cc.tween(this.RealmLayout).to(.15,{scale:1},{easing:"quadOut"}).start()},e.prototype.initOutput=function(){var t=this;this.OutputLayout.active=!0,this.OutputLayout.stopAllActions();var e=l.default.Instance.GetOutPut(),n=l.default.Instance.GetBaseOutPut();this.Output.string=f.default.refSetCoin(n)+"/\u79d2",this.Outputadd.string=f.default.refSetCoin(e-n)+"/\u79d2";var a=l.default.Instance.GetNeedCoin();this.Need.string=f.default.refSetCoin(a),this.OutputLayout.scale=2,cc.tween(this.OutputBackgroup).call(function(){t.OutputBackgroup.opacity=255}).to(.2,{opacity:0}).start(),cc.tween(this.OutputLayout).to(.15,{scale:1},{easing:"quadOut"}).start()},r([v(cc.Node)],e.prototype,"backgroup",void 0),r([v(sp.Skeleton)],e.prototype,"PaintSp",void 0),r([v(sp.Skeleton)],e.prototype,"aniSp",void 0),r([v(cc.Node)],e.prototype,"RealmLayout",void 0),r([v(cc.Node)],e.prototype,"RealmBackgroup",void 0),r([v(cc.Label)],e.prototype,"Realm",void 0),r([v(cc.Node)],e.prototype,"OutputLayout",void 0),r([v(cc.Label)],e.prototype,"Output",void 0),r([v(cc.Label)],e.prototype,"Outputadd",void 0),r([v(cc.Node)],e.prototype,"OutputBackgroup",void 0),r([v(cc.Label)],e.prototype,"Need",void 0),r([g],e)}(h.default);n.default=m,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./UIBase":"UIBase"}],LoadGroup:[function(t,e,n){"use strict";cc._RF.push(e,"54376pAKjFGMKKbDU7yFUD1","LoadGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./GameGroup/GameEntry"),l=t("./i18n/i18nMgr"),u=t("./Load/LoadManager"),p=t("./record/GameSys"),d=t("./record/Recorder"),f=t("./Tools/GameTools"),h=t("./Tools/ServerUtil"),y=cc._decorator,g=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.Bg=null,e.isStartLoad=!1,e.progress=null,e.loadLabel=null,e.gameEntry=null,e.MainScene=null,e.curFalseValue=0,e.falseValueAddSpeed=30,e.nextProgressValue=0,e._isLoadSuccess=!1,e._isLoginSuccess=!1,e._isCloudSysSucc=!1,e.ready=0,e.cout=0,e}return o(e,t),Object.defineProperty(e.prototype,"isLoadSuccess",{get:function(){return this._isLoadSuccess},set:function(t){this._isLoadSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoginSuccess",{get:function(){return this._isLoginSuccess},set:function(t){this._isLoginSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCloudSysSucc",{get:function(){return this._isCloudSysSucc},set:function(t){this._isCloudSysSucc=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.start=function(){"TT"==p.default.channel&&f.default.getSdk().addToFavorites(),l.i18nMgr.checkInit();var t=f.default.getSdk().getChannelId(),e=f.default.getSdk().getSecret(),n=f.default.getSdk().getGameId();h.default.init(n,t,e,"100"),this.StartLoading(),this.StartLogin()},Object.defineProperty(e.prototype,"loadDataDics",{get:function(){return{Jsons:cc.JsonAsset}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadSingleDics",{get:function(){return{"Prefabs/Game/Sect":cc.Prefab,"Prefabs/UIPanel/MainPanel":cc.Prefab}},enumerable:!1,configurable:!0}),e.prototype.loadAssetBundle=function(t){return i(this,void 0,void 0,function(){var e=this;return s(this,function(n){switch(n.label){case 0:return[4,cc.assetManager.loadBundle("Bundle",function(n,a){n&&console.log("this.Bundle is not find"),f.default.bundle=a,e.ready++,e.ready>=4&&t()})];case 1:return n.sent(),[4,cc.assetManager.loadBundle("JsonBundle",function(n,a){n&&console.log("this.JsonBundle is not find"),f.default.Jsonbundle=a,e.ready++,e.ready>=4&&t()})];case 2:return n.sent(),[4,cc.assetManager.loadBundle("SpriteBundle1",function(n,a){n&&console.log("this.SpriteBundle1 is not find"),f.default.SpriteBundle1=a,e.ready++,e.ready>=4&&t()})];case 3:return n.sent(),[4,cc.assetManager.loadBundle("MainScene",function(n,a){n&&console.log("this.Main is not find"),f.default.sceneBundle=a,e.ready++,e.ready>=4&&t()})];case 4:return n.sent(),[2]}})})},e.prototype.StartLoading=function(){return i(this,void 0,void 0,function(){var t=this;return s(this,function(){return f.default.getSdk().sendEvent("load",{message:"\u5f00\u59cb\u52a0\u8f7d"}),this.loadAssetBundle(function(){return i(t,void 0,void 0,function(){var t,e,n=this;return s(this,function(a){switch(a.label){case 0:return this.loadLabel.node.active=!0,this.isStartLoad=!0,this.curLoadManage=new u.default(this.loadDataDics,this.loadSingleDics,function(){n.Ready()}),t="Award/kaijibg",(e=f.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,2]:[4,f.default.loadImage("SpriteBundle1",t)];case 1:e=a.sent(),a.label=2;case 2:return this.Bg.spriteFrame=e,f.default.sceneBundle.loadScene("MainScene",function(t,e){t?console.log("\u4e3b\u573a\u666ferror:",t):(n.MainScene=e,n.Ready())}),[2]}})})}),[2]})})},e.prototype.StartLogin=function(){this.isLoginSuccess=!0,this.StartGetCloudSave()},e.prototype.Ready=function(){var t=this;this.cout++,this.cout>=2&&(this.gameEntry.RegistSingleTon(),this.gameEntry.InitSingleTon(function(){t.LoadFinish()}))},e.prototype.StartGetCloudSave=function(){this.isCloudSysSucc=!0},e.prototype.update=function(){this.isStartLoad&&(this.nextProgressValue!=this.curLoadManage.nextProgressValue?(this.curFalseValue=this.nextProgressValue,this.nextProgressValue=this.curLoadManage.nextProgressValue):(this.curFalseValue+=cc.director.getDeltaTime()*this.falseValueAddSpeed,this.curFalseValue=this.curFalseValue>this.curLoadManage.nextProgressValue?this.curLoadManage.nextProgressValue:this.curFalseValue),this.curFalseValue>=100&&(this.curFalseValue=99),this.progress.fillRange=Math.floor(this.curFalseValue)/100,this.loadLabel.string=l.i18nMgr.getLabel("title217")+Math.floor(this.curFalseValue)+"%",this.icon.x=527*Math.floor(this.curFalseValue)/100-263.5)},e.prototype.LoadFinish=function(){var t=this;this.progress.fillRange=1,this.icon.x=263.5,this.loadLabel.string=l.i18nMgr.getLabel("title217")+"100%",this.isStartLoad=!1,this.loadLabel.string=l.i18nMgr.getLabel("title218"),this.isLoadSuccess=!0,f.default.getSdk().sendEvent("loadsuccess",{message:"\u6210\u529f\u52a0\u8f7d"}),f.default.getSdk().login(function(){d.default.init(),cc.director.runScene(t.MainScene,function(){},function(){c.default.PlayGame()})},function(){console.log("\u767b\u5f55\u5931\u8d25\u4e86:")})},e.prototype.JudgeStartGame=function(){this.isLoadSuccess&&this.isLoginSuccess&&this.isCloudSysSucc&&this.unscheduleAllCallbacks()},r([v(cc.Node)],e.prototype,"icon",void 0),r([v(cc.Sprite)],e.prototype,"Bg",void 0),r([v(cc.Sprite)],e.prototype,"progress",void 0),r([v(cc.Label)],e.prototype,"loadLabel",void 0),r([v(c.default)],e.prototype,"gameEntry",void 0),r([g],e)}(cc.Component);n.default=m,cc._RF.pop()},{"./GameGroup/GameEntry":"GameEntry","./Load/LoadManager":"LoadManager","./Tools/GameTools":"GameTools","./Tools/ServerUtil":"ServerUtil","./i18n/i18nMgr":"i18nMgr","./record/GameSys":"GameSys","./record/Recorder":"Recorder"}],LoadItem:[function(t,e,n){"use strict";cc._RF.push(e,"55d3drGFWpHpajtBTtfXNnf","LoadItem"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Tools/GameTools"),o=function(){function t(t){this.totalCount=1,this.completeCount=0,this.curLoadManager=t}return t.prototype.StartLoadDir=function(t,e){var n=this;this.curLoadDirs=t,a.default.bundle.loadDir(t,e,function(t,e){n.completeCount=t,n.totalCount=e},function(){n.LoadFinish()})},t.prototype.StartLoadSignleRes=function(t,e){var n=this;this.curLoadDirs=t,a.default.bundle.load(t,e,function(){n.LoadFinish()})},t.prototype.LoadFinish=function(){this.curLoadManager.LoadFinishOne()},t}();n.default=o,cc._RF.pop()},{"../Tools/GameTools":"GameTools"}],LoadManager:[function(t,e,n){"use strict";cc._RF.push(e,"fb9f2Uw47pIDK/F34KgTwgx","LoadManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LoadItem"),o=function(){function t(t,e,n){for(var o in void 0===n&&(n=null),this.curLoadItems=new Array,this.curFinishNum=0,this.finishHandler=null,this.nextProgressValue=0,this.finishHandler=n,t)(r=new a.default(this)).StartLoadDir(o,t[o]),this.curLoadItems.push(r);for(var o in e){var r;(r=new a.default(this)).StartLoadSignleRes(o,t[o]),this.curLoadItems.push(r)}this.curLoadItems.length<=0&&this.finishHandler&&this.finishHandler()}return t.prototype.LoadFinishOne=function(){this.curFinishNum+=1,this.UpdateCurProgressValue(),this.curFinishNum>=this.curLoadItems.length&&(console.log("\u5168\u90e8\u52a0\u8f7d\u5b8c\u6210\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01"),this.finishHandler&&this.finishHandler())},t.prototype.UpdateCurProgressValue=function(){var t=this.curLoadItems.length;this.curFinishNum>=t-1?this.nextProgressValue=100:this.nextProgressValue=(this.curFinishNum+1)/t*100},t.prototype.GetLoadPercent=function(){for(var t=this.curLoadItems.length,e=0,n=0,a=0;a<t;a++){var o=this.curLoadItems[a];e+=o.totalCount,n+=o.completeCount}var r=n/e;return r*=100,Math.floor(r)},t}();n.default=o,cc._RF.pop()},{"./LoadItem":"LoadItem"}],LoadPanel:[function(t,e,n){"use strict";cc._RF.push(e,"266a9K5oBNNZol/Xod1MbWs","LoadPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./UIBase"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t){this.callback=t},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},e.prototype.update=function(){},r([c],e)}(i.default));n.default=l,cc._RF.pop()},{"./UIBase":"UIBase"}],LoadingPanel:[function(t,e,n){"use strict";cc._RF.push(e,"46645f186pEEa5e+2CNs9Ol","LoadingPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Load/LoadManager"),s=t("../Tools/GameTools"),c=t("./UIBase"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isStartLoad=!1,e.curFalseValue=0,e.falseValueAddSpeed=30,e.nextProgressValue=0,e._isLoadSuccess=!1,e._isLoginSuccess=!1,e._isCloudSysSucc=!1,e}return o(e,t),Object.defineProperty(e.prototype,"isLoadSuccess",{get:function(){return this._isLoadSuccess},set:function(t){this._isLoadSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoginSuccess",{get:function(){return this._isLoginSuccess},set:function(t){this._isLoginSuccess=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCloudSysSucc",{get:function(){return this._isCloudSysSucc},set:function(t){this._isCloudSysSucc=t,this.JudgeStartGame()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.loadLabel=this.node.getChildByName("txt").getComponent(cc.Label),this.loadLabel.node.active=!1},e.prototype.start=function(){this.StartLoading(),this.StartLogin()},Object.defineProperty(e.prototype,"loadDataDics",{get:function(){return{Jsons:cc.JsonAsset,"Prefabs/UI/Common":cc.Prefab}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadSingleDics",{get:function(){return{"Prefabs/Game/Sect":cc.Prefab,"Prefabs/UIPanel/MainPanel":cc.Prefab}},enumerable:!1,configurable:!0}),e.prototype.StartLoading=function(){var t=this;this.loadLabel.node.active=!0,this.isStartLoad=!0,this.curLoadManage=new i.default(this.loadDataDics,this.loadSingleDics,function(){t.LoadFinish()}),cc.assetManager.loadBundle("Bundle",function(t,e){t&&console.log("this.bundle is not find"),s.default.bundle=e})},e.prototype.StartLogin=function(){var t=this;s.default.getSdk().login(function(){t.isLoginSuccess=!0,t.StartGetCloudSave()},function(){console.log("\u767b\u5f55\u5931\u8d25\u4e86:")})},e.prototype.StartGetCloudSave=function(){this.isCloudSysSucc=!0},e.prototype.SetData=function(t){this.gameEntry=t},e.prototype.update=function(){this.isStartLoad&&(this.nextProgressValue!=this.curLoadManage.nextProgressValue?(this.curFalseValue=this.nextProgressValue,this.nextProgressValue=this.curLoadManage.nextProgressValue):(this.curFalseValue+=cc.director.getDeltaTime()*this.falseValueAddSpeed,this.curFalseValue=this.curFalseValue>this.curLoadManage.nextProgressValue?this.curLoadManage.nextProgressValue:this.curFalseValue),this.curFalseValue>=100&&(this.curFalseValue=99),this.loadLabel.string="\u52a0\u8f7d\u4e2d... "+Math.floor(this.curFalseValue)+"%")},e.prototype.LoadFinish=function(){var t=this;this.loadLabel.string="\u52a0\u8f7d\u4e2d... 100%",this.isStartLoad=!1,this.scheduleOnce(function(){t.loadLabel.string="\u52a0\u8f7d\u5b8c\u6210",t.isLoadSuccess=!0},.2)},e.prototype.JudgeStartGame=function(){var t=this;this.isLoadSuccess&&this.isLoginSuccess&&this.isCloudSysSucc&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){t.gameEntry.StartGame()},0))},e.prototype.CloseThis=function(){this.node.active=!1},r([u],e)}(c.default));n.default=p,cc._RF.pop()},{"../Load/LoadManager":"LoadManager","../Tools/GameTools":"GameTools","./UIBase":"UIBase"}],LocalRecorder:[function(t,e,n){"use strict";cc._RF.push(e,"d6e8aj0p7NGrZ0bgiA2DKaE","LocalRecorder"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.prototype.readData=function(t){var e=cc.sys.localStorage.getItem(t);return e||e},t.prototype.writeData=function(t,e){cc.sys.localStorage.setItem(t,JSON.stringify(e))},t.prototype.writeDatas=function(t){for(var e in t){var n=t[e];this.writeData(e,n)}},t.prototype.strToHexCharCode=function(t){if(""===t)return"";var e=[];e.push("0x");for(var n=0;n<t.length;n++)e.push(t.charCodeAt(n).toString(16));return e.join("")},t.prototype.hexCharCodeToStr=function(t){var e,n=t.trim(),a="0x"===n.substr(0,2).toLowerCase()?n.substr(2):n,o=a.length;if(o%2!=0)return"";for(var r=[],i=0;i<o;i+=2)e=parseInt(a.substr(i,2),16),r.push(String.fromCharCode(e));return r.join("")},t}();n.default=a,cc._RF.pop()},{}],MD5:[function(t,e,n){"use strict";cc._RF.push(e,"b3a04WHGolMqobwJ2yBpwEV","MD5"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.hex_md5=function(t){return this.binl2hex(this.core_md5(this.str2binl(t),t.length*this.chrsz))},t.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc")},t.core_md5=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,a=-271733879,o=-1732584194,r=271733878,i=0;i<t.length;i+=16){var s=n,c=a,l=o,u=r;n=this.md5_ff(n,a,o,r,t[i+0],7,-680876936),r=this.md5_ff(r,n,a,o,t[i+1],12,-389564586),o=this.md5_ff(o,r,n,a,t[i+2],17,606105819),a=this.md5_ff(a,o,r,n,t[i+3],22,-1044525330),n=this.md5_ff(n,a,o,r,t[i+4],7,-176418897),r=this.md5_ff(r,n,a,o,t[i+5],12,1200080426),o=this.md5_ff(o,r,n,a,t[i+6],17,-1473231341),a=this.md5_ff(a,o,r,n,t[i+7],22,-45705983),n=this.md5_ff(n,a,o,r,t[i+8],7,1770035416),r=this.md5_ff(r,n,a,o,t[i+9],12,-1958414417),o=this.md5_ff(o,r,n,a,t[i+10],17,-42063),a=this.md5_ff(a,o,r,n,t[i+11],22,-1990404162),n=this.md5_ff(n,a,o,r,t[i+12],7,1804603682),r=this.md5_ff(r,n,a,o,t[i+13],12,-40341101),o=this.md5_ff(o,r,n,a,t[i+14],17,-1502002290),a=this.md5_ff(a,o,r,n,t[i+15],22,1236535329),n=this.md5_gg(n,a,o,r,t[i+1],5,-165796510),r=this.md5_gg(r,n,a,o,t[i+6],9,-1069501632),o=this.md5_gg(o,r,n,a,t[i+11],14,643717713),a=this.md5_gg(a,o,r,n,t[i+0],20,-373897302),n=this.md5_gg(n,a,o,r,t[i+5],5,-701558691),r=this.md5_gg(r,n,a,o,t[i+10],9,38016083),o=this.md5_gg(o,r,n,a,t[i+15],14,-660478335),a=this.md5_gg(a,o,r,n,t[i+4],20,-405537848),n=this.md5_gg(n,a,o,r,t[i+9],5,568446438),r=this.md5_gg(r,n,a,o,t[i+14],9,-1019803690),o=this.md5_gg(o,r,n,a,t[i+3],14,-187363961),a=this.md5_gg(a,o,r,n,t[i+8],20,1163531501),n=this.md5_gg(n,a,o,r,t[i+13],5,-1444681467),r=this.md5_gg(r,n,a,o,t[i+2],9,-51403784),o=this.md5_gg(o,r,n,a,t[i+7],14,1735328473),a=this.md5_gg(a,o,r,n,t[i+12],20,-1926607734),n=this.md5_hh(n,a,o,r,t[i+5],4,-378558),r=this.md5_hh(r,n,a,o,t[i+8],11,-2022574463),o=this.md5_hh(o,r,n,a,t[i+11],16,1839030562),a=this.md5_hh(a,o,r,n,t[i+14],23,-35309556),n=this.md5_hh(n,a,o,r,t[i+1],4,-1530992060),r=this.md5_hh(r,n,a,o,t[i+4],11,1272893353),o=this.md5_hh(o,r,n,a,t[i+7],16,-155497632),a=this.md5_hh(a,o,r,n,t[i+10],23,-1094730640),n=this.md5_hh(n,a,o,r,t[i+13],4,681279174),r=this.md5_hh(r,n,a,o,t[i+0],11,-358537222),o=this.md5_hh(o,r,n,a,t[i+3],16,-722521979),a=this.md5_hh(a,o,r,n,t[i+6],23,76029189),n=this.md5_hh(n,a,o,r,t[i+9],4,-640364487),r=this.md5_hh(r,n,a,o,t[i+12],11,-421815835),o=this.md5_hh(o,r,n,a,t[i+15],16,530742520),a=this.md5_hh(a,o,r,n,t[i+2],23,-995338651),n=this.md5_ii(n,a,o,r,t[i+0],6,-198630844),r=this.md5_ii(r,n,a,o,t[i+7],10,1126891415),o=this.md5_ii(o,r,n,a,t[i+14],15,-1416354905),a=this.md5_ii(a,o,r,n,t[i+5],21,-57434055),n=this.md5_ii(n,a,o,r,t[i+12],6,1700485571),r=this.md5_ii(r,n,a,o,t[i+3],10,-1894986606),o=this.md5_ii(o,r,n,a,t[i+10],15,-1051523),a=this.md5_ii(a,o,r,n,t[i+1],21,-2054922799),n=this.md5_ii(n,a,o,r,t[i+8],6,1873313359),r=this.md5_ii(r,n,a,o,t[i+15],10,-30611744),o=this.md5_ii(o,r,n,a,t[i+6],15,-1560198380),a=this.md5_ii(a,o,r,n,t[i+13],21,1309151649),n=this.md5_ii(n,a,o,r,t[i+4],6,-145523070),r=this.md5_ii(r,n,a,o,t[i+11],10,-1120210379),o=this.md5_ii(o,r,n,a,t[i+2],15,718787259),a=this.md5_ii(a,o,r,n,t[i+9],21,-343485551),n=this.safe_add(n,s),a=this.safe_add(a,c),o=this.safe_add(o,l),r=this.safe_add(r,u)}return Array(n,a,o,r)},t.md5_cmn=function(t,e,n,a,o,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(a,r)),o),n)},t.md5_ff=function(t,e,n,a,o,r,i){return this.md5_cmn(e&n|~e&a,t,e,o,r,i)},t.md5_gg=function(t,e,n,a,o,r,i){return this.md5_cmn(e&a|n&~a,t,e,o,r,i)},t.md5_hh=function(t,e,n,a,o,r,i){return this.md5_cmn(e^n^a,t,e,o,r,i)},t.md5_ii=function(t,e,n,a,o,r,i){return this.md5_cmn(n^(e|~a),t,e,o,r,i)},t.core_hmac_md5=function(t,e){var n=this.str2binl(t);n.length>16&&(n=this.core_md5(n,t.length*this.chrsz));for(var a=Array(16),o=Array(16),r=0;r<16;r++)a[r]=909522486^n[r],o[r]=1549556828^n[r];var i=this.core_md5(a.concat(this.str2binl(e)),512+e.length*this.chrsz);return this.core_md5(o.concat(i),640)},t.safe_add=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},t.bit_rol=function(t,e){return t<<e|t>>>32-e},t.str2binl=function(t){for(var e=Array(),n=(1<<this.chrsz)-1,a=0;a<t.length*this.chrsz;a+=this.chrsz)e[a>>5]|=(t.charCodeAt(a/this.chrsz)&n)<<a%32;return e},t.binl2hex=function(t){for(var e=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",a=0;a<4*t.length;a++)n+=e.charAt(t[a>>2]>>a%4*8+4&15)+e.charAt(t[a>>2]>>a%4*8&15);return n},t.binl2b64=function(t){for(var e="",n=0;n<4*t.length;n+=3)for(var a=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255,o=0;o<4;o++)8*n+6*o>32*t.length?e+=this.b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6*(3-o)&63);return e},t.hexcase=0,t.b64pad="",t.chrsz=8,t}();n.default=a,cc._RF.pop()},{}],MagicDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"4c101x+InRJ75FwscIJnr/z","MagicDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/Magic"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./PropDataManager"),d=t("./SingleBase"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","gongfa",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","gongfa")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.level=o.level,r.rank=o.rank,r.classify=o.classify,r.name=o.name,r.context=o.context,r.atkAdd=o.atkAdd,r.HpAdd=o.HpAdd,r.outputAdd=o.outputAdd,r.danNumber=o.danNumber,r.danSpeed=o.danSpeed,r.probability=o.probability,r.yunyouAdd=o.yunyouAdd,r.skill=o.skill,r.plantSpeed=o.plantSpeed,r.plantNumber=o.plantNumber,r.upgradeNeed=o.upgradeNeed,r.code=o.code,r.tip=o.tip,r.skillTypeCode=o.skillTypeCode,r.tipCode=o.tipCode,r.eng=o.eng,this.allDataList.push(r);return[2]}})})},e.prototype.getGardenNumAdd=function(){for(var t=[],e=0;e<this.allDataList.length;e++)"\u5316\u96e8\u5f52\u7530"==this.allDataList[e].name&&t.push(this.allDataList[e]);var n=0,a=l.default.getMagic();for(e=0;e<a.length;e++)if("\u5316\u96e8\u5f52\u7530"==a[e].name){n=a[e].level;break}return 0==n?0:t[n-1].plantNumber},e.prototype.getAllMagic=function(){for(var t=[],e=0;e<this.allDataList.length;e++){var n=this.allDataList[e].name;-1==t.indexOf(n)&&t.push(n)}return t},e.prototype.getAllMagicToType=function(t){var e=[];if(0==t){for(var n=0;n<this.allDataList.length;n++){var a=this.allDataList[n].name;-1==e.indexOf(a)&&e.push(a)}return e}var o="";switch(t){case 1:o="\u6218\u6597\u7c7b";break;case 2:o="\u7075\u4fee\u7c7b";break;case 3:o="\u7279\u6b8a\u7c7b";break;case 4:o="\u6280\u80fd\u7c7b"}for(n=0;n<this.allDataList.length;n++)a=this.allDataList[n].name,-1==e.indexOf(a)&&this.allDataList[n].classify==o&&e.push(a);return e},e.prototype.getMagicidToName=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].name==t)return this.allDataList[e].id},e.prototype.getMagicLvToName=function(t){for(var e=l.default.getMagic(),n=0;n<e.length;n++)if(e[n].name==t)return e[n].level},e.prototype.getMagicToName=function(t,e){for(var n=[],a=0;a<this.allDataList.length;a++)this.allDataList[a].name==t&&n.push(this.allDataList[a]);return e>=5?n[4]:0==e?n[0]:n[e-1]},e.prototype.getAddAtk=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.atkAdd&&(e+=a.atkAdd)}return e},e.prototype.getAddHp=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.HpAdd&&(e+=a.HpAdd)}return e},e.prototype.getAddOutPut=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.outputAdd&&(e+=a.outputAdd)}return e},e.prototype.GetCanMakeNum=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.danNumber&&(e+=a.danNumber)}return e},e.prototype.getAddDrugSpeed=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.danSpeed&&(e+=a.danSpeed)}return e},e.prototype.getAddProbability=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.probability&&(e+=a.probability)}return e},e.prototype.getAddRoam=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.yunyouAdd&&(e+=a.yunyouAdd)}return e},e.prototype.getAddGardenSpeed=function(){for(var t=l.default.getMagic(),e=1,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.plantSpeed&&(e+=a.plantSpeed)}return e},e.prototype.getAddGardenNum=function(){for(var t=l.default.getMagic(),e=0,n=0;n<t.length;n++)if(0!=t[n].level){var a=this.getMagicToName(t[n].name,t[n].level);999999!=a.plantNumber&&(e+=a.plantNumber)}return e},e.prototype.getHaveNum=function(){for(var t=l.default.getMagic(),e=0,n=0;n<t.length;n++)t[n].level>0&&e++;return e},e.prototype.getHaveLevelNum=function(t){for(var e=l.default.getMagic(),n=0,a=0;a<e.length;a++)e[a].level>=t&&n++;return n},e.prototype.isCanUp=function(t){var e=this.getMagicLvToName(t);if(e>=5)return!1;var a=n.Instance.getMagicToName(t,e).upgradeNeed,o=n.Instance.getMagicidToName(t),r=p.default.Instance.getMagicDebrisProp(o);return p.default.Instance.GetPropNum(r.id).have>=a},e.prototype.getMagicToDebrisID=function(t){for(var e=l.default.getMagic(),a=0;a<e.length;a++){var o=n.Instance.getMagicToName(e[a].name,1),r=n.Instance.getMagicidToName(o.name);if(p.default.Instance.getMagicDebrisProp(r).id==t)return e[a].level}},e.prototype.getRankMagicNum=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)if(e.length<=0)e.push(this.allDataList[n]);else for(var a=this.allDataList[n].name,o=0;o<e.length;o++)e[o].name==a||o>=e.length-1&&e.push(this.allDataList[n]);var r=[];for(n=0;n<e.length;n++)e[n].rank==t&&r.push(e[n]);var i=0;for(n=0;n<r.length;n++)this.getMagicLvToName(r[n].name)>0&&i++;return i},n=r([h],e)}(d.default));n.default=y,cc._RF.pop()},{"../Data/Magic":"Magic","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./PropDataManager":"PropDataManager","./SingleBase":"SingleBase"}],MagicGiftPanel:[function(t,e,n){"use strict";cc._RF.push(e,"af3309FAopDnbuToXDyKHPe","MagicGiftPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GiftDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Item=[],e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return t.prototype.onEnable.call(this),999999==(e=p.default.Instance.getGift(2)).item1?[3,5]:(this.Item[0].active=!0,n=d.default.Instance.GetProp(e.item1),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",a)]);case 1:o=s.sent(),s.label=2;case 2:return this.Item[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,g.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.Item[0].getComponent(cc.Sprite).spriteFrame=i,this.Item[0].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item1Num),this.Item[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,6];case 5:this.Item[0].active=!1,s.label=6;case 6:return 999999==e.item2?[3,11]:(this.Item[1].active=!0,n=d.default.Instance.GetProp(e.item2),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,8]:[4,g.default.loadImage("Bundle",a)]);case 7:o=s.sent(),s.label=8;case 8:return this.Item[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("Bundle",r)];case 9:i=s.sent(),s.label=10;case 10:return this.Item[1].getComponent(cc.Sprite).spriteFrame=i,this.Item[1].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item2Num),this.Item[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,12];case 11:this.Item[1].active=!1,s.label=12;case 12:return 999999==e.item3?[3,17]:(this.Item[2].active=!0,n=d.default.Instance.GetProp(e.item3),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,14]:[4,g.default.loadImage("Bundle",a)]);case 13:o=s.sent(),s.label=14;case 14:return this.Item[2].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,16]:[4,g.default.loadImage("Bundle",r)];case 15:i=s.sent(),s.label=16;case 16:return this.Item[2].getComponent(cc.Sprite).spriteFrame=i,this.Item[2].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item3Num),this.Item[2].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,18];case 17:this.Item[2].active=!1,s.label=18;case 18:return 999999==e.item4?[3,23]:(this.Item[3].active=!0,n=d.default.Instance.GetProp(e.item4),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,20]:[4,g.default.loadImage("Bundle",a)]);case 19:o=s.sent(),s.label=20;case 20:return this.Item[3].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,22]:[4,g.default.loadImage("Bundle",r)];case 21:i=s.sent(),s.label=22;case 22:return this.Item[3].getComponent(cc.Sprite).spriteFrame=i,this.Item[3].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item4Num),this.Item[3].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,24];case 23:this.Item[3].active=!1,s.label=24;case 24:return[2]}})})},e.prototype.CanGetNum=function(t,e){return 1==t.type?u.default.Instance.GetOutPut()*e:2==t.type?l.default.Instance.GetOutPut()*e:e},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),h.default.offcount++,this.CloseThis()},e.prototype.ClickGet=function(){var t=this;f.default.instance.play(f.Sound.Click),g.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=[],999999!=(e=p.default.Instance.getGift(2)).item1&&(n=d.default.Instance.GetProp(e.item1),t.push({prop:n,have:e.item1Num})),999999!=e.item2&&(n=d.default.Instance.GetProp(e.item2),t.push({prop:n,have:e.item2Num})),999999!=e.item3&&(n=d.default.Instance.GetProp(e.item3),t.push({prop:n,have:e.item3Num})),999999!=e.item4&&(n=d.default.Instance.GetProp(e.item4),t.push({prop:n,have:e.item4Num})),[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 1:return a.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t),h.default.setNoviceGift(),this.CloseThis(),cc.systemEvent.emit(y.EventConst.Game_Up),[2]}})})},function(){b.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-20)},r([M(cc.Node)],e.prototype,"Item",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],MagicPanel:[function(t,e,n){"use strict";cc._RF.push(e,"e0f33QAoUZDh6zyJ79RNhRG","MagicPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../GameGroup/PracticeGroup"),s=t("../Item/magicItem"),c=t("../Manager/MagicDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/EventConst"),d=t("./UIBase"),f=t("./UIManager"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OffBtn=null,e.Teacher=null,e.UpContent=null,e.UnlockNum=null,e.ScrollView=null,e.BtnArray=[],e.SpriteFram=[],e.magicArray=[],e.type=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){var t=this;n.instance=this,cc.systemEvent.on(p.EventConst.HideTeacher,function(){t.Teacher.active=!1},this),cc.systemEvent.on(p.EventConst.initMagic,this.initType,this)},e.prototype.onEnable=function(){this.initType(),2==i.default.instance.teacherid&&this.ShowTeacher(0)},e.prototype.ShowTeacher=function(t){var e=null;switch(t){case 0:this.Teacher.active=!0;break;case 1:e=this.OffBtn,f.default.Instance.GuideHand.active=!0;var n=e.parent.convertToWorldSpaceAR(e.getPosition()),a=f.default.Instance.GuideHand.parent.convertToNodeSpaceAR(n);f.default.Instance.GuideHand.setPosition(a)}},e.prototype.ClickType=function(t,e){l.default.instance.play(l.Sound.Click),this.type=parseInt(e),this.initType()},e.prototype.initType=function(){if(this.magicArray.length<=0)for(var t=0;t<u.default.getMagic().length;t++){var e=this.CreateMagicItem();this.magicArray.push(e),e.getComponent(s.default).init(t,this.type)}else for(t=0;t<this.magicArray.length;t++)this.magicArray[t].getComponent(s.default).init(t,this.type);for(t=0;t<this.BtnArray.length;t++)this.type==t?(this.BtnArray[t].getComponent(cc.Sprite).spriteFrame=this.SpriteFram[0],this.BtnArray[t].getChildByName("type").color=cc.color().fromHEX("#FFED97"),this.BtnArray[t].getChildByName("type").getComponent(cc.LabelOutline).color=cc.color().fromHEX("#000000")):(this.BtnArray[t].getComponent(cc.Sprite).spriteFrame=this.SpriteFram[1],this.BtnArray[t].getChildByName("type").color=cc.color().fromHEX("#455765"),this.BtnArray[t].getChildByName("type").getComponent(cc.LabelOutline).color=cc.color().fromHEX("#C2E4FF"));for(t=0;t<5;t++){for(var n=c.default.Instance.getAllMagicToType(t),a=!1,o=0;o<n.length;o++)c.default.Instance.isCanUp(n[o])&&(a=!0);this.BtnArray[t].getChildByName("red").active=a}this.initUnlockNum(),0==this.type&&this.ScrollViewEvent()},e.prototype.initUnlockNum=function(){for(var t=u.default.getMagic(),e=0,n=c.default.Instance.getAllMagicToType(this.type),a=0;a<n.length;a++)for(var o=0;o<t.length;o++)t[a].name==n[o]&&t[a].level>0&&e++;this.UnlockNum.string="("+e+"/"+n.length+")"},e.prototype.start=function(){},e.prototype.CreateMagicItem=function(){var t=u.default.magicitem.get();return t.setParent(this.UpContent),t},e.prototype.ClickOff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis(),f.default.Instance.ShowInter(),2==i.default.instance.teacherid&&(i.default.instance.teacherid=-1,f.default.Instance.HideGuide())},e.prototype.ScrollViewEvent=function(){for(var t=this.ScrollView.node.parent.convertToWorldSpaceAR(this.ScrollView.node.getPosition()),e=t.y+this.ScrollView.content.children[0].height/2,n=t.y-this.ScrollView.node.height-this.ScrollView.content.children[0].height/2,a=0;a<this.ScrollView.content.childrenCount;a++){var o=this.ScrollView.content.children[a],r=o.getPosition(),i=o.parent.convertToWorldSpaceAR(r),s=o.getComponentsInChildren(cc.RenderComponent);if(i.y<e&&i.y>n)for(var c=0;c<s.length;c++)s[c].enabled=!0;else for(c=0;c<s.length;c++)s[c].enabled=!1}},e.instance=null,r([g(cc.Node)],e.prototype,"OffBtn",void 0),r([g(cc.Node)],e.prototype,"Teacher",void 0),r([g(cc.Node)],e.prototype,"UpContent",void 0),r([g(cc.Label)],e.prototype,"UnlockNum",void 0),r([g(cc.ScrollView)],e.prototype,"ScrollView",void 0),r([g(cc.Node)],e.prototype,"BtnArray",void 0),r([g(cc.SpriteFrame)],e.prototype,"SpriteFram",void 0),n=r([y],e)}(d.default);n.default=v,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Item/magicItem":"magicItem","../Manager/MagicDataManager":"MagicDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../record/GameSys":"GameSys","./UIBase":"UIBase","./UIManager":"UIManager"}],MagicUpGiftPanel:[function(t,e,n){"use strict";cc._RF.push(e,"1a5b7LFSmpDTZ63LY84cB6U","MagicUpGiftPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GiftDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Item=[],e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return t.prototype.onEnable.call(this),999999==(e=p.default.Instance.getGift(3)).item1?[3,5]:(this.Item[0].active=!0,n=d.default.Instance.GetProp(e.item1),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",a)]);case 1:o=s.sent(),s.label=2;case 2:return this.Item[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,g.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.Item[0].getComponent(cc.Sprite).spriteFrame=i,this.Item[0].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item1Num),this.Item[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,6];case 5:this.Item[0].active=!1,s.label=6;case 6:return 999999==e.item2?[3,11]:(this.Item[1].active=!0,n=d.default.Instance.GetProp(e.item2),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,8]:[4,g.default.loadImage("Bundle",a)]);case 7:o=s.sent(),s.label=8;case 8:return this.Item[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("Bundle",r)];case 9:i=s.sent(),s.label=10;case 10:return this.Item[1].getComponent(cc.Sprite).spriteFrame=i,this.Item[1].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item2Num),this.Item[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,12];case 11:this.Item[1].active=!1,s.label=12;case 12:return 999999==e.item3?[3,17]:(this.Item[2].active=!0,n=d.default.Instance.GetProp(e.item3),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,14]:[4,g.default.loadImage("Bundle",a)]);case 13:o=s.sent(),s.label=14;case 14:return this.Item[2].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,16]:[4,g.default.loadImage("Bundle",r)];case 15:i=s.sent(),s.label=16;case 16:return this.Item[2].getComponent(cc.Sprite).spriteFrame=i,this.Item[2].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item3Num),this.Item[2].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,18];case 17:this.Item[2].active=!1,s.label=18;case 18:return 999999==e.item4?[3,23]:(this.Item[3].active=!0,n=d.default.Instance.GetProp(e.item4),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,20]:[4,g.default.loadImage("Bundle",a)]);case 19:o=s.sent(),s.label=20;case 20:return this.Item[3].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r="PropFrame/"+n.rank,(i=g.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,22]:[4,g.default.loadImage("Bundle",r)];case 21:i=s.sent(),s.label=22;case 22:return this.Item[3].getComponent(cc.Sprite).spriteFrame=i,this.Item[3].getChildByName("name").getComponent(cc.Label).string=""+n.name,c=this.CanGetNum(n,e.item4Num),this.Item[3].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(c),[3,24];case 23:this.Item[3].active=!1,s.label=24;case 24:return[2]}})})},e.prototype.CanGetNum=function(t,e){return 1==t.type?u.default.Instance.GetOutPut()*e:2==t.type?l.default.Instance.GetOutPut()*e:e},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),h.default.offcount++,this.CloseThis()},e.prototype.ClickGet=function(){var t=this;f.default.instance.play(f.Sound.Click),g.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=[],999999!=(e=p.default.Instance.getGift(3)).item1&&(n=d.default.Instance.GetProp(e.item1),t.push({prop:n,have:e.item1Num})),999999!=e.item2&&(n=d.default.Instance.GetProp(e.item2),t.push({prop:n,have:e.item2Num})),999999!=e.item3&&(n=d.default.Instance.GetProp(e.item3),t.push({prop:n,have:e.item3Num})),999999!=e.item4&&(n=d.default.Instance.GetProp(e.item4),t.push({prop:n,have:e.item4Num})),[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 1:return a.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t),h.default.setNoviceGift(),this.CloseThis(),cc.systemEvent.emit(y.EventConst.Game_Up),[2]}})})},function(){b.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-21)},r([M(cc.Node)],e.prototype,"Item",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],MagicUpPanel:[function(t,e,n){"use strict";cc._RF.push(e,"1e05eRX251OaIxIyxkHuoM/","MagicUpPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../i18n/i18nMgr"),u=t("../Manager/GuideDataManager"),p=t("../Manager/MagicDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./MagicPanel"),m=t("./PanelConst"),b=t("./TalkPanel"),_=t("./TipGroup"),S=t("./UIBase"),C=t("./UIManager"),w=cc._decorator,M=w.ccclass,P=w.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LvUpSp=null,e.Icon=null,e.Name=null,e.Rank=null,e.Info=null,e.Level=null,e.AddType=null,e.AddType2=null,e.AddNum=null,e.NextLevel=null,e.NowAdd=null,e.NextAdd=null,e.UpNeed=null,e.UnlockNeed=null,e.UnlockBtn=null,e.UpBtn=null,e.index=0,e.rank=["","title289","title290","title291","title292","title293"],e.magicitem=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r,i,u,f,y,v,m,b;return s(this,function(s){switch(s.label){case 0:return this.index=t,e&&(this.magicitem=e),n=h.default.getMagic()[this.index],a=p.default.Instance.getMagicToName(n.name,n.level),o=p.default.Instance.getMagicToName(n.name,1),r=p.default.Instance.getMagicLvToName(a.name),i=p.default.Instance.getMagicToName(a.name,r+1),u=d.default.Instance.getMagicProp(o.id),f="PropIcon/"+u.icon,(y=g.default.GetRes("Bundle",f,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",f)];case 1:y=s.sent(),s.label=2;case 2:switch(this.Icon.spriteFrame=y,this.Name.string=""+l.i18nMgr.getLabel(a.code),this.Rank.string=""+l.i18nMgr.getLabel(this.rank[a.rank]),this.Info.string=""+a.context,this.Level.string=0==r?l.i18nMgr.getLabel("title126"):"Lv."+r,this.AddType.string=l.i18nMgr.getLabel(a.tipCode)+":",this.AddType2.string=""+l.i18nMgr.getLabel(a.tipCode),a.classify){case"\u6218\u6597\u7c7b":999999!=a.atkAdd?(this.AddNum.string="\xd7"+a.atkAdd,this.NowAdd.string="\xd7"+a.atkAdd,this.NextAdd.string="\xd7"+i.atkAdd):999999!=a.HpAdd&&(this.AddNum.string="\xd7"+a.HpAdd,this.NowAdd.string="\xd7"+a.HpAdd,this.NextAdd.string="\xd7"+i.HpAdd);break;case"\u7075\u4fee\u7c7b":999999!=a.outputAdd&&(this.AddNum.string="\xd7"+a.outputAdd,this.NowAdd.string="\xd7"+a.outputAdd,this.NextAdd.string="\xd7"+i.outputAdd);break;case"\u7279\u6b8a\u7c7b":999999!=a.danNumber?(this.AddNum.string="+"+a.danNumber,this.NowAdd.string="+"+a.danNumber,this.NextAdd.string="+"+i.danNumber):999999!=a.danSpeed?(this.AddNum.string="\xd7"+a.danSpeed,this.NowAdd.string="\xd7"+a.danSpeed,this.NextAdd.string="\xd7"+i.danSpeed):999999!=a.probability?(this.AddNum.string="+"+a.probability+"%",this.NowAdd.string="+"+a.probability+"%",this.NextAdd.string="+"+i.probability+"%"):999999!=a.yunyouAdd?(this.AddNum.string="\xd7"+a.yunyouAdd,this.NowAdd.string="\xd7"+a.yunyouAdd,this.NextAdd.string="\xd7"+i.yunyouAdd):999999!=a.plantSpeed?(this.AddNum.string="\xd7"+a.plantSpeed,this.NowAdd.string="\xd7"+a.plantSpeed,this.NextAdd.string="\xd7"+i.plantSpeed):999999!=a.plantNumber&&(this.AddNum.string="\xd7"+a.plantNumber,this.NowAdd.string="\xd7"+a.plantNumber,this.NextAdd.string="\xd7"+i.plantNumber);break;case"\u6280\u80fd\u7c7b":999999!=a.skill&&(this.AddNum.string="\xd7"+a.skill,this.NowAdd.string="\xd7"+a.skill,this.NextAdd.string="\xd7"+i.skill)}return this.NextLevel.string=r>=5?l.i18nMgr.getLabel("title129"):"Lv."+(r+1),v=d.default.Instance.getMagicDebrisProp(o.id),m=d.default.Instance.GetPropNum(v.id).have,this.UnlockNeed.string=g.default.refSetCoin(m)+"/"+g.default.refSetCoin(a.upgradeNeed),this.UpNeed.string=g.default.refSetCoin(m)+"/"+g.default.refSetCoin(a.upgradeNeed),this.UnlockBtn.active=0==r,this.UpBtn.active=0!=r,this.UnlockNeed.node.color=m>=a.upgradeNeed?cc.color().fromHEX("#41DA2C"):cc.color().fromHEX("#DC4646"),this.UpNeed.node.color=m>=a.upgradeNeed?cc.color().fromHEX("#41DA2C"):cc.color().fromHEX("#DC4646"),2==c.default.instance.teacherid&&(C.default.Instance.GuideHand.active=!0,b=this.UnlockBtn,C.default.Instance.GuideHand.setPosition(b.getPosition())),[2]}})})},e.prototype.ClickUnlock=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return f.default.instance.play(f.Sound.Click),t=h.default.getMagic(),e=t[this.index],n=p.default.Instance.getMagicidToName(e.name),a=d.default.Instance.getMagicDebrisProp(n),o=d.default.Instance.GetPropNum(a.id).have,r=p.default.Instance.getMagicToName(e.name,e.level),o<r.upgradeNeed?(_.default.instance.setText(-1,l.i18nMgr.getLabel("title184")),[3,4]):[3,1];case 1:return this.LvUpSp.setAnimation(0,"lvup3",!1),d.default.Instance.subPackProp(a.id,r.upgradeNeed),t[this.index].level++,h.default.setMagic(t),cc.systemEvent.emit(y.EventConst.initMagic),this.init(this.index,this.magicitem),_.default.instance.setText(-1,l.i18nMgr.getLabel("title219")+l.i18nMgr.getLabel(r.code)),2!=c.default.instance.teacherid?[3,3]:(C.default.Instance.HideGuide(),[4,C.default.Instance.ShowUI(m.default.TalkPanel)]);case 2:i.sent(),C.default.Instance.GetClass(m.default.TalkPanel).getComponent(b.default).init(20,function(){v.default.instance.ShowTeacher(1)}),c.default.instance.initNextNeed(),this.CloseThis(),i.label=3;case 3:g.default.getSdk().sendEvent("gongfaLevel",{message:"\u529f\u6cd5\u7b49\u7ea7\u603b\u548c",magicAll:h.default.getMagic()}),i.label=4;case 4:return[2]}})})},e.prototype.ClickUp=function(){f.default.instance.play(f.Sound.Click);var t=h.default.getMagic(),e=t[this.index],n=p.default.Instance.getMagicidToName(e.name),a=d.default.Instance.getMagicDebrisProp(n),o=d.default.Instance.GetPropNum(a.id).have,r=p.default.Instance.getMagicToName(e.name,e.level);o<r.upgradeNeed?_.default.instance.setText(-1,l.i18nMgr.getLabel("title184")):(this.LvUpSp.setAnimation(0,"lvup3",!1),d.default.Instance.subPackProp(a.id,r.upgradeNeed),t[this.index].level++,h.default.setMagic(t),cc.systemEvent.emit(y.EventConst.initMagic),this.init(this.index,this.magicitem),_.default.instance.setText(-1,""+l.i18nMgr.getLabel(r.code)+l.i18nMgr.getLabel("title220")+t[this.index].level),g.default.getSdk().sendEvent("gongfaLevel",{message:"\u529f\u6cd5\u7b49\u7ea7\u603b\u548c",magicAll:h.default.getMagic()}))},e.prototype.ClickGoShop=function(){f.default.instance.play(f.Sound.Click),u.default.Instance.isUnlcok(9)?(this.CloseThis(),C.default.Instance.ShowGroup(4)):_.default.instance.setText(-1,u.default.Instance.CanUnlock(9))},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([P(sp.Skeleton)],e.prototype,"LvUpSp",void 0),r([P(cc.Sprite)],e.prototype,"Icon",void 0),r([P(cc.Label)],e.prototype,"Name",void 0),r([P(cc.Label)],e.prototype,"Rank",void 0),r([P(cc.Label)],e.prototype,"Info",void 0),r([P(cc.Label)],e.prototype,"Level",void 0),r([P(cc.Label)],e.prototype,"AddType",void 0),r([P(cc.Label)],e.prototype,"AddType2",void 0),r([P(cc.Label)],e.prototype,"AddNum",void 0),r([P(cc.Label)],e.prototype,"NextLevel",void 0),r([P(cc.Label)],e.prototype,"NowAdd",void 0),r([P(cc.Label)],e.prototype,"NextAdd",void 0),r([P(cc.Label)],e.prototype,"UpNeed",void 0),r([P(cc.Label)],e.prototype,"UnlockNeed",void 0),r([P(cc.Node)],e.prototype,"UnlockBtn",void 0),r([P(cc.Node)],e.prototype,"UpBtn",void 0),r([M],e)}(S.default);n.default=k,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/GuideDataManager":"GuideDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./MagicPanel":"MagicPanel","./PanelConst":"PanelConst","./TalkPanel":"TalkPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],Magic:[function(t,e,n){"use strict";cc._RF.push(e,"893826g4bFLQZehHEkfvs/R","Magic"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.code="",this.eng=""},cc._RF.pop()},{}],MapCameraControl:[function(t,e,n){"use strict";cc._RF.push(e,"3b36asSf01EAIXYo6L1q0lv","MapCameraControl");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Tools/EventConst"),s=t("../Tools/GameTools"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.limitArea=null,e.curCamera=null,e.moveSpeed=-.5,e.maxRatio=2,e.zoomSpeed=.1,e.chess=null,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(i.EventConst.GAME_BG_TOUCH_START,this.OnTouchStart,this),cc.systemEvent.on(i.EventConst.GAME_BG_TOUCH_CANCEL,this.OnTouchCancel,this),cc.systemEvent.on(i.EventConst.GAME_BG_TOUCH_MOVE,this.OnTouchMove,this),cc.systemEvent.on(i.EventConst.GAME_BG_TOUCH_END,this.OnTouchEnd,this),cc.systemEvent.on(i.EventConst.GAME_CHESS_MOVE,this.OnChessMove,this),cc.systemEvent.on(i.EventConst.GAME_CHESS_END,this.OnChessEnd,this),cc.systemEvent.on(i.EventConst.initChessPos,this.SetPosition,this);var t=cc.find("Canvas");this.renderHeight=t.height,this.renderWidth=t.width,this.moveNode=this.node.getChildByName("moveNode")},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.LimitCamera()},0)},e.prototype.OnTouchStart=function(){},e.prototype.OnTouchMove=function(t){var e=t.getTouches();if(1==e.length){var n=(s=e[0]).getDelta(),a=this.moveNode.getPosition(),o=n.mul(this.GetMoveSpeed()),r=a.add(o);this.SetPosition(r)}else if(e.length>1){var i,s=e[0],c=e[1],l=s.getLocation(),u=c.getLocation(),p=s.getDelta(),d=c.getDelta();i=l.x>u.x?p.x-d.x:d.x-p.x;var f=this.GetRatio()+i*this.zoomSpeed*cc.director.getDeltaTime();this.SetRatio(f)}},e.prototype.OnTouchEnd=function(){},e.prototype.OnTouchCancel=function(){},e.prototype.OnChessMove=function(t){this.chess=t},e.prototype.OnChessEnd=function(){this.chess=null},e.prototype.OnMouseWheel=function(t){var e=this.GetRatio()+t.getScrollY()*this.zoomSpeed*cc.director.getDeltaTime()*.3;this.SetRatio(e)},e.prototype.onDestroy=function(){},e.prototype.SetPosition=function(t){this.moveNode.setPosition(t),this.LimitCamera()},e.prototype.SetRatio=function(t){t=(t=t<1?1:t)>this.maxRatio?this.maxRatio:t,this.curCamera.zoomRatio=t,this.LimitCamera()},e.prototype.LimitCamera=function(){var t=this.limitArea.width,e=this.limitArea.height,n=this.renderWidth/this.GetRatio(),a=this.renderHeight/this.GetRatio(),o=-t/2+n/2,r=t/2-n/2,i=-e/2+a/2,c=e/2-a/2,l=s.default.ConvertTargetToCurLocal(this.moveNode,this.limitArea),u=l.x;u=(u=u<o?o:u)>r?r:u;var p=l.y;p=(p=p<i?i:p)>c?c:p;var d=cc.v2(u,p);d=s.default.ConvertTargetPointToCoor(d,this.limitArea,this.moveNode.parent),this.moveNode.setPosition(d)},e.prototype.MoveCamera=function(t,e){var n=this.limitArea.width,a=(this.limitArea.height,this.renderWidth/this.GetRatio()),o=(this.renderHeight,this.GetRatio(),-n/2+a/2),r=n/2-a/2,i=t.x;i=(i=i<o?o:i)>r?r:i,cc.tween(this.moveNode).to(.3,{x:i}).call(function(){e()}).start()},e.prototype.GetRatio=function(){return this.curCamera.zoomRatio},e.prototype.GetMoveSpeed=function(){return this.moveSpeed/this.GetRatio()},e.prototype.update=function(){this.chess&&this.SetPosition(this.chess.getPosition())},r([u({type:cc.Node,displayName:"\u76f8\u673a\u9650\u5236\u533a\u57df"})],e.prototype,"limitArea",void 0),r([u({type:cc.Camera,displayName:"\u76f8\u673a"})],e.prototype,"curCamera",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools"}],MapsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"6afc3+WR9ZPaZI4KLJRIS42","MapsPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/SceneDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("./UIBase"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.place=null,e.scene=null,e.pos_seven=null,e.pos_six=null,e.line=null,e.maps=null,e.line2=null,e.icon=null,e.btnSp=[],e.sceneSp=[],e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.pos_seven=t.getChildByName("pos_seven"),this.pos_six=t.getChildByName("pos_six"),this.maps=t.getChildByName("map").getComponent(cc.Sprite),this.line=t.getChildByName("line").getComponent(cc.Sprite),this.line2=t.getChildByName("line2").getComponent(cc.Sprite)},e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return t.prototype.onEnable.call(this),[4,c.default.Instance.GetSceneid()];case 1:return e=n.sent(),this.init(e),p.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r,i,l,d,f,h,y,g,v,m,b,_,S,C;return s(this,function(s){switch(s.label){case 0:return[4,c.default.Instance.GetScene(t)];case 1:e=s.sent(),n=1==t?6:7,a=u.default.getCustoms(),v=0,s.label=2;case 2:return v<this.place.childrenCount?(this.place.children[v].active=v<n,v<n?(this.place.children[v].getChildByName("layout").getChildByName("name").getComponent(cc.Label).string=e[v][0].name,o=0,a>=e[v][e[v].length-1].level?(o=e[v].length,[3,6]):[3,3]):[3,7]):[3,8];case 3:return a<e[v][0].level?(o=0,[3,6]):[3,4];case 4:return[4,c.default.Instance.GetRole()];case 5:m=s.sent(),o=m.level2,s.label=6;case 6:this.place.children[v].getChildByName("layout").getChildByName("prop").getComponent(cc.Label).string=o+"/"+e[v].length,s.label=7;case 7:return v++,[3,2];case 8:return r=null,6==n?(this.pos_seven.active=!1,this.pos_six.active=!0,r=this.pos_six):(this.pos_seven.active=!0,this.pos_six.active=!1,r=this.pos_seven),i="Map/Map"+t,(l=p.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,10]:[4,p.default.loadImage("Bundle",i)];case 9:l=s.sent(),s.label=10;case 10:return this.maps.spriteFrame=l,d="Map/Line"+t,(f=p.default.GetRes("Bundle",d,cc.SpriteFrame))?[3,12]:[4,p.default.loadImage("Bundle",d)];case 11:f=s.sent(),s.label=12;case 12:return this.line.spriteFrame=f,h="Map/Pos"+t,(y=p.default.GetRes("Bundle",h,cc.SpriteFrame))?[3,14]:[4,p.default.loadImage("Bundle",h)];case 13:y=s.sent(),s.label=14;case 14:for(v=0;v<r.childrenCount;v++)r.children[v].getComponent(cc.Sprite).spriteFrame=y,_=r.children[v].getPosition(),this.place.children[v].setPosition(_.x,_.y+100);return[4,c.default.Instance.GetSceneid()];case 15:for(g=s.sent(),v=0;v<this.scene.childrenCount;v++)this.scene.children[v].getComponent(cc.Sprite).spriteFrame=v==t-1?this.btnSp[0]:this.btnSp[1],this.scene.children[v].getChildByName("name").getComponent(cc.Sprite).spriteFrame=v==t-1?this.sceneSp[2*v]:this.sceneSp[2*v+1];return t==g?[3,16]:(this.icon.active=!1,[3,20]);case 16:return this.icon.active=!0,[4,c.default.Instance.GetRole()];case 17:return m=s.sent(),b=this.place.children[m.level1-1],_=b.getPosition(),this.icon.setPosition(_.x,_.y+130),(S=p.default.GetRes("Bundle","Map/Pos0",cc.SpriteFrame))?[3,19]:[4,p.default.loadImage("Bundle","Map/Pos0")];case 18:S=s.sent(),s.label=19;case 19:r.children[m.level1-1].getComponent(cc.Sprite).spriteFrame=S,s.label=20;case 20:return t<g?(this.line2.node.active=!0,this.line2.fillRange=1):t==g?(this.line2.node.active=!0,C=this.line2.node.width,this.line2.fillRange=this.icon.x<0?(C/2-Math.abs(this.icon.x))/C:(C/2+this.icon.x)/C):this.line2.node.active=!1,[2]}})})},e.prototype.ClickScene=function(t,e){l.default.instance.play(l.Sound.Click);var n=parseInt(e);this.init(n)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),p.default.getSdk().PlatformCallBack("BANNERCLOSE")},e.prototype.start=function(){},r([y(cc.Node)],e.prototype,"place",void 0),r([y(cc.Node)],e.prototype,"scene",void 0),r([y(cc.Node)],e.prototype,"icon",void 0),r([y(cc.SpriteFrame)],e.prototype,"btnSp",void 0),r([y(cc.SpriteFrame)],e.prototype,"sceneSp",void 0),r([h],e)}(d.default);n.default=g,cc._RF.pop()},{"../Manager/SceneDataManager":"SceneDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./UIBase":"UIBase"}],Mask:[function(t,e,n){"use strict";cc._RF.push(e,"48136yrL/NOVq4o4VyX/i4I","Mask");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Tools/EventConst"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e}return o(e,t),e.prototype.start=function(){var t=this;this.mask.active=!1,cc.systemEvent.on(i.EventConst.ShowMask,function(){t.mask.active=!0},this),cc.systemEvent.on(i.EventConst.HideMask,function(){t.mask.active=!1},this)},r([l(cc.Node)],e.prototype,"mask",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Tools/EventConst":"EventConst"}],MonsterDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e7a69V7jM1Fz4geTZCLNw/p","MonsterDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/MonsterData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","monster",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","monster")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.sprite=o.avatar,r.name=o.name,r.type=o.type,r.normalSkillName=o.normalSkillName,r.monsterSkillId=o.monsterSkillId,r.monsterSkillContext=o.monsterSkillContext,r.atkType=o.atkType,r.killSkillId=o.killSkillId,r.killSkillName=o.killSkillName,r.atkRrage=o.atkRrage,r.atkType=o.atkType,this.allDataList.push(r);return[2]}})})},e.prototype.GetMonster=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].name==t)return this.allDataList[e]},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/MonsterData":"MonsterData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],MonsterData:[function(t,e,n){"use strict";cc._RF.push(e,"168a2KWbd5OyYi3GXpyLvs4","MonsterData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.type="normal",this.normalSkillName="",this.monsterSkillId=0,this.killSkillId=0,this.killSkillName="",this.injured_anger=5,this.Shot_anger=3.5,this.time_anger=7.5,this.maxmp=0},cc._RF.pop()},{}],Monster:[function(t,e,n){"use strict";cc._RF.push(e,"86285Q90NFFCJQTvmd3ZHIQ","Monster");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../AiBase/AiBase"),l=t("../AiBase/AIMonsterAttack"),u=t("../AiBase/AIMonsterDie"),p=t("../AiBase/AIMonsterIdle"),d=t("../AiBase/AIMonsterMove"),f=t("../AiBase/AIMonsterSkill"),h=t("../AiBase/AIMonsterVertigo"),y=t("../AiBase/AIMonsterWait"),g=t("../i18n/i18nMgr"),v=t("../Manager/MonsterDataManager"),m=t("../Manager/SkillDataManager"),b=t("../record/GameSys"),_=t("../SkillGroup/Debuff"),S=t("../Tools/EventConst"),C=t("../Tools/GameTools"),w=t("../UI/FightPanel"),M=t("./SkillConst"),P=cc._decorator,k=P.ccclass,I=(P.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.role=null,e.index=0,e.moveSpeed=200,e.skill=null,e.fatality=null,e.anger=0,e.skillcd=0,e.fatalitycd=0,e.SpineContent=null,e.posY=0,e.target=null,e.release=!1,e.skilltype=0,e.fight=!1,e.shield=0,e.maxshield=0,e.Absdodge=0,e.Upatk=1,e.suck=0,e.vertigo=0,e.dodge={value:0,time:0},e.atk={value:0,time:0},e.atk2={value:0,time:0},e.fqatk={value:0,time:0},e.crit={value:0,time:0},e.DR={value:0,time:0},e.time=0,e.s=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this.InitAi()},e.prototype.init=function(t,e){this.node.active=!0,this.Content.active=!0,this.Content.setPosition(0,0,0),this.role=e,this.index=t,this.doSkillSp.node.active=!1,this.release=!1,this.cursor.angle=0,this.do.active=!1,this.Shield.active=!1,this.shieldSp.node.active=!1,this.fight=!1,this.shield=0,this.suck=0,this.vertigo=0,this.Absdodge=0,this.Upatk=1,this.doSkillSp.node.active=!1,this.Name.string=""+this.role.name,this.RefreshHp(),this.initHead(),this.initSkill()},e.prototype.initHead=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=v.default.Instance.GetMonster(this.role.name),e="999999"==t.sprite?"boss/icon":"boss/"+t.sprite,(n=C.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,2]:[4,C.default.loadImage("SpriteBundle1",e)];case 1:n=a.sent(),a.label=2;case 2:return this.headSp.spriteFrame=n,[2]}})})},e.prototype.initSkill=function(){this.skill=999999==this.role.monsterSkillId?null:m.default.Instance.GetSkill(this.role.monsterSkillId),this.fatality=999999==this.role.killSkillId?null:m.default.Instance.GetSkill(this.role.killSkillId),this.skillcd=999999==this.role.monsterSkillId?0:Math.random()*this.skill.cd,this.fatalitycd=999999==this.role.killSkillId?0:Math.random()*this.fatality.cd},e.prototype.Ready=function(){this.StartFight(),0!=w.default.instance.fightType?this.ChangeState(n.STATE_MOVE):this.ChangeState(n.STATE_IDLE)},e.prototype.StartFight=function(){this.fight=!0},e.prototype.InitAi=function(){var t=new p.default(this,n.STATE_IDLE);this.AddAiState(t);var e=new d.default(this,n.STATE_MOVE);this.AddAiState(e);var a=new l.default(this,n.STATE_ATTACK);this.AddAiState(a);var o=new u.default(this,n.STATE_DIE);this.AddAiState(o);var r=new y.default(this,n.STATE_WAIT);this.AddAiState(r);var i=new f.default(this,n.STATE_SKILL);this.AddAiState(i);var s=new h.default(this,n.STATE_VERTIGO);this.AddAiState(s)},e.prototype.RemoveTeamer=function(){},e.prototype.GetTeamer=function(){var t=w.default.instance.GetTeam();if(t.length>0){for(var e=1e5,a=0,o=0;o<t.length;o++){var r=t[o].node.getPosition(),i=this.node.getPosition().sub(r).mag();i<=e&&(a=o,e=i)}return this.target=t[a],t[a]}return 1==w.default.instance.fightType||0==w.default.instance.fightType||(2==w.default.instance.fightType?console.log("\u8bd5\u70bc\u6a21\u5f0f\u4e0b\u7684\u5931\u8d25\u7ed3\u7b97"):3==w.default.instance.fightType&&console.log("\u4e91\u6e38\u6a21\u5f0f\u4e0b\u7684\u5931\u8d25\u7ed3\u7b97")),this.ChangeState(n.STATE_WAIT),null},e.prototype.isDie=function(){if(this.role)return!(this.role.hp>0)},e.prototype.TheStrike=function(t,e,n,a,o){if(this.isDie()||!this.role)return!0;var r=Math.floor(100*Math.random()),i=e-this.role.dodge;if(this.Absdodge>0)return w.default.instance.setText(5,g.i18nMgr.getLabel("title138"),this.node),!1;if(r>i)return w.default.instance.setText(5,g.i18nMgr.getLabel("title138"),this.node),!1;if(this.DR.time>0&&(t*=1-this.DR.value),!(this.shield>t)){if(t-=this.shield,this.shield=0,this.Shieldpro.fillRange=this.shield/this.maxshield,this.Shield.active=!1,this.shieldSp.node.active=!1,t>=this.role.hp&&(t=this.role.hp),this.role.hp-=t,cc.systemEvent.emit(S.EventConst.Game_Fight_changeHp,1,-t),this.role.hp=this.role.hp<=0?0:this.role.hp,this.role.hp<=0&&this.ToDie(),this.AddAngre(1),this.RefreshHp(),o)switch(o){case 3:w.default.instance.setText(o,g.i18nMgr.getLabel("title140")+"-"+C.default.refSetCoin(Math.floor(t)),this.node);break;case 10:w.default.instance.setText(o,g.i18nMgr.getLabel("title141")+"-"+C.default.refSetCoin(Math.floor(t)),this.node)}else n?w.default.instance.setText(0,g.i18nMgr.getLabel("title142")+"-"+C.default.refSetCoin(Math.floor(t)),this.node):w.default.instance.setText(1,"-"+C.default.refSetCoin(Math.floor(t)),this.node);return this.role.hp<=0&&(1.5==this.node.scale?w.default.instance.setText(99,"",this.node):w.default.instance.setText(8,"",this.node)),a&&w.default.instance.CreateHit(this.node),this.role.hp<=0}this.shield-=t,this.Shieldpro.fillRange=this.shield/this.maxshield,w.default.instance.setText(4,g.i18nMgr.getLabel("title139")+"-"+C.default.refSetCoin(Math.floor(t)),this.node)},e.prototype.ToDie=function(){3!=this.curStateId&&(this.ChangeState(n.STATE_DIE),b.default.monster.restor(this.node))},e.prototype.RefreshHp=function(){this.hpSprite.fillRange=this.role.hp/this.role.maxhp},e.prototype.RefreshMp=function(){this.node.active&&(this.mpSprite.fillRange=this.anger/this.role.maxmp)},e.prototype.DoSkill=function(){var t=this;switch(1==this.skilltype?(w.default.instance.setText(6,this.role.normalSkillName,this.node),this.skill.id):(w.default.instance.setText(7,this.role.killSkillName,this.node),this.fatality.id),this.skill.id){case 1:this.allConstraint(),this.ChangeStateToMove();break;case 2:M.default.instance.Thunder(this,function(){}),this.ChangeStateToMove();break;case 3:M.default.instance.Eddy(this),this.ChangeStateToMove();break;case 4:M.default.instance.Star(1,this),this.ChangeStateToMove();break;case 5:M.default.instance.Knife(1,this),this.ChangeStateToMove();break;case 6:M.default.instance.Tofly(this,function(){t.ChangeStateToMove()});break;case 7:M.default.instance.CureMatrix(1,this),this.ChangeStateToMove();break;case 8:this.Cure(.5*this.role.maxhp),this.ChangeStateToMove();break;case 9:M.default.instance.CureAll(1,this),this.ChangeStateToMove();break;case 10:M.default.instance.FastAtk(this),this.ChangeStateToMove();break;case 11:M.default.instance.Wind(1,this),this.ChangeStateToMove();break;case 12:M.default.instance.BaneMatrix(1,this),this.ChangeStateToMove();break;case 13:this.Exchange(),this.ChangeStateToMove();break;case 14:this.Flicker(),this.ChangeStateToMove();break;case 15:case 16:case 17:this.target.Constraint(this),this.ChangeStateToMove();break;case 18:case 19:case 20:this.SkillAbsdodge(),this.ChangeStateToMove();break;case 21:case 22:case 23:this.SkillUpatk(),this.ChangeStateToMove();break;case 24:case 25:case 26:this.SkillShield(),this.ChangeStateToMove();break;case 27:case 28:case 29:this.SkillSuck(),this.ChangeStateToMove()}},e.prototype.Cure=function(t){if(this.role.hp<=0)console.log("\u8be5\u5355\u4f4d\u5df2\u6b7b\u4ea1,\u65e0\u6cd5\u6cbb\u7597");else{var e=this.role.maxhp-this.role.hp,n=t;n>=e&&(n=e),this.role.hp+=n,this.role.hp>=this.role.maxhp&&(this.role.hp=this.role.maxhp),w.default.instance.setText(2,g.i18nMgr.getLabel("title137")+"+"+C.default.refSetCoin(Math.floor(t)),this.node),cc.systemEvent.emit(S.EventConst.Game_Fight_changeHp,1,n)}},e.prototype.Constraint=function(){this.vertigo=3,this.ChangeState(n.STATE_VERTIGO);var t=w.default.instance.CreateDebuff();t.getComponent(_.default).init(3),t.setParent(this.SpineContent)},e.prototype.setTarget=function(t){this.target=t},e.prototype.GetSkill=function(){return this.skill},e.prototype.start=function(){},e.prototype.update=function(e){if(t.prototype.update.call(this,e),this.fight){if(this.curStateId==n.STATE_DIE||this.curStateId==n.STATE_WAIT||this.curStateId==n.STATE_VERTIGO||999999==this.curStateId)return;this.release||6==this.curStateId||(999999!=this.role.monsterSkillId&&(this.skillcd+=e*b.default.speed,this.skillcd>=this.skill.cd&&(this.release=!0,this.skilltype=1,this.ChangeStateToSkill())),999999!=this.role.killSkillId&&(this.fatalitycd+=e*b.default.speed,this.fatalitycd>=this.fatality.cd&&(this.release=!0,this.skilltype=2,this.ChangeStateToSkill()))),this.Absdodge>0&&(this.Absdodge-=e*b.default.speed),this.s+=e,this.s>=1&&(this.s=0,this.anger+=this.role.time_anger)}},e.prototype.SkillAbsdodge=function(){this.Absdodge=this.skill.value},e.prototype.SkillUpatk=function(){this.Upatk=this.skill.value},e.prototype.SkillShield=function(){this.shield=this.role.atk*this.skill.value,this.maxshield=this.shield,this.Shield.active=!0,this.Shieldpro.fillRange=1,this.shieldSp.node.active=!0},e.prototype.SkillSuck=function(){this.suck=this.skill.value},e.prototype.Exchange=function(){for(var t=w.default.instance.GetTeam(),e=0,n=0,a=0;a<t.length;a++)0==e&&0!=t[a].role.hp?(e=t[a].role.hp,n=a):t[a].role.hp<=e&&0!=t[a].role.hp&&(e=t[a].role.hp,n=a);var o=this.node.getPosition(),r=t[n].node.getPosition();this.node.setPosition(r),t[n].node.setPosition(o)},e.prototype.Flicker=function(){for(var t=w.default.instance.GetTeam(),e=0,n=0,a=0;a<t.length;a++)0==e?(e=t[a].node.x,n=a):t[a].node.x<=e&&(e=t[a].node.x,n=a);var o=t[n].node.getPosition();this.node.setPosition(cc.v2(o.x-200,o.y))},e.prototype.allConstraint=function(){for(var t=w.default.instance.GetTeam(),e=0;e<t.length;e++)t[e].Constraint(this)},e.prototype.ChangeStateToMove=function(){this.curStateId!=n.STATE_DIE&&this.curStateId!=n.STATE_IDLE&&this.ChangeState(n.STATE_MOVE)},e.prototype.ChangeStateToSkill=function(){this.curStateId!=n.STATE_DIE&&this.curStateId!=n.STATE_IDLE&&this.ChangeState(n.STATE_SKILL)},e.prototype.GetPracticalAtk=function(){return this.role.atk},e.STATE_IDLE=0,e.STATE_MOVE=1,e.STATE_ATTACK=2,e.STATE_DIE=3,e.STATE_WAIT=4,e.STATE_SKILL=5,e.STATE_VERTIGO=6,n=r([k],e)}(c.default));n.default=I,cc._RF.pop()},{"../AiBase/AIMonsterAttack":"AIMonsterAttack","../AiBase/AIMonsterDie":"AIMonsterDie","../AiBase/AIMonsterIdle":"AIMonsterIdle","../AiBase/AIMonsterMove":"AIMonsterMove","../AiBase/AIMonsterSkill":"AIMonsterSkill","../AiBase/AIMonsterVertigo":"AIMonsterVertigo","../AiBase/AIMonsterWait":"AIMonsterWait","../AiBase/AiBase":"AiBase","../Manager/MonsterDataManager":"MonsterDataManager","../Manager/SkillDataManager":"SkillDataManager","../SkillGroup/Debuff":"Debuff","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/FightPanel":"FightPanel","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./SkillConst":"SkillConst"}],Moon:[function(t,e,n){"use strict";cc._RF.push(e,"331673W1udBkqQis/dM87ar","Moon");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=0,e.atk=0,e.master=null,e.count=0,e.target=null,e}return o(e,t),e.prototype.init=function(t,e,n,a){this.type=t,this.atk=e,this.master=n,this.count=0,this.target=a},e.prototype.start=function(){},e.prototype.Attack=function(){if(this.count++,this.target.TheStrike(this.atk,this.master.role.hit,!1,!0),0==this.type)for(var t=s.default.instance.GetMonster(),e=0;e<t.length;e++){if(t[e]!=this.target){this.target=t[e];break}e>=t.length-1&&(this.target=null,i.default.Moon.restor(this.node))}else{var n=s.default.instance.GetTeam();for(e=0;e<n.length;e++){if(n[e]!=this.target){this.target=n[e];break}e>=n.length-1&&(this.target=null,i.default.Moon.restor(this.node))}}this.count>=10&&(this.target=null,i.default.Moon.restor(this.node))},e.prototype.update=function(t){if(this.target&&this.target.node){var e=this.node.getPosition(),n=this.target.node.getPosition(),a=e.sub(n).mag(),o=e.sub(n).signAngle(cc.v2(1,0)),r=(Math.PI,cc.v2(-Math.cos(o),Math.sin(o)));r.normalizeSelf(),a>50?(this.node.x+=t*r.x*i.default.speed*1e3,this.node.y+=t*r.y*i.default.speed*1e3):s.default.instance.state==s.FightState.ready?i.default.Moon.restor(this.node):this.Attack()}else i.default.Moon.restor(this.node)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],MzManager:[function(t,e,n){"use strict";cc._RF.push(e,"3e736scnXlLZYMXL+ivCD6l","MzManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./PlatformConst"),s=t("./SdkManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.oldBannerAd=null,e}return o(e,t),e.prototype.getChannel=function(){return"mz"},e.prototype.getChannelId=function(){return"0001069"},e.prototype.bannerAdShow=function(t){void 0===t&&(t=0);var e=qg.getSystemInfoSync().screenWidth,n=qg.getSystemInfoSync().screenHeight,a=qg.createBannerAd({adUnitId:i.MzConst.param_banner,style:{left:10,top:76,width:e,height:4e3}});a.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f",a),a.show()}),a.onResize(function(t){console.log("Banner \u5c3a\u5bf8\u6539\u53d8"),a.style.top=n-t.height,a.style.left=(e-t.width)/2}),a.onError(function(t){console.warn("\u9b45\u65cfbanner\u51fa\u9519",t)}),this.oldBannerAd=a},e.prototype.bannerAdHide=function(){var t=this.oldBannerAd;console.log("\u9690\u85cf",t),t.hide()},e.prototype.rewardedAdShow=function(t,e,n){void 0===t&&(t=-1);var a=null;(a=qg.createRewardedVideoAd({adUnitId:i.MzConst.param_rewardedVideo})).load(),a.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),a.show()}),a.onError(function(t){console.log("\u89c6\u9891\u5e7f\u544a\u51fa\u9519",t),n(!0)}),a.onClose(function(){}),a.onRewarded(function(){e()})},e.prototype.interstitialAdShow=function(t){void 0===t&&(t=1),console.log("\u52a0\u8f7d\u63d2\u5c4f");var e=qg.createInsertAd({adUnitId:i.MzConst.param_interstitial});e.load(),e.onLoad(function(){console.log("insert \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.show()}),e.onError(function(t){console.log(t)})},r([l],e)}(s.default));n.default=u,cc._RF.pop()},{"./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],NativeAdBanner:[function(t,e,n){"use strict";cc._RF.push(e,"0d36fbL8vpMxJy44A3pTJjZ","NativeAdBanner");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("./GameTools"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.widget=null,e.closeBtn=null,e.isShow=!1,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.sprite.node.on(cc.Node.EventType.TOUCH_END,function(){s.default.getSdk().reportAdClick(),s.default.getSdk().PlatformCallBack("BANNERCLOSE")}),this.closeBtn.on(cc.Node.EventType.TOUCH_END,function(){s.default.getSdk().nativeNum++,s.default.getSdk().PlatformCallBack("BANNERCLOSE")})},e.prototype.ClickOff=function(){s.default.getSdk().nativeNum++,s.default.getSdk().PlatformCallBack("BANNERCLOSE")},e.prototype.ShowNativeBanner=function(t){var e,n=this;this.isShow=!0,console.log("adlist:",t),"OPPO"==i.default.channel?(console.log("oppo\u539f\u751f"),e=t[0].imgUrlList[0]):"VIVO"==i.default.channel&&(console.log("vivo\u539f\u751f"),e=t.imgUrlList[0]),console.log("\u539f\u751f\u56fe\u7247url:",e),"OPPO"==i.default.channel?cc.assetManager.loadRemote(e,function(t,e){t?console.log("\u8fdc\u7a0b\u52a0\u8f7d\u539f\u751f\u56fe\u7247\u5931\u8d25"):n.isShow&&(n.node.active=!0,console.log("\u6d4b\u8bd50"),n.sprite.spriteFrame=new cc.SpriteFrame(e),console.log("\u6d4b\u8bd51"),n.widget.updateAlignment(),s.default.getSdk().reportAdShow(),n.sprite.node.setSiblingIndex(0))}):"VIVO"==i.default.channel&&cc.assetManager.loadRemote(e,{ext:".jpg"},function(t,e){t?console.log("\u8fdc\u7a0b\u52a0\u8f7d\u539f\u751f\u56fe\u7247\u5931\u8d25"):n.isShow&&(n.node.active=!0,console.log("\u6d4b\u8bd50"),n.sprite.spriteFrame=new cc.SpriteFrame(e),console.log("\u6d4b\u8bd51"),n.widget.updateAlignment(),s.default.getSdk().reportAdShow(),n.sprite.node.setSiblingIndex(0))})},e.prototype.hideNativeBanner=function(){this.isShow=!1,this.node.active=!1},r([u(cc.Sprite)],e.prototype,"sprite",void 0),r([u(cc.Widget)],e.prototype,"widget",void 0),r([u(cc.Node)],e.prototype,"closeBtn",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../record/GameSys":"GameSys","./GameTools":"GameTools"}],NewScript:[function(t,e,n){"use strict";cc._RF.push(e,"5eb8dEqnAJB5pZLTtzp68y2","NewScript");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return o(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],NewresultItem:[function(t,e,n){"use strict";cc._RF.push(e,"93237iLaSZHj66U/Y4K6sF/","NewresultItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/ArtifactsDataManager"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/PropDataManager"),p=t("../Tools/GameTools"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return this.numLabel=this.node.getChildByName("num").getComponent(cc.Label),this.iconSprite=this.node.getChildByName("icon").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.propframe=this.node.getChildByName("frame").getComponent(cc.Sprite),e=0,n="",a="",1!=t.prop.type?[3,2]:(n="PropIcon/"+t.prop.icon,a="Bundle",[4,l.default.Instance.GetOutPut()]);case 1:return e=s.sent()*t.have,this.numLabel.string="\xd7"+p.default.refSetCoin(e),[3,3];case 2:2==t.prop.type?(n="PropIcon/"+t.prop.icon,a="Bundle",e=c.default.Instance.GetOutPut()*t.have,this.numLabel.string="\xd7"+p.default.refSetCoin(e)):(n="PropIcon/"+t.prop.icon,a="Bundle",e=t.have,this.numLabel.string="\xd7"+p.default.refSetCoin(e)),s.label=3;case 3:return this.nameLabel.string=""+t.prop.name,1!=t.prop.rank&&(this.nameLabel.node.color=cc.color().fromHEX(u.default.Instance.GetLevelColor(t.prop.rank))),(o=p.default.GetRes(a,n,cc.SpriteFrame))?[3,5]:[4,p.default.loadImage(a,n)];case 4:o=s.sent(),s.label=5;case 5:return this.iconSprite.spriteFrame=o,r="PropFrame/"+t.prop.rank,(i=p.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,7]:[4,p.default.loadImage("Bundle",r)];case 6:i=s.sent(),s.label=7;case 7:return this.propframe.spriteFrame=i,[2]}})})},e.prototype.start=function(){},r([f],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PropDataManager":"PropDataManager","../Tools/GameTools":"GameTools"}],NewresultPanel:[function(t,e,n){"use strict";cc._RF.push(e,"c9d60MD5Z9JhorEK7gKVOTZ","NewresultPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ChapterDataManager"),u=t("../Manager/GuideDataManager"),p=t("../Manager/PropDataManager"),d=t("../Manager/SceneDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./rewardItem"),b=t("./UIBase"),_=t("./UIManager"),S=t("./UnlockSys"),C=cc._decorator,w=C.ccclass,M=(C.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine1=null,e.spine2=null,e.layout=null,e.Content=null,e.timelabel=null,e.continue=null,e.customs=null,e.coin=0,e.callback=null,e.time=5,e.addCallback=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.spine1=t.getChildByName("spine1").getComponent(sp.Skeleton),this.spine2=t.getChildByName("spine2").getComponent(sp.Skeleton),this.Content=t.getChildByName("content"),this.layout=t.getChildByName("content").getChildByName("ScrollView").getChildByName("view").getChildByName("layout"),this.timelabel=t.getChildByName("layout").getChildByName("continue").getChildByName("timelabel").getComponent(cc.Label),this.continue=t.getChildByName("layout").getChildByName("continue")},e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var t,e,n,a=this;return s(this,function(o){switch(o.label){case 0:return this.layout.childrenCount>0&&this.layout.destroyAllChildren(),this.Content.active=!1,this.spine1.setAnimation(0,"in",!1),this.spine1.setCompleteListener(function(){"in"==a.spine1.animation&&a.spine1.setAnimation(0,"loop",!0)}),this.Content.active=!0,this.time=5,t=u.default.Instance.isHaveUnlockToCustoms(),e=l.default.Instance.isHaveChapter(),[4,d.default.Instance.GetRole()];case 1:return n=o.sent(),t||e||1==n.rankId?this.continue.active=!1:this.continue.active=!0,cc.systemEvent.emit(y.EventConst.initTips),g.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},e.prototype.init=function(t,e){this.addCallback=null,this.callback=e;for(var n=[],a=0;a<t.length;a++){if(999999!=t[a].item1){var o=p.default.Instance.GetCoinProp(),r=t[a].item1Num;this.addReward(n,o,r)}999999!=t[a].item2&&(o=p.default.Instance.GetProp(t[a].item2),r=t[a].item2Num,this.addReward(n,o,r)),999999!=t[a].item3&&(o=p.default.Instance.GetProp(t[a].item3),r=t[a].item3Num,this.addReward(n,o,r))}for(a=0;a<n.length;a++)this.CreatorProp().getComponent(m.default).init(n[a],a,!0)},e.prototype.addReward=function(t,e,n){if(t.length<=0)t.push({prop:e,have:n});else for(var a=0;a<t.length;a++){if(t[a].prop.id==e.id){t[a].have+=n;break}if(a>=t.length-1){t.push({prop:e,have:n});break}}},e.prototype.GetAward=function(){_.default.Instance.ChangeCoin(this.coin)},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.GetAward(),this.callback(!1)},e.prototype.ClickContinue=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.GetAward(),this.callback(!0)},e.prototype.CloseThis=function(){return i(this,void 0,void 0,function(){var t,e=this;return s(this,function(n){switch(n.label){case 0:return this.node.active=!1,[4,d.default.Instance.GetRole()];case 1:return 1==n.sent().rankId?cc.systemEvent.emit(y.EventConst.playPlace,function(){return i(e,void 0,void 0,function(){return s(this,function(){return[2]})})}):l.default.Instance.isHaveChapter(),(t=u.default.Instance.isHaveUnlockToCustoms())?[4,_.default.Instance.ShowUI(v.default.UnlockSys)]:[3,3];case 2:return n.sent(),_.default.Instance.GetClass(v.default.UnlockSys).getComponent(S.default).init(t.unlock),[3,4];case 3:this.addCallback&&this.addCallback(),n.label=4;case 4:return g.default.getSdk().PlatformCallBack("BANNERCLOSE"),[2]}})})},e.prototype.start=function(){},e.prototype.CreatorProp=function(){var t=h.default.rewardItem.get();return t.setParent(this.layout),t},e.prototype.update=function(t){this.time-=t,this.timelabel.string=c.i18nMgr.getLabel("title342")+Math.floor(this.time)+"s",this.time<=0&&this.continue.active&&(this.time=0,this.ClickContinue())},r([w],e)}(b.default));n.default=M,cc._RF.pop()},{"../Manager/ChapterDataManager":"ChapterDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SceneDataManager":"SceneDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./UIBase":"UIBase","./UIManager":"UIManager","./UnlockSys":"UnlockSys","./rewardItem":"rewardItem"}],NoviceGiftPanel:[function(t,e,n){"use strict";cc._RF.push(e,"c4e3emICO1N1KlfSQQdILyj","NoviceGiftPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GiftDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Item=[],e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return t.prototype.onEnable.call(this),999999==(e=p.default.Instance.getGift(1)).item1?[3,3]:(this.Item[0].active=!0,n=d.default.Instance.GetProp(e.item1),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",a)]);case 1:o=i.sent(),i.label=2;case 2:return this.Item[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r=this.CanGetNum(n,e.item1Num),this.Item[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,4];case 3:this.Item[0].active=!1,i.label=4;case 4:return 999999==e.item2?[3,7]:(this.Item[1].active=!0,n=d.default.Instance.GetProp(e.item2),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,6]:[4,g.default.loadImage("Bundle",a)]);case 5:o=i.sent(),i.label=6;case 6:return this.Item[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r=this.CanGetNum(n,e.item2Num),this.Item[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,8];case 7:this.Item[1].active=!1,i.label=8;case 8:return 999999==e.item3?[3,11]:(this.Item[2].active=!0,n=d.default.Instance.GetProp(e.item3),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("Bundle",a)]);case 9:o=i.sent(),i.label=10;case 10:return this.Item[2].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,r=this.CanGetNum(n,e.item3Num),this.Item[2].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,12];case 11:this.Item[2].active=!1,i.label=12;case 12:return 999999==e.item4?[3,15]:(this.Item[3].active=!0,n=d.default.Instance.GetProp(e.item4),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,14]:[4,g.default.loadImage("Bundle",a)]);case 13:o=i.sent(),i.label=14;case 14:return this.Item[3].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,this.Item[3].getChildByName("name").getComponent(cc.Label).string=""+n.name,r=this.CanGetNum(n,e.item4Num),this.Item[3].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,16];case 15:this.Item[3].active=!1,i.label=16;case 16:return[2]}})})},e.prototype.CanGetNum=function(t,e){return 1==t.type?u.default.Instance.GetOutPut()*e:2==t.type?l.default.Instance.GetOutPut()*e:e},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis()},e.prototype.ClickGet=function(){var t=this;f.default.instance.play(f.Sound.Click),g.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=[],999999!=(e=p.default.Instance.getGift(1)).item1&&(n=d.default.Instance.GetProp(e.item1),t.push({prop:n,have:e.item1Num})),999999!=e.item2&&(n=d.default.Instance.GetProp(e.item2),t.push({prop:n,have:e.item2Num})),999999!=e.item3&&(n=d.default.Instance.GetProp(e.item3),t.push({prop:n,have:e.item3Num})),999999!=e.item4&&(n=d.default.Instance.GetProp(e.item4),t.push({prop:n,have:e.item4Num})),[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 1:return a.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t),h.default.setNoviceGift(),this.CloseThis(),cc.systemEvent.emit(y.EventConst.Game_Up),[2]}})})},function(){b.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-19)},r([M(cc.Node)],e.prototype,"Item",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],OffLinePanel:[function(t,e,n){"use strict";cc._RF.push(e,"7a0b5xaTvhJ65Qs0xmFWlU5","OffLinePanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/SoundManager"),p=t("../Tools/GameTools"),d=t("./TipGroup"),f=t("./UIBase"),h=t("./UIManager"),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardLabel=null,e.oneLabel=null,e.doubleLabel=null,e.reward=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.rewardLabel=t.getChildByName("reward").getComponent(cc.Label),this.oneLabel=t.getChildByName("one").getChildByName("layout").getChildByName("num").getComponent(cc.Label),this.doubleLabel=t.getChildByName("double").getChildByName("layout").getChildByName("num").getComponent(cc.Label)},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return e=this,[4,l.default.Instance.GetOutPut()];case 1:return e.reward=n.sent()*t,this.rewardLabel.string="\xd7"+p.default.refSetCoin(this.reward),this.oneLabel.string="\xd7"+p.default.refSetCoin(this.reward),this.doubleLabel.string="\xd7"+p.default.refSetCoin(2*this.reward),[2]}})})},e.prototype.ClickOne=function(){u.default.instance.play(u.Sound.Click),h.default.Instance.ChangeCoin(this.reward),this.CloseThis()},e.prototype.ClickDouble=function(){var t=this;u.default.instance.play(u.Sound.Click),p.default.getSdk().PlatformCallBack("REWARD",function(){h.default.Instance.ChangeCoin(2*t.reward),t.CloseThis()},function(){d.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-13)},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},r([g],e)}(f.default));n.default=v,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],OnlineDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"5dc55rkGZFOWJU4hXNyjSnj","OnlineDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/OnlineData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","online",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","online")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.needtime=o.needTime,r.num=o.num,r.name=o.name,r.item=o.item,this.allDataList.push(r);return[2]}})})},e.prototype.GetData=function(t){return this.allDataList[t]},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/OnlineData":"OnlineData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],OnlineData:[function(t,e,n){"use strict";cc._RF.push(e,"8af70FgPmZBtrH8Nmw1hrM5","OnlineData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.id=0,this.needtime=0},cc._RF.pop()},{}],OnlinePanel:[function(t,e,n){"use strict";cc._RF.push(e,"b92a2BuPztC5YCcTgE4eFb9","OnlinePanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("./Onlineitem"),c=t("./UIBase"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Hours=null,e.Minute=null,e.Content=null,e.Panel=null,e.End=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.initOnline()},e.prototype.initOnline=function(){for(var t=0;t<this.Content.childrenCount;t++)this.Content.children[t].getComponent(s.default).init(t)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.update=function(){var t=i.default.getOnline(),e=Math.floor(t/3600);this.Hours.string=""+e;var n=Math.floor(t/60%60);this.Minute.string=""+n;for(var a=i.default.getOnlineIsGet(),o=!1,r=0;r<a.length;r++)0==a[r]&&(o=!0);this.Panel.active=o,this.End.active=!o},r([p(cc.Label)],e.prototype,"Hours",void 0),r([p(cc.Label)],e.prototype,"Minute",void 0),r([p(cc.Node)],e.prototype,"Content",void 0),r([p(cc.Node)],e.prototype,"Panel",void 0),r([p(cc.Node)],e.prototype,"End",void 0),r([u],e)}(c.default);n.default=d,cc._RF.pop()},{"../record/GameSys":"GameSys","./Onlineitem":"Onlineitem","./UIBase":"UIBase"}],Onlineitem:[function(t,e,n){"use strict";cc._RF.push(e,"82087HHj95MupvK/krhcYoR","Onlineitem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/OnlineDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/GameTools"),g=t("./DoublePanel"),v=t("./PanelConst"),m=t("./TipGroup"),b=t("./UIManager"),_=cc._decorator,S=_.ccclass,C=_.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Frame=null,e.Icon=null,e.Reward=null,e.Name=null,e.Time=null,e.GetBtn=null,e.OverBtn=null,e.NoBtn=null,e.data=null,e.prop=null,e.index=0,e}return o(e,t),e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return e=p.default.Instance.GetData(t),n=d.default.Instance.GetProp(e.item),this.data=e,this.index=t,this.prop=n,a="PropFrame/"+n.rank,(o=y.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("Bundle",a)];case 1:o=s.sent(),s.label=2;case 2:return this.Frame.spriteFrame=o,r="PropIcon/"+n.icon,(i=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.Icon.spriteFrame=i,this.Name.string=""+n.name,this.Name.node.color=cc.color().fromHEX(d.default.Instance.GetLevelColor(n.rank)),c=0,1!=n.type?[3,6]:[4,u.default.Instance.GetOutPut()];case 5:return c=s.sent()*e.num,[3,9];case 6:return 2!=n.type?[3,8]:[4,l.default.Instance.GetOutPut()];case 7:return c=s.sent()*e.num,[3,9];case 8:c=3==n.type?e.num:(n.type,e.num),s.label=9;case 9:return this.Reward.string=""+y.default.refSetCoin(c),this.Time.string=""+e.needtime/60,[2]}})})},e.prototype.start=function(){},e.prototype.initBtn=function(){var t=this.data.needtime;h.default.getOnline()>t?0==h.default.getOnlineIsGet()[this.index]?(this.GetBtn.active=!0,this.OverBtn.active=!1,this.NoBtn.active=!1):(this.GetBtn.active=!1,this.OverBtn.active=!0,this.NoBtn.active=!1):(this.GetBtn.active=!1,this.OverBtn.active=!1,this.NoBtn.active=!0)},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e=this;return s(this,function(n){switch(n.label){case 0:return f.default.instance.play(f.Sound.Click),(t=function(){return i(e,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return t=0,1!=this.prop.type?[3,2]:[4,u.default.Instance.GetOutPut()];case 1:return t=n.sent()*this.data.num,b.default.Instance.ChangeCoin(t),[3,5];case 2:return 2!=this.prop.type?[3,4]:[4,l.default.Instance.GetOutPut()];case 3:return t=n.sent()*this.data.num,b.default.Instance.ChangeJewel(t),[3,5];case 4:3==this.prop.type?(t=this.data.num,b.default.Instance.ChangeCrystal(t)):4==this.prop.type?(t=this.data.num,b.default.Instance.ChangeJade(t)):(t=this.data.num,(e=[]).push({prop:this.prop,have:this.data.num}),d.default.Instance.addPack(e),m.default.instance.setText(-1,c.i18nMgr.getLabel("title222")+this.prop.name+"+"+this.data.num)),n.label=5;case 5:return[2]}})})})(),h.default.setOnlineIsGet(this.index),this.initBtn(),[4,b.default.Instance.ShowUI(v.default.DoublePanel)];case 1:return n.sent(),b.default.Instance.GetClass(v.default.DoublePanel).getComponent(g.default).init(t),[2]}})})},e.prototype.update=function(){this.data&&this.initBtn()},r([C(cc.Sprite)],e.prototype,"Frame",void 0),r([C(cc.Sprite)],e.prototype,"Icon",void 0),r([C(cc.Label)],e.prototype,"Reward",void 0),r([C(cc.Label)],e.prototype,"Name",void 0),r([C(cc.Label)],e.prototype,"Time",void 0),r([C(cc.Node)],e.prototype,"GetBtn",void 0),r([C(cc.Node)],e.prototype,"OverBtn",void 0),r([C(cc.Node)],e.prototype,"NoBtn",void 0),r([S],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/OnlineDataManager":"OnlineDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./DoublePanel":"DoublePanel","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIManager":"UIManager"}],OpenBoxPanel:[function(t,e,n){"use strict";cc._RF.push(e,"fd422UP0NdGGqxufYDCB7jY","OpenBoxPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/CrystalBoxManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/GameTools"),g=t("./UIBase"),v=t("./UIManager"),m=cc._decorator,b=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BoxSp=null,e.ItemContent=null,e.AgainBtn=null,e.OffBtn=null,e.TitleSp=null,e.count=0,e.array=[],e.type=0,e}return o(e,t),e.prototype.init=function(t,e,n,a){return void 0===e&&(e=1),i(this,void 0,void 0,function(){var o,r,i,c,p,h,g,m,b,_,S,C=this;return s(this,function(s){switch(s.label){case 0:this.type=n,this.array=t,this.count=e,this.callback=a,this.BoxSp.node.active=!1,this.ItemContent.active=!1,this.AgainBtn.active=!1,this.OffBtn.active=!1,this.TitleSp.node.active=!1,o=0,s.label=1;case 1:return o<this.ItemContent.children.length?(this.ItemContent.children[o].active=!1,o<t.length?((r=this.ItemContent.children[o]).getChildByName("name").getComponent(cc.Label).string=t[o].prop.name,i="PropFrame/"+t[o].prop.rank,(c=y.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,3]:[4,y.default.loadImage("Bundle",i)]):[3,13]):[3,14];case 2:c=s.sent(),s.label=3;case 3:return r.getChildByName("frame").getComponent(cc.Sprite).spriteFrame=c,p="PropIcon/"+t[o].prop.icon,(h=y.default.GetRes("Bundle",p,cc.SpriteFrame))?[3,5]:[4,y.default.loadImage("Bundle",p)];case 4:h=s.sent(),s.label=5;case 5:switch(r.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=h,t[o].prop.type){case 1:return[3,6];case 2:return[3,8];case 3:return[3,10];case 4:return[3,11]}return[3,12];case 6:return[4,u.default.Instance.GetOutPut()];case 7:return g=s.sent()*t[o].have,v.default.Instance.GetCoin(g),r.getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(g),[3,13];case 8:return[4,l.default.Instance.GetOutPut()];case 9:return m=s.sent()*t[o].have,v.default.Instance.GetJewel(m),r.getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(m),[3,13];case 10:return b=t[o].have,v.default.Instance.ChangeCrystal(b),r.getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(b),[3,13];case 11:_=t[o].have,v.default.Instance.GetJade(_),r.getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(_),s.label=12;case 12:return d.default.Instance.addPack([t[o]]),r.getChildByName("num").getComponent(cc.Label).string="\xd7"+y.default.refSetCoin(t[o].have),[3,13];case 13:return o++,[3,1];case 14:return this.BoxSp.node.active=!0,S=this.BoxSp.setAnimation(0,"in",!1),this.BoxSp.setTrackCompleteListener(S,function(){for(var e=0,n=0;n<t.length;n++)t[n].prop.rank>e&&(e=t[n].prop.rank);C.ShowItem()}),this.BoxSp.setEventListener(function(t,e){"soulbox_drop"==e.stringValue?f.default.instance.play(f.Sound.soulbox_drop):"soulbox_open"==e.stringValue?f.default.instance.play(f.Sound.soulbox_open):"soulbox_w"==e.stringValue&&f.default.instance.play(f.Sound.soulbox_w)}),[2]}})})},e.prototype.ShowItem=function(){for(var t=this,e=0,n=0;n<this.array.length;n++)this.array[n].prop.rank>e&&(e=this.array[n].prop.rank);cc.tween(this.TitleSp.node).delay(1.6).call(function(){t.TitleSp.node.active=!0;var e=t.TitleSp.setAnimation(0,"in",!1);t.TitleSp.setTrackCompleteListener(e,function(){t.TitleSp.setAnimation(0,"loop",!0)})}).start();var a=e<=3?1:2;5==this.count&&(a=2),this.BoxSp.setAnimation(0,"op"+a,!1),this.ItemContent.active=!0;var o=function(e){e<r.array.length?cc.tween(r.ItemContent.children[e]).delay(1.7).delay(.5*e).call(function(){t.ItemContent.children[e].active=!0}).by(0,{y:-300}).by(.1,{y:300},{easing:"backOut"}).call(function(){if(e==t.array.length-1)switch(t.type){case 0:t.AgainBtn.active=!1,t.OffBtn.active=!0;break;case 1:var n=p.default.Instance.getNeedCrystal();t.AgainBtn.active=h.default.getCrystal()>=n,t.OffBtn.active=!0;break;case 2:var a=1==t.count?50:200;t.AgainBtn.active=h.default.getJade()>=a,t.OffBtn.active=!0}}).start():r.ItemContent.children[e].active=!1},r=this;for(n=0;n<this.ItemContent.children.length;n++)o(n)},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),3==c.default.instance.teacherid&&v.default.Instance.ShowGuide(2)},e.prototype.ClickAgain=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.callback&&this.callback()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([_(sp.Skeleton)],e.prototype,"BoxSp",void 0),r([_(cc.Node)],e.prototype,"ItemContent",void 0),r([_(cc.Node)],e.prototype,"AgainBtn",void 0),r([_(cc.Node)],e.prototype,"OffBtn",void 0),r([_(sp.Skeleton)],e.prototype,"TitleSp",void 0),r([b],e)}(g.default);n.default=S,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/CrystalBoxManager":"CrystalBoxManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./UIBase":"UIBase","./UIManager":"UIManager"}],OppoManager:[function(t,e,n){"use strict";cc._RF.push(e,"4ae76HSFNtFE5y1aGH6aFuq","OppoManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../record/GameSys"),l=t("../UI/UIManager"),u=t("./PlatformConst"),p=t("./SdkManager"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bannerAd=null,e.bannerIsHiden=!0,e.rewardedAd=null,e.gamePortalAd=null,e.gameBannerAd=null,e.gameBannerAdIsShow=!1,e.nativeAd=null,e.adList=null,e.nativeAdErr=!1,e.nativeNum=0,e}return o(e,t),e.prototype.init=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2,""]})})},e.prototype.getChannel=function(){return"oppo"},e.prototype.getChannelId=function(){return"0001067"},e.prototype.vibrate=function(){qg.vibrateShort({})},e.prototype.createBannerAd=function(){var t=this,e=qg.getSystemInfoSync().screenWidth,n=qg.getSystemInfoSync().screenHeight,a={left:(e-900)/2,height:300,width:900,top:n-300};this.bannerAd=qg.createBannerAd({adUnitId:u.OppoConst.param_banner,style:a}),this.bannerAd.onResize(function(a){console.log("resize",a.width,a.height,e,n),900==a.width&&300==a.height||(t.bannerAd.style.top=n-a.height,t.bannerAd.style.left=(e-a.width)/2)}),this.bannerAd.onLoad(function(){console.log("banner \u52a0\u8f7d\u6210\u529f")}),this.bannerAd.onError(function(e){console.log("banner \u51fa\u9519",e),t.bannerAd.destroy(),t.bannerAd=null})},e.prototype.bannerAdShow=function(t){var e=this;void 0===t&&(t=0),this.bannerIsHiden=!1,null==this.bannerAd&&this.createBannerAd(),this.bannerAd.show().then(function(){console.log("banner\u663e\u793a\u6210\u529f"),e.bannerIsHiden&&e.bannerAdHide()})},e.prototype.bannerAdHide=function(){console.log("banner \u5173\u95ed"),this.bannerIsHiden=!0,null!=this.bannerAd&&this.bannerAd.hide()},e.prototype.rewardedAdShow=function(t,e,n){var a=this;void 0===t&&(t=-1),this.rewardedAd||(this.rewardedAd=qg.createRewardedVideoAd({adUnitId:u.OppoConst.param_rewardedVideo}));var o=function(t){t.isEnded?(console.log("\u6210\u529f"),e()):(console.log("\u5931\u8d25"),n(!1)),a.rewardedAd.offClose(o)};this.rewardedAd.onClose(o),this.rewardedAd.load().then(function(){console.log("\u52a0\u8f7d\u6210\u529f"),a.rewardedAd.show().then(function(){}).catch(function(t){console.log("reward show error",t.errCode,t.errMsg),n(!0)})}).catch(function(t){console.log("reward load error",t.errCode,t.errMsg),n(!0)})},e.prototype.showGamePortalAd=function(){var t=this;if(qg.getSystemInfoSync().platformVersionCode<1076)return console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API");null!==this.gamePortalAd?(this.gamePortalAd=qg.createGamePortalAd({adUnitId:u.OppoConst.param_gamePortal}),this.gamePortalAd.onClose(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u5173\u95ed"),t.gamePortalAd.load()}),this.gamePortalAd.load().then(function(){console.log("load success"),t.gamePortalAd.show()})):this.gamePortalAd.show().then().catch(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),t.gamePortalAd.load().then(function(){console.log("load success"),t.gamePortalAd.show()}).catch(function(t){console.log("load fail with:"+t.errCode+","+t.errMsg)})})},e.prototype.showGameBannerAd=function(){var t=this;if(qg.getSystemInfoSync().platformVersionCode<1076)return console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API");null==this.gameBannerAd&&(this.gameBannerAd=qg.createGameBannerAd({adUnitId:u.OppoConst.param_gameBanner}),this.gameBannerAd.onLoad(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.gameBannerAd.onError(function(t){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)})),this.gameBannerAdIsShow=!0,this.gameBannerAd.show().then(function(){t.gameBannerAdIsShow||t.hideGameBannerAd()}).catch(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u5c55\u793a\u5931\u8d25")})},e.prototype.hideGameBannerAd=function(){null!==this.gameBannerAd&&this.gameBannerAdIsShow&&(this.gameBannerAdIsShow=!1,this.gameBannerAd.hide().then(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544ahide\u6210\u529f")}).catch(function(t){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544ahide\u5931\u8d25\uff1a"+t.errCode+","+t.errMsg)}))},e.prototype.showGameDrawerAd=function(t){if(void 0===t&&(t=0),qg.getSystemInfoSync().platformVersionCode<1090)return console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1090\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API");null==this.gameDrawerAd&&(this.gameDrawerAd=qg.createGameDrawerAd({adUnitId:u.OppoConst.param_gameDrawer,style:{top:t}})),this.gameDrawerAd.show().then(function(){console.log("show success")}).catch(function(t){console.log("show fail with:"+t.errCode+","+t.errMsg)})},e.prototype.hideGameDrawerAd=function(){null!=this.gameDrawerAd&&this.gameDrawerAd.hide().then(function(){console.log("hide success")}).catch(function(t){console.log("hide fail with:"+t.errCode+","+t.errMsg)})},e.prototype.isSupportDesktop=function(){return!0},e.prototype.saveAppToDesktop=function(t,e){console.log("\u8fc7\u6765\u5f00\u59cb\u521b\u5efa\u56fe\u6807"),qg.hasShortcutInstalled({success:function(n){console.log("\u5f00\u59cb\u521b\u5efa"),0==n&&(console.log("\u53ef\u4ee5\u521b\u5efa"),qg.installShortcut({success:function(){t&&t()},fail:function(t){console.log(t),e&&e()}}))},fail:function(){}})},e.prototype.isSupportPrivacy=function(){return!0},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),c.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e()},n)):"BANNER"==t?l.default.Instance.OPPONativeAdBanner.active=!0:"BANNER2"==t?this.bannerAdShow():"BANNERCLOSE"==t?(l.default.Instance.OPPONativeAdBanner.active=!1,this.bannerAdHide()):"BANNERCLOSE2"==t&&this.bannerAdHide()},e.prototype.createNativeAd=function(){var t=this;this.nativeAd&&this.nativeAd.destroy(),this.nativeAd=null,this.adList=null,this.nativeAdErr=!1,this.nativeAd=qg.createNativeAd({adUnitId:"420852"}),this.nativeAd.onLoad(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",e.adList),t.adList=e.adList}),this.nativeAd.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t.nativeAdErr=!0}),this.nativeAd.load()},e.prototype.getAdList=function(){return this.nativeAd?this.nativeAdErr&&(this.nativeAdErr=!1,this.nativeAd.load()):this.createNativeAd(),this.adList},e.prototype.reportAdShow=function(){console.log("\u4e0a\u4f20\u5e7f\u544a\u66dd\u5149"),this.nativeAd.reportAdShow({adId:this.adList[0].adId})},e.prototype.reportAdClick=function(){console.log("\u4e0a\u4f20\u5e7f\u544a\u70b9\u51fb"),this.nativeAd.reportAdClick({adId:this.adList[0].adId})},e.prototype.login=function(t){t()},r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../UI/UIManager":"UIManager","../record/GameSys":"GameSys","./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],OppoNativeAd:[function(t,e,n){"use strict";cc._RF.push(e,"a3a3ea8wglBnYtYzQhP1zZw","OppoNativeAd");var a,o,r=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.idle=0]="idle",t[t.loading=1]="loading",t[t.loaded=2]="loaded",t[t.error=3]="error",t[t.shown=4]="shown",t[t.clicked=5]="clicked"}(o||(o={}));var s=t("../Tools/GameTools"),c=t("./OppoManager"),l=t("./PlatformConst"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adLogos=[],e.btn_close=null,e.nativeRepeat=3,e.nativeAdPos=0,e.nativeCount=0,e.sprite=null,e.widget=null,e.isShow=!1,e.loadState=o.idle,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this.sprite=this.node.getComponent(cc.Sprite);var e=s.default.getSdk();e instanceof c.default&&(this.sdk=e),this.sdk&&this.btn_close&&this.btn_close.on(cc.Node.EventType.TOUCH_END,function(){t.node.active=!1})},e.prototype.createNativeAd=function(t,e,n){this.nativeAd&&this.nativeAd.destroy();var a=qg.createNativeAd({adUnitId:l.OppoConst.nativeUnitIds[t]});return a.onLoad(function(n){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f",n.adList,t),e(n)}),a.onError(function(t){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),n(t),s.default.getSdk().PlatformCallBack("BANNER2")}),a.load(),this.nativeCount=0,a},e.prototype.clickNative=function(){return(this.loadState==o.shown||this.loadState==o.clicked)&&(this.loadState=o.clicked,this.nativeAd.reportAdClick({adId:this.adList[0].adId}),!0)},e.prototype.show=function(t){var e=this,n=t[0].imgUrlList[0];cc.assetManager.loadRemote(n,{ext:".jpg"},function(n,a){if(n)return e.loadState=o.error,console.log("\u8fdc\u7a0b\u52a0\u8f7d\u539f\u751f\u56fe\u7247\u5931\u8d25");e.isShow&&(e.sprite.spriteFrame=new cc.SpriteFrame(a),e.loadState==o.loaded&&(e.nativeAd.reportAdShow({adId:t[0].adId}),e.loadState=o.shown),e.node.on(cc.Node.EventType.TOUCH_END,function(){e.clickNative()}),e.adLogos.forEach(function(t){t.active=!0}),e.nativeCount++)}),console.log("\u539f\u751f\u56fe\u7247url:",n)},e.prototype.onEnable=function(){var t=this;if(this.adLogos.forEach(function(t){t.active=!1}),this.sdk)switch(this.isShow=!0,this.nativeRepeat>0&&this.nativeCount>=this.nativeRepeat&&(this.loadState=o.idle),this.loadState){case o.idle:case o.error:case o.clicked:this.loadState=o.loading,this.nativeAd=this.createNativeAd(this.nativeAdPos,function(e){t.adList=e.adList,t.loadState=o.loaded,t.show(t.adList)},function(){t.loadState=o.error});break;case o.loaded:case o.shown:this.show(this.adList);break;case o.loading:console.log("native ad is loading")}},e.prototype.onDisable=function(){this.sdk&&(this.isShow=!1,this.node.off(cc.Node.EventType.TOUCH_END))},e.prototype.onDestroy=function(){this.nativeAd&&this.nativeAd.destroy()},i([d({type:cc.Node,displayName:"\u5e7f\u544a\u9875\u9762\u4e0a\u9644\u52a0\u5185\u5bb9",tooltip:"\u672a\u5c55\u793a\u5e7f\u544a\u524d\u9700\u8981\u9690\u85cf\u7684\u8282\u70b9"})],e.prototype,"adLogos",void 0),i([d({type:cc.Node,displayName:"\u5173\u95ed\u6309\u94ae",tooltip:"\u5d4c\u5165\u5f0f\u539f\u751f\u53ef\u4ee5\u4e3a\u7a7a"})],e.prototype,"btn_close",void 0),i([d({displayName:"\u5e7f\u544a\u5c55\u793a\u4e0a\u9650",tooltip:"\u503c\u4e3a0\u65f6\u8868\u793a\u65e0\u4e0a\u9650"})],e.prototype,"nativeRepeat",void 0),i([d({displayName:"\u5e7f\u544a\u4f4d"})],e.prototype,"nativeAdPos",void 0),i([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../Tools/GameTools":"GameTools","./OppoManager":"OppoManager","./PlatformConst":"PlatformConst"}],OptionsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"45fc7tmaxJDV7Ls5UrbVfyj","OptionsPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SoundManager"),s=t("../record/GameSys"),c=t("../Tools/GameTools"),l=t("./UIBase"),u=t("./UIManager"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.android=null,e.layout=null,e.bgm=null,e.bgmSp=[],e.ball=null,e.service=null,e.privacy=null,e}return o(e,t),e.prototype.onLoad=function(){this.privacy.active=!1,this.android.active=!1},e.prototype.ClickPrivacy=function(){"Android"==s.default.channel?c.default.getSdk().showPrivacy():cc.systemEvent.emit("showprivacyMessage")},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),s.default.channel,this.layout.active=!1;var e=s.default.getMusic();this.bgm.spriteFrame=e?this.bgmSp[0]:this.bgmSp[1],this.ball.x=e?25:-25,s.default.channel,this.service.active=!1,c.default.getSdk().PlatformCallBack("BANNER")},e.prototype.ClickMusic=function(){var t=this;i.default.instance.play(i.Sound.Click);var e=s.default.getMusic();cc.tween(this.ball).to(.3,{x:e?-25:25}).call(function(){t.bgm.spriteFrame=e?t.bgmSp[1]:t.bgmSp[0],s.default.setMusic(!e),i.default.instance.init()}).start()},e.prototype.ClickOff=function(){i.default.instance.play(i.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),c.default.getSdk().PlatformCallBack("BANNERCLOSE"),u.default.Instance.ShowInter()},r([f(cc.Node)],e.prototype,"android",void 0),r([f(cc.Node)],e.prototype,"layout",void 0),r([f(cc.Sprite)],e.prototype,"bgm",void 0),r([f(cc.SpriteFrame)],e.prototype,"bgmSp",void 0),r([f(cc.Node)],e.prototype,"ball",void 0),r([f(cc.Node)],e.prototype,"service",void 0),r([f(cc.Node)],e.prototype,"privacy",void 0),r([d],e)}(l.default);n.default=h,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./UIBase":"UIBase","./UIManager":"UIManager"}],OutputCoin:[function(t,e,n){"use strict";cc._RF.push(e,"286cdLCfJ9Hd6sb78XE5ee5","OutputCoin");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../Tools/GameTools"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return o(e,t),e.prototype.init=function(t){var e=this;this.node.setPosition(cc.v2(0,0)),this.label.string="+"+s.default.refSetCoin(t),this.node.opacity=0,this.node.scale=0,cc.tween(this.node).by(.5,{opacity:255}).start(),cc.tween(this.node).by(2,{y:100}).start(),cc.tween(this.node).to(.3,{scale:1}).delay(1).to(.3,{opacity:0}).call(function(){i.default.OutputCoin.restor(e.node)}).start()},e.prototype.start=function(){},r([u(cc.Label)],e.prototype,"label",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],PackItem:[function(t,e,n){"use strict";cc._RF.push(e,"7188aQackJP3Jq4S+afz7he","PackItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/PropDataManager"),l=t("../Manager/SoundManager"),u=t("../Tools/GameTools"),p=t("./PanelConst"),d=t("./PropMessage"),f=t("./UIManager"),h=cc._decorator,y=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.packdata=null,e}return o(e,t),e.prototype.onLoad=function(){this.frame=this.node.getChildByName("frame").getComponent(cc.Sprite),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.namelabel=this.node.getChildByName("name").getComponent(cc.Label),this.have=this.node.getChildByName("have").getComponent(cc.Label)},e.prototype.start=function(){},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o;return s(this,function(r){switch(r.label){case 0:return this.packdata=t,this.namelabel.string=""+this.packdata.prop.name,this.namelabel.node.color=cc.color().fromHEX(c.default.Instance.GetLevelColor(this.packdata.prop.rank)),this.have.string=1==this.packdata.prop.maxInOne?"":"\xd7"+this.packdata.have,e="PropFrame/"+this.packdata.prop.rank,(n=u.default.GetRes("Bundle",e,cc.SpriteFrame))?[3,2]:[4,u.default.loadImage("Bundle",e)];case 1:n=r.sent(),r.label=2;case 2:return this.frame.spriteFrame=n,a="PropIcon/"+this.packdata.prop.icon,(o=u.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,4]:[4,u.default.loadImage("Bundle",a)];case 3:o=r.sent(),r.label=4;case 4:return this.icon.spriteFrame=o,[2]}})})},e.prototype.ShowType=function(t){switch(t){case 0:this.node.active=!0;break;case 1:this.node.active=6==this.packdata.prop.type;break;case 2:this.node.active=5==this.packdata.prop.type;break;case 3:this.node.active=8==this.packdata.prop.type}},e.prototype.ClickShow=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return l.default.instance.play(l.Sound.Click),[4,f.default.Instance.ShowUI(p.default.PropMessage)];case 1:return t.sent(),f.default.Instance.GetClass(p.default.PropMessage).getComponent(d.default).init(this.packdata.prop),[2]}})})},r([y],e)}(cc.Component));n.default=g,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","./PanelConst":"PanelConst","./PropMessage":"PropMessage","./UIManager":"UIManager"}],PackPanel:[function(t,e,n){"use strict";cc._RF.push(e,"a3f22VhtrdE4YPv7EYfsjUD","PackPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/PropDataManager"),s=t("../Manager/SoundManager"),c=t("../record/GameSys"),l=t("./PackItem"),u=t("./UIBase"),p=t("./UIManager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnSpirte=[],e.BtnContent=null,e.PackContent=null,e.pack=[],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.initPack()},e.prototype.initPack=function(){this.PackContent.childrenCount>0&&this.PackContent.destroyAllChildren(),this.pack=[],this.initPackSplit(0);for(var t=0;t<this.pack.length;t++)this.CreatorPackItem().getComponent(l.default).init(this.pack[t])},e.prototype.initPackSplit=function(t){var e;e=0==t?c.default.getPack():i.default.Instance.GetPackPropType(t);for(var n=[],a=0;a<e.length;a++){var o=e[a].prop.maxInOne,r=e[a].have;do{var s=r>=o?o:r;r-=s,n.push({prop:e[a].prop,have:s})}while(r>0)}for(a=0;a<n.length;a++)for(var l=a;l<n.length;l++)if(n[l].prop.index<n[a].prop.index){var u=n[a];n[a]=n[l],n[l]=u}for(a=0;a<n.length;a++)this.pack.push(n[a])},e.prototype.CreatorPackItem=function(){var t=c.default.packitem.get();return t.setParent(this.PackContent),t},e.prototype.start=function(){},e.prototype.ClickBtn=function(t,e){s.default.instance.play(s.Sound.Click);var n=parseInt(e);this.init(n)},e.prototype.init=function(t){for(var e=0;e<this.BtnContent.children.length;e++)t==e?(this.BtnContent.children[e].getComponent(cc.Sprite).spriteFrame=this.btnSpirte[0],this.BtnContent.children[e].getChildByName("type").color=cc.color().fromHEX("#FFED97"),this.BtnContent.children[e].getChildByName("type").getComponent(cc.LabelOutline).enabled=!0):(this.BtnContent.children[e].getComponent(cc.Sprite).spriteFrame=this.btnSpirte[1],this.BtnContent.children[e].getChildByName("type").color=cc.color().fromHEX("#7A7777"),this.BtnContent.children[e].getChildByName("type").getComponent(cc.LabelOutline).enabled=!1);for(e=0;e<this.PackContent.childrenCount;e++)this.PackContent.children[e].getComponent(l.default).ShowType(t)},e.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis(),p.default.Instance.ShowInter()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([h(cc.SpriteFrame)],e.prototype,"btnSpirte",void 0),r([h(cc.Node)],e.prototype,"BtnContent",void 0),r([h(cc.Node)],e.prototype,"PackContent",void 0),r([f],e)}(u.default);n.default=y,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../record/GameSys":"GameSys","./PackItem":"PackItem","./UIBase":"UIBase","./UIManager":"UIManager"}],PanelConst:[function(t,e,n){"use strict";cc._RF.push(e,"1e738YSjzJBnYscJdXiyXd+","PanelConst");var a=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,r=o.ccclass,i=(o.property,function(){function t(){}return t.LOADING_PANEL="LoadingPanel",t.REALM_PANEL="RealmPanel",t.ARTIFACTS="ArtifactsPanel",t.PET_PANEL="PetPanel",t.ALCHEMY_PANEL="AlchemyPanel",t.PACK_PANEL="PackPanel",t.INTENSIFY_PANEL="IntensifyPanel",t.DisciplePanel="DisciplePanel",t.TASK_PANEL="TaskPanel",t.DETAILS_PANEL="DetailsPanel",t.MESSAGE_PANEL="MessagePanel",t.NEWRESULT_PANEL="NewresultPanel",t.ChallengeLose="ChallengeLose",t.DisasterPanel="DisasterPanel",t.Sect="Sect",t.UnlockSys="UnlockSys",t.UnlockDisciple="UnlockDisciple",t.TrialsPanel="TrialsPanel",t.GardenPanel="GardenPanel",t.RewardPanel="RewardPanel",t.BuidleUpPanel="BuidleUpPanel",t.EquipPanel="EquipPanel",t.ReincarnPanel="ReincarnPanel",t.RoamPanel="RoamPanel",t.MapsPanel="MapsPanel",t.OffLinePanel="OffLinePanel",t.RealmAddPanel="RealmAddPanel",t.ShowNewEquip="ShowNewEquip",t.IllusionPanel="IllusionPanel",t.GiveUpPanel="GiveUpPanel",t.RoamChallenge="RoamChallenge",t.RoamReward="RoamReward",t.RoamNewLine="RoamNewLine",t.UnlockNewArtifacts="UnlockNewArtifacts",t.ReincarnSp="ReincarnSp",t.OptionsPanel="OptionsPanel",t.EquipMessage="EquipMessage",t.TalkPanel="TalkPanel",t.TeachPanel="TeachPanel",t.CartoonPanel="CartoonPanel",t.StartGame="StartGame",t.FreeCoin="FreeCoin",t.FreeJewel="FreeJewel",t.ShareRecorder="ShareRecorder",t.UnlockPet="UnlockPet",t.DevilPanel="DevilPanel",t.DoublePanel="DoublePanel",t.SignPanel="SignPanel",t.OnlinePanel="OnlinePanel",t.ForewordPanel="ForewordPanel",t.Soaring="Soaring",t.SkillPanel="SkillPanel",t.StoryPanel="StoryPanel",t.FreeBox="FreeBox",t.PutOnEquip="PutOnEquip",t.QuickFight="QuickFight",t.ActivityPanel="ActivityPanel",t.addToFavorites="addToFavorites",t.addMy="addMy",t.addColorSign="addColorSign",t.saveAppToDesktop="saveAppToDesktop",t.subScribeMsg="subScribeMsg",t.QualityUp="QualityUp",t.SkipUp="SkipUp",t.Foreword="Foreword",t.RefBox="RefBox",t.LevelUpPanel="LevelUpPanel",t.MagicPanel="MagicPanel",t.FightPanel="FightPanel",t.UserDrugPanel="UserDrugPanel",t.AchievementPanel="AchievementPanel",t.CallerPanel="CallerPanel",t.TalkOptionPanel="TalkOptionPanel",t.OpenBoxPanel="OpenBoxPanel",t.MagicUpPanel="MagicUpPanel",t.GardenMessagePanel="GardenMessagePanel",t.PropMessage="PropMessage",t.NoviceGiftPanel="NoviceGiftPanel",t.RecordPanel="RecordPanel",t.CrystalGiftPanel="CrystalGiftPanel",t.HerbGiftPanel="HerbGiftPanel",t.MagicGiftPanel="MagicGiftPanel",t.MagicUpGiftPanel="MagicUpGiftPanel",a([r],t)}());n.default=i,cc._RF.pop()},{}],PathArea_45Angle:[function(t,e,n){"use strict";cc._RF.push(e,"462d0fE4NlDKpAzq3/DHInV","PathArea_45Angle");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../Tools/GameTools"),s=t("./PathFind"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapData=new Array,e.pointSize=new cc.Size(30,15),e.curTileMap=null,e.curCamera=null,e}return o(e,t),e.prototype.onLoad=function(){this.curTileMap=this.node.getComponentInChildren(cc.TiledMap),this.InitArea(),this.pointBord=Math.sqrt(5)*this.pointSize.height/2},e.prototype.InitArea=function(){var t=this.curTileMap.getLayer("path"),e=this.curTileMap.getMapSize();this.mapData=i.default.GetTwoArray(e.height,e.width,0);for(var n=0;n<e.height;n++)for(var a=0;a<e.width;a++)this.IsPathAtPoint(t,a,n)&&(this.mapData[n][a]=1);console.log("mapData:",this.mapData),this.curTileMap.node.active=!1},e.prototype.IsPathAtPoint=function(t,e,n){var a=!1;try{this.curTileMap.getPropertiesForGID(t.getTileGIDAt(e,n)).path_bool&&(a=!0)}catch(o){}return a},e.prototype.GetPathPointByNode=function(t){var e=i.default.ConvertTargetToCurLocal(t,this.node);return this.GetPathPointByLocalPos(e)},e.prototype.GetIsObstacleByPosNode=function(t,e){var n=i.default.ConvertTargetPointToCoor(t,e,this.node),a=this.GetPathPointByLocalPos(n);return a.y>=this.mapData.length||a.x>=this.mapData[0].length?(console.log("\u8be5\u70b9\u4e0d\u5728\u5730\u56fe\u4e0a\uff01\uff01\uff01\uff01\uff1a",t,e),!0):0==this.mapData[a.y][a.x]},e.prototype.GetPathPointByLocalPos=function(t){var e=this.pointSize.height/this.pointSize.width,n=t.x,a=t.y,o=new cc.Vec2((e*n-a)/(2*e),(a-e*n)/2);if(o.y>0)return cc.v2(99999,99999);var r=Math.pow(o.x,2),i=Math.pow(o.y,2),s=Math.sqrt(r+i),c=new cc.Vec2((e*n+a)/(2*e),(e*n+a)/2);if(c.y>0)return cc.v2(99999,99999);var l=Math.pow(c.x,2),u=Math.pow(c.y,2),p=Math.sqrt(l+u),d=s/this.pointBord;d=d==this.mapData[0].length?d-1:Math.floor(d);var f=p/this.pointBord;return(f=f==this.mapData.length?f-1:Math.floor(f))>=this.mapData.length||d>=this.mapData[0].length?cc.v2(99999,99999):new cc.Vec2(d,f)},e.prototype.GetPathPointByStartEndNode=function(t,e,n){void 0===n&&(n=null);var a=this.GetPathPointByNode(t),o=this.GetPathPointByNode(e),r=new Array,c=s.default.search(this.mapData,a,o);if(n=null==n?t.parent:n,c)for(var l=c.length,u=1;u<l-1;u++){var p=c[u],d=this.GetLocalPosByIndex(p.y,p.x),f=this.node.convertToWorldSpaceAR(d),h=n.convertToNodeSpaceAR(f);r.push(h)}else console.log("\u5bfb\u8def\u6ca1\u6709\u627e\u5230\u8def\u5f84 \u53ef\u80fd\u6ca1\u6709\u53ef\u8d70\u7684\u8def\u5f84 \u6709\u53ef\u80fd\u662f\u8d77\u70b9\u7ec8\u70b9\u4f4d\u7f6e\u4e00\u6837\u4e86 \u6216\u8005\u4f4d\u7f6e\u4e0d\u5728\u5730\u56fe\u4e0a \u8fd9\u91cc\u903b\u8f91\u662f\u4f1a\u76f4\u63a5\u8d70\u5411\u76ee\u6807\u70b9"),console.log("startPos : ",a),console.log("endPos : ",o);var y=i.default.ConvertTargetToCurLocal(e,n);return r.push(y),r},e.prototype.GetPathPointByStartTilPos=function(t,e,n){void 0===n&&(n=null);var a=this.GetPathPointByNode(t),o=new Array,r=s.default.search(this.mapData,a,e);if(n=null==n?t.parent:n,r)for(var c=r.length,l=1;l<c-1;l++){var u=r[l],p=this.GetLocalPosByIndex(u.y,u.x),d=this.node.convertToWorldSpaceAR(p),f=n.convertToNodeSpaceAR(d);o.push(f)}else console.log("\u5bfb\u8def\u6ca1\u6709\u627e\u5230\u8def\u5f84 \u53ef\u80fd\u6ca1\u6709\u53ef\u8d70\u7684\u8def\u5f84 \u6709\u53ef\u80fd\u662f\u8d77\u70b9\u7ec8\u70b9\u4f4d\u7f6e\u4e00\u6837\u4e86 \u6216\u8005\u4f4d\u7f6e\u4e0d\u5728\u5730\u56fe\u4e0a \u8fd9\u91cc\u903b\u8f91\u662f\u4f1a\u76f4\u63a5\u8d70\u5411\u76ee\u6807\u70b9"),console.log("startPos : ",a),console.log("endPos : ",e);var h=this.GetLocalPosByIndex(e.y,e.x),y=i.default.ConvertTargetPointToCoor(h,this.node,n);return o.push(y),o},e.prototype.GetRandomPath=function(t,e){void 0===e&&(e=null);for(var n=this.mapData.length,a=this.mapData[0].length,o=new Array,r=0;r<n;r++)for(var s=0;s<a;s++)0!=this.mapData[r][s]&&o.push({x:r,y:s});var c=o.length;if(c>0){var l=o[Math.floor(Math.random()*c)];return this.GetPathPointByStartTilPos(t,cc.v2(l.y,l.x),e)}return new Array(i.default.ConvertTargetToCurLocal(t,e))},e.prototype.GetPathPointByStartNodeEndScreen=function(t,e,n){void 0===n&&(n=null);var a=this.GetPathPointByNode(t),o=i.default.ConvertScreenPosToCoor(e,this.node,this.curCamera),r=this.GetPathPointByLocalPos(o),c=new Array,l=s.default.search(this.mapData,a,r);if(n=null==n?t.parent:n,l){for(var u=l.length,p=1;p<u-1;p++){var d=l[p],f=this.GetLocalPosByIndex(d.y,d.x),h=this.node.convertToWorldSpaceAR(f),y=n.convertToNodeSpaceAR(h);c.push(y)}var g=i.default.ConvertTargetPointToCoor(o,this.node,n);c.push(g)}else console.log("\u5bfb\u8def\u6ca1\u6709\u627e\u5230\u8def\u5f84 \u53ef\u80fd\u6ca1\u6709\u53ef\u8d70\u7684\u8def\u5f84 \u6216\u8005\u8d77\u70b9\u7ec8\u70b9\u4f4d\u7f6e\u4e00\u6837\u4e86 \u6216\u8005\u4f4d\u7f6e\u4e0d\u5728\u5730\u56fe\u4e0a \u8fd9\u91cc\u903b\u8f91\u662f\u5728\u539f\u5730"),console.log("startPos : ",a),console.log("endPos : ",r),c.push(i.default.ConvertTargetToCurLocal(t,n));return c},e.prototype.GetLocalPosByIndex=function(t,e){var n=(e-t)*this.pointSize.width/2,a=-(t+e+1)*this.pointSize.height/2;return cc.v2(n,a)},r([u({type:cc.Camera,displayName:"\u76f8\u673a"})],e.prototype,"curCamera",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Tools/GameTools":"GameTools","./PathFind":"PathFind"}],PathFind:[function(t,e,n){"use strict";cc._RF.push(e,"0455eRFb11DU53dzeDNyydO","PathFind"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){this.x=0,this.y=0,this.G=0,this.H=0,this.x=t,this.y=e}return Object.defineProperty(t.prototype,"F",{get:function(){return this.G+this.H},enumerable:!1,configurable:!0}),t}(),o=function(){function t(){}return t.search=function(t,e,n){return this.search0(t,new a(e.x,e.y),new a(n.x,n.y))},t.search0=function(e,n,o){var r=0,i=[],s=[],c=[[0,-1],[1,0],[0,1],[-1,0],[-1,1],[1,1],[1,-1],[-1,-1]];i.push(n);for(var l=e.length,u=e[0].length;i.length>0&&!(++r>1e4);){var p=this.findLowerFPointIndex(i),d=i[p];i.splice(p,1),s.push(d);for(var f=function(n){var r=c[n],p=d.x+r[0],f=d.y+r[1];if(p<0||p>=u||f<0||f>=l)return"continue";if(0==e[f][p])return"continue";if(s.some(function(t){return p==t.x&&f==t.y}))return"continue";var h=-1;if(i.some(function(t,e){return p==t.x&&f==t.y&&(h=e,!0)})){var y;(y=1==Math.abs(r[0])&&1==Math.abs(r[1])?d.G+1.41*e[f][p]:d.G+e[f][p])<i[h].G&&(i[h].G=y,i[h].parent=d)}else{var g=new a(p,f);if(g.parent=d,1==Math.abs(r[0])&&1==Math.abs(r[1])?g.G=d.G+1.41*e[f][p]:g.G=d.G+e[f][p],g.H=Math.abs(p-o.x)+Math.abs(f-o.y),i.push(g),p==o.x&&f==o.y)return{value:t.findPath(g)}}},h=0;h<c.length;h++){var y=f(h);if("object"==typeof y)return y.value}}},t.findLowerFPointIndex=function(t){for(var e=0,n=0,a=0;a<t.length;a++){var o=t[a];(o.F<e||0==e)&&(e=o.F,n=a)}return n},t.findPath=function(t){var e=[];do{e.push(cc.v2(t.x,t.y)),t=t.parent}while(null!=t);return e.reverse()},t.test=function(){var e=new cc.Vec2(1,1),n=new cc.Vec2(1,23),a=t.search([[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,0,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,0],[0,9,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,1,1,9,9,0],[0,9,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,1,1,1,1,1,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,0,0,0,0,0,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,9,9,9,9,0,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,9,9,9,9,0,9,9,9,9,9,9,9,9,1,9,9,9,9,9,9,9,0],[0,9,0,9,0,9,9,0,9,9,9,9,9,9,1,1,1,9,9,9,9,9,9,9,0],[0,9,9,9,0,9,9,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,9,9,9,0,0,0,0,9,9,0,0,0,0,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[0,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,9,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],e,n);a&&console.log("path !!!!:",a)},t}();n.default=o,cc._RF.pop()},{}],PersistCure:[function(t,e,n){"use strict";cc._RF.push(e,"64c2cV4XaJBsbwGIc8+v0Km","PersistCure");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=0,e.time=0,e.master=null,e.cure=0,e}return o(e,t),e.prototype.init=function(t,e){this.master=t,this.count=0,this.time=1,this.cure=e},e.prototype.start=function(){},e.prototype.Cure=function(){this.count++,this.master.Cure(this.master.role.maxhp*this.cure*.25),this.count>=4&&i.default.PersistCure.restor(this.node)},e.prototype.update=function(t){s.default.instance.state!=s.FightState.ready?this.time>0&&this.count<4&&(this.time-=t*i.default.speed,this.time<=0&&(this.Cure(),this.time=1)):i.default.PersistCure.restor(this.node)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],PetDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"d9008jS5NBApJ84YxHTpHvK","PetDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/TeamerData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./ArtifactsDataManager"),d=t("./GuideDataManager"),f=t("./MagicDataManager"),h=t("./SingleBase"),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","pet",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","pet")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=0,r.level=o.level,r.hp=o.hp,r.interval=o.speed,r.atkSpeed=r.interval/60,r.hit=o.hit,r.crit=o.cri,r.dodge=o.avoid,r.atk=o.atk,r.maxmp=100,r.maxhp=o.hp,r.needexp=o.upgradeNeed,r.name=o.name,r.realm=o.rank,r.initiative_info=o.skillInfo,r.initiative=o.skillValue,r.initiative_cd=o.skill1CD,r.passivity_info=o.passivityInfo,r.passivity=o.passivityValue,r.initiative_rel=o.castTime,r.coinUp=o.coinUp,this.allDataList.push(r);return[2]}})})},e.prototype.GetFightNum=function(t){if(void 0===t&&(t=l.default.getPetIndex()),d.default.Instance.isUnlcok(12)){var e=this.GetRole(t);return.1*e.hp+e.interval*e.atk/60*.6}return 0},e.prototype.GetBasicRole=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].level==t)return this.allDataList[e]},e.prototype.GetRole=function(t){void 0===t&&(t=l.default.getPetIndex());var e=20*t+l.default.getPetLevel()[t],n=this.GetBasicRole(e),a={id:n.id,level:n.level,realm:n.realm,hp:n.hp,atk:n.atk,interval:n.interval,atkSpeed:n.atkSpeed,hit:n.hit,dodge:n.dodge,crit:n.crit,maxhp:n.maxhp,maxmp:n.maxmp,name:n.name,injured_anger:n.injured_anger,Shot_anger:n.Shot_anger,type:n.type,needexp:n.needexp,initiative_info:n.initiative_info,initiative:n.initiative,initiative_cd:n.initiative_cd,passivity_info:n.passivity_info,passivity:n.passivity,spine:n.spine,head:n.head,initiative_rel:n.initiative_rel,time_anger:n.time_anger,coinUp:n.coinUp},o=this.GetAddAtk();a.atk*=o;var r=this.GetAddHp();a.hp*=r,a.maxhp=a.hp;var i=this.GetAddCrit();a.crit+=i;var s=this.GetAddHit();a.hit+=s;var c=this.GetAddDodge();return a.dodge+=c,a},e.prototype.GetNextRole=function(t){void 0===t&&(t=l.default.getPetIndex());var e=20*t+(l.default.getPetLevel()[t]>=20?20:l.default.getPetLevel()[t]+1),n=this.GetBasicRole(e),a={id:n.id,level:n.level,realm:n.realm,hp:n.hp,atk:n.atk,interval:n.interval,atkSpeed:n.atkSpeed,hit:n.hit,dodge:n.dodge,crit:n.crit,maxhp:n.maxhp,maxmp:n.maxmp,name:n.name,injured_anger:n.injured_anger,Shot_anger:n.Shot_anger,type:n.type,needexp:n.needexp,initiative_info:n.initiative_info,initiative:n.initiative,initiative_cd:n.initiative_cd,passivity_info:n.passivity_info,passivity:n.passivity,spine:n.spine,head:n.head,initiative_rel:n.initiative_rel,time_anger:n.time_anger,coinUp:n.coinUp},o=this.GetAddAtk();a.atk*=o;var r=this.GetAddHp();a.hp*=r,a.maxhp=a.hp;var i=this.GetAddCrit();a.crit+=i;var s=this.GetAddHit();a.hit+=s;var c=this.GetAddDodge();return a.dodge+=c,a},e.prototype.getAddOutPut=function(){if(d.default.Instance.isUnlcok(12)){var t=this.CanMaxIndex();return this.GetRole(t).coinUp}return 0},e.prototype.GetMaxExp=function(t){void 0===t&&(t=l.default.getPetIndex());for(var e=20*t+20,n=0,a=20*t;a<e;a++)n+=this.allDataList[a].needexp;return n},e.prototype.IsUnlockSkill=function(){return!0},e.prototype.GetUpExp=function(t){return void 0===t&&(t=l.default.getPetIndex()),this.GetRole(t).needexp},e.prototype.GetLevelUpExp=function(t,e){var n=20*t+e;return this.GetBasicRole(n).needexp},e.prototype.GetAddAtk=function(){return p.default.Instance.GetAddAtk()+f.default.Instance.getAddAtk()},e.prototype.GetAddHp=function(){return p.default.Instance.GetAddHp()+f.default.Instance.getAddAtk()},e.prototype.GetAddCrit=function(){return p.default.Instance.GetAddCrit()},e.prototype.GetAddHit=function(){return p.default.Instance.GetAddHit()},e.prototype.GetAddDodge=function(){return p.default.Instance.GetAddDodge()},e.prototype.GetPetid=function(){var t=0;if(d.default.Instance.isUnlcok(12)){var e=l.default.getPetIndex();e=Math.ceil(l.default.getPetLevel()[e]/20)}else t=-1;return t},e.prototype.GetLevel=function(t){void 0===t&&(t=l.default.getPetIndex());for(var e=l.default.getPetExp()[t],n=20*t,a=n;a<this.allDataList.length;a++){for(var o=0,r=n;r<=a;r++)o+=this.allDataList[r].needexp;if(e<o)return this.allDataList[a].level-n;if(a>=this.allDataList.length-1)return 20}},e.prototype.ExpToLevel=function(t,e){for(var n=20*t,a=n;a<this.allDataList.length;a++){for(var o=0,r=n;r<=a;r++)o+=this.allDataList[r].needexp;if(e<=o)return this.allDataList[a].level;if(a>=this.allDataList.length-1)return 20}},e.prototype.getLevelToExp=function(t,e){for(var n=1,a=20*t;a<20*t+20;a++){var o=this.allDataList[a].needexp;e>=o&&(e-=o,n++)}return{level:n,exp:e}},e.prototype.ShowExp=function(t,e,n){for(var a=n||20*t+l.default.getPetLevel()[t],o=20*t;o<a-1;o++)e-=this.allDataList[o].needexp;return e},e.prototype.GetName=function(t){return["Nine-tailed fox","Azure Linghe","water moon deer","Red flame unicorn","Thunder pattern beast","Xuanwu","Pure Yang Holy Brahma","Desolate Heavenly Tiger","Crystal Winged Beast","Taiqing Shenglong"][t]},e.prototype.CanMaxIndex=function(){for(var t=0,e=0;e<l.default.getPetLevel().length;e++)l.default.getPetLevel()[e]>=20&&t++;return t>=9&&(t=9),t},n=r([g],e)}(h.default));n.default=v,cc._RF.pop()},{"../Data/TeamerData":"TeamerData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./ArtifactsDataManager":"ArtifactsDataManager","./GuideDataManager":"GuideDataManager","./MagicDataManager":"MagicDataManager","./SingleBase":"SingleBase"}],PetPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bb5577q9g9BN5YhdfupZJ9D","PetPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../i18n/i18nMgr"),u=t("../Manager/GuideDataManager"),p=t("../Manager/HerbDataManager"),d=t("../Manager/HeroDataManager"),f=t("../Manager/PetDataManager"),h=t("../Manager/PropDataManager"),y=t("../Manager/SoundManager"),g=t("../record/GameSys"),v=t("../Tools/GameTools"),m=t("./PanelConst"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LvUpDi=null,e.AddOutPut=null,e.Mask=null,e.Sp=null,e.starContent=null,e.star=[],e.rightRed=null,e.Name=null,e.FightNum=null,e.Icon=null,e.Content=null,e.Level=null,e.expPro=null,e.expNum=null,e.drugContent=null,e.onBtn=null,e.edBtn=null,e.leftBtn=null,e.rightBtn=null,e.goGardenRed=null,e.drugRed=null,e.obj={exp:0},e.maxadd=0,e.maxexp=0,e.level=0,e.index=0,e.eat=!1,e.do=!1,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init(),this.initPet();var e=f.default.Instance.CanMaxIndex(),n=g.default.getPetLevel()[e]+20*e;v.default.getSdk().sendEvent("petLevel",{message:"\u7075\u5ba0\u7b49\u7ea7",level:n})},e.prototype.init=function(){this.index=g.default.getPetIndex();var t=g.default.getPetExp()[this.index];this.obj.exp=f.default.Instance.ShowExp(this.index,t),this.level=g.default.getPetLevel()[this.index],this.maxexp=f.default.Instance.GetLevelUpExp(this.index,this.level)},e.prototype.start=function(){},e.prototype.initPet=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c,u,p,d,y,m,b,_,S,C;return s(this,function(s){switch(s.label){case 0:return t=f.default.Instance.GetRole(this.index),f.default.Instance.GetNextRole(this.index),e=f.default.Instance.GetFightNum(this.index),this.FightNum.string=v.default.refSetCoin(e),this.Name.string=f.default.Instance.GetName(this.index),n="Spines/Pet/pet"+(this.index+1)+"/pet_"+(this.index+1),(a=v.default.GetRes("Bundle",n,sp.SkeletonData))?[3,2]:[4,v.default.LoadSpinData("Bundle",n)];case 1:a=s.sent(),s.label=2;case 2:this.Icon.skeletonData=a,this.Icon.setAnimation(0,"idle",!0),o=f.default.Instance.GetMaxExp(this.index),this.Level.string=20==g.default.getPetLevel()[this.index]&&g.default.getPetExp()[this.index]>=o?l.i18nMgr.getLabel("title129"):"Lv."+g.default.getPetLevel()[this.index],20==g.default.getPetLevel()[this.index]&&g.default.getPetExp()[this.index]>=o?(r=f.default.Instance.GetLevelUpExp(this.index,20),this.obj.exp=r):(i=g.default.getPetExp()[this.index],this.obj.exp=f.default.Instance.ShowExp(this.index,i),this.maxexp=f.default.Instance.GetLevelUpExp(this.index,this.level)),S=0,s.label=3;case 3:return S<this.drugContent.childrenCount?(c=h.default.Instance.GetHerbProp(S+1),u=h.default.Instance.GetPackProp(c.id).have,this.drugContent.children[S].getChildByName("num").getComponent(cc.Label).string="\xd7"+v.default.refSetCoin(u),this.drugContent.children[S].getChildByName("name").getComponent(cc.Label).string=""+c.name,p="PropFrame/"+c.rank,(d=v.default.GetRes("Bundle",p,cc.SpriteFrame))?[3,5]:[4,v.default.loadImage("Bundle",p)]):[3,9];case 4:d=s.sent(),s.label=5;case 5:return this.drugContent.children[S].getComponent(cc.Sprite).spriteFrame=d,y="PropIcon/"+c.icon,(m=v.default.GetRes("Bundle",y,cc.SpriteFrame))?[3,7]:[4,v.default.loadImage("Bundle",y)];case 6:m=s.sent(),s.label=7;case 7:this.drugContent.children[S].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=m,b=["","title282","title283","title284","title285","title286","title287","title288"],this.drugContent.children[S].getChildByName("rank").getComponent(cc.Label).string=l.i18nMgr.getLabel(b[c.rank]),s.label=8;case 8:return S++,[3,3];case 9:for(_=f.default.Instance.CanMaxIndex(),this.index<_?this.rightBtn.active=!0:this.index>=_&&(this.rightBtn.active=!1),this.onBtn.active=this.index!=g.default.getPetIndex(),this.edBtn.active=this.index==g.default.getPetIndex(),this.index>0?this.leftBtn.active=!0:this.leftBtn.active=!1,S=0;S<this.starContent.childrenCount;S++)C=g.default.getPetLevel()[this.index],this.starContent.children[S].getComponent(cc.Sprite).spriteFrame=2*S+2<=C?this.star[0]:2*S+2-C==1?this.star[1]:this.star[2];return this.AddOutPut.string=l.i18nMgr.getLabel("title320")+Math.floor(100*t.coinUp)+"%",[2]}})})},e.prototype.ClickUp=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,u,y,v,_,C,w,M,P,k,I,T,G,O=this;return s(this,function(A){switch(A.label){case 0:return t=f.default.Instance.GetLevelUpExp(this.index,20),g.default.getPetLevel()[this.index]>=20&&this.obj.exp>=t?(b.default.instance.setText(-1,l.i18nMgr.getLabel("title215")),[2]):[3,1];case 1:return this.do?[2]:(this.do=!0,e=g.default.getPetLevel()[this.index],n=h.default.Instance.getAllHeab(),[4,d.default.Instance.GetMaxFight()]);case 2:if(a=A.sent(),n.length<=0)this.do=!1,b.default.instance.setText(-1,l.i18nMgr.getLabel("title223"));else{for(o=n.slice(),r=o.length,u=0;u<r;u++)for(y=o[u].have,v=0;v<y;v++){if(_=p.default.Instance.getHerbfromId(o[u].prop.index),C=g.default.getPetExp()[this.index],w=f.default.Instance.GetMaxExp(this.index),C+_.exp>=w){g.default.setPetLevel(this.index,20),g.default.setPetExp(this.index,w,!0),h.default.Instance.subPackProp(o[u].prop.id,v+1);break}C+=_.exp,g.default.setPetExp(this.index,C,!0),v>=y-1&&(M=f.default.Instance.getLevelToExp(this.index,g.default.getPetExp()[this.index]),g.default.setPetLevel(this.index,M.level),h.default.Instance.subPackProp(o[u].prop.id,y))}P=f.default.Instance.getLevelToExp(this.index,g.default.getPetExp()[this.index]),k=P.level-e,I=0,T=0,(G=function(){return i(O,void 0,void 0,function(){var t=this;return s(this,function(){return 0!=I&&(this.obj.exp=0),I<k?(this.maxexp=f.default.Instance.GetLevelUpExp(this.index,e+I),T=this.maxexp):(this.maxexp=f.default.Instance.GetLevelUpExp(this.index,e+I),T=P.exp),this.Level.string="Lv."+(e+I),cc.tween(this.obj).to(.5,{exp:T}).call(function(){if(I<k)if(t.Sp.setAnimation(0,"lvup3",!1),t.LvUpDi.setAnimation(0,"lvupdi",!1),e+ ++I>=20&&t.obj.exp>=t.maxexp){g.default.setPetLevel(t.index,20);var n=f.default.Instance.CanMaxIndex();n>t.index&&(g.default.setPetLevel(n,1),g.default.setPetIndex(n),t.index=n,t.init(),t.initPet(),c.default.instance.initPet(),S.default.Instance.ShowUI(m.default.UnlockPet)),S.default.Instance.MaxFightChange(a),t.do=!1}else{for(var o=0;o<t.starContent.childrenCount;o++){var r=e+I;t.starContent.children[o].getComponent(cc.Sprite).spriteFrame=2*o+2<=r?t.star[0]:2*o+2-r==1?t.star[1]:t.star[2]}G()}else t.Sp.setAnimation(0,"lvup3",!1),t.LvUpDi.setAnimation(0,"lvupdi",!1),S.default.Instance.MaxFightChange(a),t.do=!1,t.init(),t.initPet()}).start(),[2]})})})()}A.label=3;case 3:return[2]}})})},e.prototype.ClickDo=function(){b.default.instance.setText(-1,l.i18nMgr.getLabel("title224"))},e.prototype.ClickHerb=function(t,e){return i(this,void 0,void 0,function(){var t,n,a,o,r,u,y,v,_,C,w,M,P=this;return s(this,function(k){switch(k.label){case 0:return t=f.default.Instance.GetLevelUpExp(this.index,20),g.default.getPetLevel()[this.index]>=20&&this.obj.exp>=t?(b.default.instance.setText(-1,l.i18nMgr.getLabel("title215")),[2]):[3,1];case 1:return this.do?[2]:(this.do=!0,n=parseInt(e),a=h.default.Instance.GetHerbProp(n+1),h.default.Instance.GetPropNum(a.id).have>0?(h.default.Instance.subPackProp(a.id,1),o=p.default.Instance.getHerbfromId(a.index),(r=this.obj.exp+o.exp)<=this.maxexp?(cc.tween(this.obj).to(.5,{exp:r}).call(function(){P.do=!1}).start(),[3,4]):[3,2]):[3,5]);case 2:return u=g.default.getPetLevel()[this.index],y=f.default.Instance.GetMaxExp(this.index),r>=y&&(r=y-g.default.getPetExp()[this.index]),[4,d.default.Instance.GetMaxFight()];case 3:v=k.sent(),g.default.setPetExp(this.index,r),_=f.default.Instance.getLevelToExp(this.index,g.default.getPetExp()[this.index]),g.default.setPetLevel(this.index,_.level),C=_.level-u,w=0,(M=function(){return i(P,void 0,void 0,function(){var t=this;return s(this,function(){return 0!=w&&(this.obj.exp=0),w<C?(this.maxexp=f.default.Instance.GetLevelUpExp(this.index,u+w),r=this.maxexp):(this.maxexp=f.default.Instance.GetLevelUpExp(this.index,u+w),r=_.exp),this.Level.string="Lv."+(u+w),cc.tween(this.obj).call(function(){return i(t,void 0,void 0,function(){return s(this,function(){return console.log("max:",r),[2]})})}).to(.5,{exp:r}).call(function(){if(w<C)if(t.Sp.setAnimation(0,"lvup3",!1),u+ ++w>=20&&t.obj.exp>=t.maxexp){g.default.setPetLevel(t.index,20),g.default.setPetExp(t.index,y,!0);var e=f.default.Instance.CanMaxIndex();e>t.index&&(g.default.setPetLevel(e,1),g.default.setPetIndex(e),t.index=e,t.init(),t.initPet(),c.default.instance.initPet(),S.default.Instance.ShowUI(m.default.UnlockPet)),S.default.Instance.MaxFightChange(v),t.do=!1}else{for(var n=0;n<t.starContent.childrenCount;n++){var a=u+w;t.starContent.children[n].getComponent(cc.Sprite).spriteFrame=2*n+2<=a?t.star[0]:2*n+2-a==1?t.star[1]:t.star[2]}M()}else t.Sp.setAnimation(0,"lvup3",!1),t.LvUpDi.setAnimation(0,"lvupdi",!1),S.default.Instance.MaxFightChange(v),t.do=!1,t.init(),t.initPet()}).start(),[2]})})})(),k.label=4;case 4:return[3,6];case 5:b.default.instance.setText(-1,l.i18nMgr.getLabel("title223")),this.do=!1,k.label=6;case 6:return[2]}})})},e.prototype.ClickRight=function(){y.default.instance.play(y.Sound.Click);var t=f.default.Instance.CanMaxIndex();this.index++,this.index>=t&&(this.index=t),this.rightRed.active=!1,this.maxadd=0,this.level=g.default.getPetLevel()[this.index],this.maxexp=f.default.Instance.GetUpExp(this.index),this.initPet()},e.prototype.ClickLeft=function(){y.default.instance.play(y.Sound.Click),this.index--,this.index<=0&&(this.index=0),this.level=g.default.getPetLevel()[this.index],this.maxexp=f.default.Instance.GetUpExp(this.index),this.initPet()},e.prototype.ClickShowIllusion=function(){y.default.instance.play(y.Sound.Click),g.default.setPetIndex(this.index),this.initPet(),b.default.instance.setText(-1,l.i18nMgr.getLabel("title225"))},e.prototype.ClickGoGarden=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return y.default.instance.play(y.Sound.Click),u.default.Instance.isUnlcok(13)?[3,1]:(b.default.instance.setText(-1,u.default.Instance.CanUnlock(13)),[3,3]);case 1:return this.CloseThis(),[4,S.default.Instance.ShowUI(m.default.GardenPanel)];case 2:t.sent(),g.default.isPetToGarden=!0,t.label=3;case 3:return[2]}})})},e.prototype.ClickOff=function(){y.default.instance.play(y.Sound.Click),this.CloseThis(),S.default.Instance.ShowInter()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.ShowGardenRed=function(){for(var t=!1,e=g.default.getGarden(),n=0;n<e.length;n++)(e[n].unlock&&0==e[n].state||2==e[n].state)&&(t=!0);u.default.Instance.isUnlcok(13)||(t=!1),this.goGardenRed.active=t},e.prototype.ShowHerbRed=function(){var t=!1;h.default.Instance.getHeab()&&(t=!0),this.drugRed.active=t},e.prototype.CreatorDanMadicine=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return(e=g.default.danMadicine.get()).setParent(this.Content),n=this.drugContent.children[t].getPosition(),a=this.drugContent.children[t].parent.convertToWorldSpaceAR(n),o=this.Content.convertToNodeSpaceAR(a),r="PropIcon/item_danMadicine"+(t+1),(i=v.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,2]:[4,v.default.loadImage("Bundle",r)];case 1:i=s.sent(),s.label=2;case 2:return e.getComponent(cc.Sprite).spriteFrame=i,e.setPosition(o),c=this.Icon.node.getPosition(),cc.tween(e).to(.5,{x:c.x,y:c.y},{easing:"quadInOut"}).start(),cc.tween(e).call(function(){e.opacity=255}).to(.5,{opacity:0}).start(),cc.tween(e).call(function(){e.scale=1}).to(.5,{scale:.8}).call(function(){g.default.danMadicine.restor(e)}).start(),[2,e]}})})},e.prototype.update=function(){this.expNum.string=l.i18nMgr.getLabel("title226")+v.default.refSetCoin(this.obj.exp)+"/"+v.default.refSetCoin(this.maxexp),this.expPro.fillRange=this.obj.exp/this.maxexp,this.Mask.active=this.do,this.ShowHerbRed(),this.ShowGardenRed()},r([M(sp.Skeleton)],e.prototype,"LvUpDi",void 0),r([M(cc.Label)],e.prototype,"AddOutPut",void 0),r([M(cc.Node)],e.prototype,"Mask",void 0),r([M(sp.Skeleton)],e.prototype,"Sp",void 0),r([M(cc.Node)],e.prototype,"starContent",void 0),r([M(cc.SpriteFrame)],e.prototype,"star",void 0),r([M(cc.Node)],e.prototype,"rightRed",void 0),r([M(cc.Label)],e.prototype,"Name",void 0),r([M(cc.Label)],e.prototype,"FightNum",void 0),r([M(sp.Skeleton)],e.prototype,"Icon",void 0),r([M(cc.Node)],e.prototype,"Content",void 0),r([M(cc.Label)],e.prototype,"Level",void 0),r([M(cc.Sprite)],e.prototype,"expPro",void 0),r([M(cc.Label)],e.prototype,"expNum",void 0),r([M(cc.Node)],e.prototype,"drugContent",void 0),r([M(cc.Node)],e.prototype,"onBtn",void 0),r([M(cc.Node)],e.prototype,"edBtn",void 0),r([M(cc.Node)],e.prototype,"leftBtn",void 0),r([M(cc.Node)],e.prototype,"rightBtn",void 0),r([M(cc.Node)],e.prototype,"goGardenRed",void 0),r([M(cc.Node)],e.prototype,"drugRed",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/GuideDataManager":"GuideDataManager","../Manager/HerbDataManager":"HerbDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/PetDataManager":"PetDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],PlatformConst:[function(t,e,n){"use strict";cc._RF.push(e,"c282fGEer9HOaX/tjQNxHe+","PlatformConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.HwConst=n.MzConst=n.OppoConst=n.VivoConst=n.QQConst=n.TTConst=n.WXConst=void 0;var a=function(){function t(){}return t.param_banner="adunit-a63afd84e850ff7f",t.param_rewardedVideo="adunit-10830c465170d02d",t.param_interstitial="adunit-0e6e9695934e3e23",t.param_grid="",t.param_customs=[],t.allTmplIds=[],t}();n.WXConst=a;var o=function(){function t(){}return t.param_banner="32mma0mmaj3g10ko60",t.param_rewardedVideo="12jgbd1efhd42j3k0c",t.param_interstitial="1d2x9t6pcu747k6m7t",t}();n.TTConst=o;var r=function(){function t(){}return t.param_banner="2ac00b86e2d1e29dd89a5bab3cf41e32",t.param_rewardedVideo="80b1403814e803006280962a1b736ab7",t.param_interstitial="2642e225604225454baff12a776f2ef0",t.param_appbox="",t.param_block="",t}();n.QQConst=r;var i=function(){function t(){}return t.param_banner="8bb34d14c8d840deb8ed5c6a99d12570",t.param_rewardedVideo="3cd69daf51804bb59a2f2d921605dc85",t.param_interstitial="d01441139b1e4e859efacf2f056b3600",t.nativeUnitIds=["fa7d948970724dc4b25171ed20e7f81e"],t}();n.VivoConst=i;var s=function(){function t(){}return t.param_banner="460736",t.param_rewardedVideo="460734",t.param_interstitial="",t.param_gamePortal="",t.param_gameBanner="",t.param_gameDrawer="",t.nativeUnitIds=["460744"],t}();n.OppoConst=s;var c=function(){function t(){}return t.param_banner="",t.param_rewardedVideo="",t.param_interstitial="",t}();n.MzConst=c;var l=function(){function t(){}return t.param_rewardedVideo="",t}();n.HwConst=l,cc._RF.pop()},{}],PlatformHelper:[function(t,e,n){"use strict";cc._RF.push(e,"7cc15CfWAZPr5kRetwt9eJN","PlatformHelper"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("./SdkManager"),o=function(){function t(){}return t.getSdk=function(){return null==this.sdkInstance&&(this.sdkInstance=new a.default),this.sdkInstance},t.sdkInstance=null,t}();n.default=o,cc._RF.pop()},{"./SdkManager":"SdkManager"}],PoolGroup:[function(t,e,n){"use strict";cc._RF.push(e,"76576VFpbNBQKk58oIexZH3","PoolGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../Tools/PoolManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.debuff=null,e.magicitem=null,e.hit=null,e.wzlxHit=null,e.SkillSp=null,e.SkillHC=null,e.SkillLJ=null,e.danMadicine=null,e.star=null,e.monster=null,e.fighttxt=null,e.buttet=null,e.Fireball=null,e.Thunder=null,e.Eddy=null,e.Star=null,e.Knife=null,e.CureMatrix=null,e.Wind=null,e.BaneMatrix=null,e.Moon=null,e.Flame=null,e.Flamepalm=null,e.PersistCure=null,e.Hothalo=null,e.CoinIcon=null,e.rewardItem=null,e.packitem=null,e.SectTxt=null,e.raiseditem=null,e.roamboxitem=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,i.default.fightTxt=new s.default(this.fighttxt,20),i.default.buttet=new s.default(this.buttet,30),i.default.Thunder=new s.default(this.Thunder,30),i.default.Eddy=new s.default(this.Eddy,30),i.default.hit=new s.default(this.hit,20),i.default.Star=new s.default(this.Star,30),i.default.star=new s.default(this.star,5),i.default.Knife=new s.default(this.Knife,30),i.default.CureMatrix=new s.default(this.CureMatrix,10),i.default.Wind=new s.default(this.Wind,10),i.default.BaneMatrix=new s.default(this.BaneMatrix,10),i.default.Moon=new s.default(this.Moon,10),i.default.Flame=new s.default(this.Flame,10),i.default.Flamepalm=new s.default(this.Flamepalm,10),i.default.PersistCure=new s.default(this.PersistCure,10),i.default.CoinIcon=new s.default(this.CoinIcon,10),i.default.rewardItem=new s.default(this.rewardItem,10),i.default.packitem=new s.default(this.packitem,50),i.default.SectTxt=new s.default(this.SectTxt,50),i.default.raiseditem=new s.default(this.raiseditem,30),i.default.roamboxitem=new s.default(this.roamboxitem,50),i.default.monster=new s.default(this.monster,50),i.default.Fireball=new s.default(this.Fireball,20),i.default.danMadicine=new s.default(this.danMadicine,20),i.default.Hothalo=new s.default(this.Hothalo,10),i.default.SkillLJ=new s.default(this.SkillLJ,5),i.default.SkillHC=new s.default(this.SkillHC,5),i.default.SkillSp=new s.default(this.SkillSp,10),i.default.wzlxHit=new s.default(this.wzlxHit,20),i.default.magicitem=new s.default(this.magicitem,40),i.default.debuff=new s.default(this.debuff,10)},e.prototype.start=function(){},e.instance=null,r([u(cc.Prefab)],e.prototype,"debuff",void 0),r([u(cc.Prefab)],e.prototype,"magicitem",void 0),r([u(cc.Prefab)],e.prototype,"hit",void 0),r([u(cc.Prefab)],e.prototype,"wzlxHit",void 0),r([u(cc.Prefab)],e.prototype,"SkillSp",void 0),r([u(cc.Prefab)],e.prototype,"SkillHC",void 0),r([u(cc.Prefab)],e.prototype,"SkillLJ",void 0),r([u(cc.Prefab)],e.prototype,"danMadicine",void 0),r([u(cc.Prefab)],e.prototype,"star",void 0),r([u(cc.Prefab)],e.prototype,"monster",void 0),r([u(cc.Prefab)],e.prototype,"fighttxt",void 0),r([u(cc.Prefab)],e.prototype,"buttet",void 0),r([u(cc.Prefab)],e.prototype,"Fireball",void 0),r([u(cc.Prefab)],e.prototype,"Thunder",void 0),r([u(cc.Prefab)],e.prototype,"Eddy",void 0),r([u(cc.Prefab)],e.prototype,"Star",void 0),r([u(cc.Prefab)],e.prototype,"Knife",void 0),r([u(cc.Prefab)],e.prototype,"CureMatrix",void 0),r([u(cc.Prefab)],e.prototype,"Wind",void 0),r([u(cc.Prefab)],e.prototype,"BaneMatrix",void 0),r([u(cc.Prefab)],e.prototype,"Moon",void 0),r([u(cc.Prefab)],e.prototype,"Flame",void 0),r([u(cc.Prefab)],e.prototype,"Flamepalm",void 0),r([u(cc.Prefab)],e.prototype,"PersistCure",void 0),r([u(cc.Prefab)],e.prototype,"Hothalo",void 0),r([u(cc.Prefab)],e.prototype,"CoinIcon",void 0),r([u(cc.Prefab)],e.prototype,"rewardItem",void 0),r([u(cc.Prefab)],e.prototype,"packitem",void 0),r([u(cc.Prefab)],e.prototype,"SectTxt",void 0),r([u(cc.Prefab)],e.prototype,"raiseditem",void 0),r([u(cc.Prefab)],e.prototype,"roamboxitem",void 0),n=r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Tools/PoolManager":"PoolManager","../record/GameSys":"GameSys"}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"199ef1t7qZPpL/dkNmUeB5L","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e,n){this.prefab=t,this.initCount=e,this.maxCount=n,this._used=[],this._maxCount=0,this._pool=new cc.NodePool;for(var a=0;a<this.initCount;++a){var o=cc.instantiate(this.prefab);this._pool.put(o)}n&&(this._maxCount=n)}return t.prototype.get=function(){var t=null;return this._pool.size()>0?t=this._pool.get():0==this._maxCount?t=cc.instantiate(this.prefab):this._used.length<this._maxCount&&(t=cc.instantiate(this.prefab)),null!=t&&this._used.push(t),t},t.prototype.restoreAll=function(){for(var t=0,e=this._used;t<e.length;t++){var n=e[t];this._pool.put(n)}this._used.length=0},t.prototype.restor=function(t){this._pool.put(t);var e=this._used.indexOf(t,0);e>=0&&this._used.splice(e,1)},t.prototype.getState=function(){return"poolsize: "+this._pool.size()+", used: "+this._used.length+", max: "+this._maxCount},t}();n.default=a,cc._RF.pop()},{}],PracticeGroup:[function(t,e,n){"use strict";cc._RF.push(e,"e0b9f51JtFHUrxjfQT0BWmk","PracticeGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/CrystalBoxAwardManager"),p=t("../Manager/CrystalBoxManager"),d=t("../Manager/GiftDataManager"),f=t("../Manager/GuideDataManager"),h=t("../Manager/HeartDevilDataManager"),y=t("../Manager/HeroDataManager"),g=t("../Manager/MagicDataManager"),v=t("../Manager/PropDataManager"),m=t("../Manager/SoundManager"),b=t("../record/GameSys"),_=t("../Tools/EventConst"),S=t("../Tools/GameTools"),C=t("../Tools/PoolManager"),w=t("../UI/LevelUpPanel"),M=t("../UI/OpenBoxPanel"),P=t("../UI/OutputCoin"),k=t("../UI/PanelConst"),I=t("../UI/TalkPanel"),T=t("../UI/TimeManager"),G=t("../UI/TipGroup"),O=t("../UI/UIManager"),A=t("../UI/UnlockSys"),R=cc._decorator,D=R.ccclass,x=R.property,B=function(t){function e(){var e=t.call(this)||this;return e.Gift=null,e.NoviceBtn=[],e.Recorder=null,e.RecorderSp=[],e.EatSp=null,e.GuideSp=null,e.coin=null,e.coinsp=null,e.RankBtn=null,e.ActivityBtn=null,e.UserDrugBtn=null,e.Box=null,e.DiscipleBtn=null,e.Splash=null,e.CrystalSp=null,e.devilSp=null,e.openBtn=null,e.closeBtn=null,e.ReincarnBtn=null,e.CrystalBoxLabel=null,e.CrystalBoxPro=null,e.CrystalBoxSp=null,e.CrystalBoxRed=null,e.CrystalBoxLight=null,e.role=null,e.fightnum=null,e.jiantou=null,e.ArtifactsBtn=null,e.PetBtn=null,e.guideSp=null,e.DevilSp=null,e.prefabs=[],e.Realm=null,e.OutPutAdd=null,e.OutPut=null,e.RealmSp=null,e.PaintSp=null,e.PetSp=null,e.ArtifactsSp=null,e.CoinProgress=null,e.OutputCoinpos=null,e.HpLabel=[],e.AtkLabel=[],e.FightLabel=null,e.SpeedLabel=[],e.DodegLabel=[],e.HitLabel=[],e.CritLabel=[],e.Break=null,e.Nextneed=null,e.isShowTalkTeacher=!1,e.teacherid=-1,e.gift=!1,e.crystalobj={number:0},e.isshowguide=!1,e.pro=0,e.pro2=0,e._time=3,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){return i(this,void 0,void 0,function(){var t=this;return s(this,function(){return n.instance=this,this.initPrefabs(),this.initBtn(),this.crystalobj.number=b.default.getCrystal(),cc.systemEvent.on(_.EventConst.Game_Up,this.initBtn,this),cc.systemEvent.on(_.EventConst.playCoinSp,function(){t.coin.active=!0,t.coin.opacity=255,cc.tween(t.coin).to(.3,{opacity:0}).start(),t.coinsp.setAnimation(0,"lvup",!1)},this),cc.systemEvent.on("initCrystalBox",this.initCrystalBoxSp,this),cc.systemEvent.on(_.EventConst.PlayEat,function(){t.EatSp.setAnimation(0,"lvup3",!1)},this),cc.systemEvent.on(_.EventConst.Recorder,this.initRecorder,this),[2]})})},e.prototype.onEnable=function(){this.initVisualize(),this.initArtifacts(),this.initPet(),this.initRealm(),this.initRole(),this.initBreak(),this.initNextNeed(),this.initReincarnCount(),this.initCrystalBox(),this.initRecorder()},e.prototype.initReincarnCount=function(){},e.prototype.initBtn=function(){this.DiscipleBtn.getChildByName("suo").active=!f.default.Instance.isUnlcok(22),this.PetBtn.getChildByName("suo").active=!f.default.Instance.isUnlcok(12),this.ArtifactsBtn.getChildByName("suo").active=!f.default.Instance.isUnlcok(15),this.ReincarnBtn.getChildByName("suo").active=!f.default.Instance.isUnlcok(20);var t=b.default.getNoviceGift();if(t>=3)for(var e=0;e<this.NoviceBtn.length;e++)this.NoviceBtn[e].active=!1;else for(e=0;e<this.NoviceBtn.length;e++)if(e==t){var n=d.default.Instance.GetNoviceGift(),a=b.default.getMaxLevel();a>=n.start&&a<=n.end?this.NoviceBtn[e].active=!0:a<n.start?this.NoviceBtn[e].active=!1:a>n.end&&b.default.setNoviceGift()}else this.NoviceBtn[e].active=!1;var o=b.default.getMaxLevel();this.Gift.active=o>=27},e.prototype.initPrefabs=function(){b.default.OutputCoin=new C.default(this.prefabs[0],10)},e.prototype.initVisualize=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return t=b.default.getSex(),e=b.default.getLevel(),n=Math.floor((e-1)/10),a=y.default.Instance.GetVisualizeArray(n),o="player"+t+"/play"+a+"/renwu"+a,(r=S.default.GetRes("Bundle",o,sp.SkeletonData))?[3,2]:[4,S.default.LoadSpinData("Bundle",o)];case 1:r=s.sent(),s.label=2;case 2:return this.PaintSp.skeletonData=r,i=1==a?"idle":"newAnimation",this.PaintSp.setAnimation(0,i,!0),[2]}})})},e.prototype.initArtifacts=function(){return i(this,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:return b.default.getMaxArtifacts()<=0?(this.ArtifactsSp.node.active=!1,[2]):(this.ArtifactsSp.node.active=!0,t=b.default.getNowArtifacts(),e="Spines/Artifacts/fabao"+t+"/fabao"+t,(n=S.default.GetRes("Bundle",e,sp.SkeletonData))?[3,2]:[4,S.default.LoadSpinData("Bundle",e)]);case 1:n=o.sent(),o.label=2;case 2:return this.ArtifactsSp.skeletonData=n,a="fabao"+t,this.ArtifactsSp.setAnimation(0,a,!0),[2]}})})},e.prototype.initPet=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return f.default.Instance.isUnlcok(12)?(this.PetSp.node.active=!0,t=b.default.getPetIndex(),e="Spines/Pet/pet"+(t+1)+"/pet_"+(t+1),(n=S.default.GetRes("Bundle",e,sp.SkeletonData))?[3,2]:[4,S.default.LoadSpinData("Bundle",e)]):(this.PetSp.node.active=!1,[2]);case 1:n=a.sent(),a.label=2;case 2:return this.PetSp.skeletonData=n,this.PetSp.setAnimation(0,"idle",!0),[2]}})})},e.prototype.initRealm=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(){return this.Realm.string=l.default.Instance.GetRealm(),t=l.default.Instance.GetOutPut(),e=l.default.Instance.GetBaseOutPut(),this.OutPut.string=S.default.refSetCoin(e)+"/s",this.OutPutAdd.string=S.default.refSetCoin(t-e)+"/s",[2]})})},e.prototype.start=function(){var t=this;cc.systemEvent.on(_.EventConst.Coin,this.initNextNeed,this),cc.systemEvent.on(_.EventConst.Coin,this.initBreak,this),cc.systemEvent.on(_.EventConst.Crystal,this.initCrystalBox,this),cc.systemEvent.on(_.EventConst.GameStart,function(){t.Splash.active=!0,cc.tween(t.Splash).to(.5,{opacity:0}).call(function(){return i(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.Splash.active=!1,1!=b.default.getMaxLevel()?[3,2]:[4,O.default.Instance.ShowUI(k.default.TalkPanel)];case 1:return t.sent(),O.default.Instance.GetClass(k.default.TalkPanel).getComponent(I.default).init(0,function(){b.default.setIsFirst()}),[3,3];case 2:b.default.setIsFirst(),t.label=3;case 3:return[2]}})})}).start()},this)},e.prototype.initCrystalBox=function(){this.crystalobj.number=b.default.getCrystal();var t=p.default.Instance.getNeedCrystal();this.CrystalBoxLabel.string=S.default.refSetCoin(b.default.getCrystal())+"/"+t,this.CrystalBoxPro.fillRange=b.default.getCrystal()/t,this.CrystalBoxRed.active=b.default.getCrystal()>=t,0==b.default.getCrystal()?this.CrystalBoxSp.setAnimation(0,"idle",!0):b.default.getCrystal()>0&&b.default.getCrystal()<t?this.CrystalBoxSp.setAnimation(0,"idle2",!0):this.CrystalBoxSp.setAnimation(0,"idle3",!0)},e.prototype.initCrystalBoxSp=function(){this.CrystalBoxLight.setAnimation(0,"collect",!1);var t=p.default.Instance.getNeedCrystal();cc.tween(this.crystalobj).to(.5,{number:b.default.getCrystal()}).call(function(){cc.systemEvent.emit(_.EventConst.Crystal)}).start(),this.CrystalBoxRed.active=b.default.getCrystal()>=t,0==b.default.getCrystal()?this.CrystalBoxSp.setAnimation(0,"idle",!0):b.default.getCrystal()>0&&b.default.getCrystal()<t?this.CrystalBoxSp.setAnimation(0,"idle2",!0):this.CrystalBoxSp.setAnimation(0,"idle3",!0)},e.prototype.OutputCoin=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return[4,l.default.Instance.GetOutPut()];case 1:return t=3*e.sent(),this.CreatOutputTxt(t),[2,t]}})})},e.prototype.CreatOutputTxt=function(t){var e=b.default.OutputCoin.get();e.setParent(this.OutputCoinpos),e.getComponent(P.default).init(t)},e.prototype.ChangeCoin=function(t){b.default.setCoin(t),this.initNextNeed(),cc.systemEvent.emit(_.EventConst.Coin)},e.prototype.initNextNeed=function(){this.Nextneed.string=S.default.refSetCoin(l.default.Instance.GetNeedCoin())},e.prototype.ChangeJewel=function(t){b.default.setJewel(t),cc.systemEvent.emit(_.EventConst.Jewel)},e.prototype.initRole=function(){var t=y.default.Instance.GetBasicRole(),e=y.default.Instance.GetRole(),n=y.default.Instance.GetFightNum();this.AtkLabel[0].getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(t.atk)),this.AtkLabel[1].getComponent(cc.Label).string="+"+S.default.refSetCoin(Math.floor(e.atk-t.atk)),this.HpLabel[0].getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(t.hp)),this.HpLabel[1].getComponent(cc.Label).string="+"+S.default.refSetCoin(Math.floor(e.hp-t.hp)),this.SpeedLabel[0].getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(t.interval)),this.SpeedLabel[1].getComponent(cc.Label).string="+"+S.default.refSetCoin(Math.floor(e.interval-t.interval)),this.FightLabel.getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(n)),this.fightnum.string=S.default.refSetCoin(Math.floor(n)),this.CritLabel[0].getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(t.crit))+"%",this.CritLabel[1].getComponent(cc.Label).string="+"+S.default.refSetCoin(Math.floor(e.crit-t.crit))+"%",this.DodegLabel[0].getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(t.dodge))+"%",this.DodegLabel[1].getComponent(cc.Label).string="+"+S.default.refSetCoin(Math.floor(e.dodge-t.dodge))+"%",this.HitLabel[0].getComponent(cc.Label).string=S.default.refSetCoin(Math.floor(t.hit))+"%",this.HitLabel[1].getComponent(cc.Label).string="+"+S.default.refSetCoin(Math.floor(e.hit-t.hit))+"%"},e.prototype.ClickRole=function(){this.role.active?(this.role.active=!1,this.fightnum.node.parent.active=!0,this.jiantou.node.angle=90):(this.role.active=!0,this.fightnum.node.parent.active=!1,this.jiantou.node.angle=-90)},e.prototype.ClickReincarn=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),f.default.Instance.isUnlcok(20)?(this.HideGuide(),[4,O.default.Instance.ShowUI(k.default.ReincarnPanel)]):(G.default.instance.setText(-1,f.default.Instance.CanUnlock(20)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickPack=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.PACK_PANEL)},e.prototype.ClickOptions=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.OptionsPanel)},e.prototype.initBreak=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r=this;return s(this,function(i){switch(i.label){case 0:return[4,h.default.Instance.isHaveDevil()];case 1:return i.sent()&&b.default.getDevil()>0?(this.DevilSp.node.active=!0,"clear_loop"!=this.DevilSp.animation&&this.DevilSp.setAnimation(0,"clear_loop",!0)):(this.Break.node.active=!0,this.DevilSp.node.active=!1),b.default.getLevel()>=200&&(this.Break.node.active=!1),t=l.default.Instance.BreakOrDisaster(),e="",n=10*Math.floor(b.default.getMaxLevel()/10),(a=b.default.getLevel()<n)?[4,l.default.Instance.IsCanQuick()]:[3,3];case 2:a=i.sent()>1,i.label=3;case 3:if(a?e=0==t?"SPlvlup_loop":l.default.Instance.IsCanBreak()?"fly_loop":b.default.getMaxLevel()<=30?"fly_un":"lingqi_loop":0==t?e=l.default.Instance.IsCanBreak()?"lvlup_loop":b.default.getMaxLevel()<=30?"lvlup_un":"lingqi_loop":(e=l.default.Instance.IsCanBreak()?"fly_loop":b.default.getMaxLevel()<=30?"fly_un":"lingqi_loop",b.default.getMaxLevel()<=20&&(this.isshowguide||(this.isshowguide=!0,this.GuideSp.active=!0,cc.tween(this.node).delay(4).call(function(){r.isshowguide=!1}).start()))),this.Break.animation==e||b.default.doBreak||this.Break.setAnimation(0,e,!0),!l.default.Instance.IsCanBreak())return[3,5];if(1!=b.default.getMaxLevel())return[3,5];if(this.isShowTalkTeacher)return[3,5];for(this.isShowTalkTeacher=!0,o=0;o<O.default.Instance.Group.length;o++)O.default.Instance.Group[o].active=!1;for(o=0;o<O.default.Instance.panelRoot.childrenCount;o++)O.default.Instance.panelRoot.children[o].active=!1;return S.default.getSdk().PlatformCallBack("BANNERCLOSE"),[4,O.default.Instance.ShowUI(k.default.TalkPanel)];case 4:i.sent(),O.default.Instance.GetClass(k.default.TalkPanel).getComponent(I.default).init(1,function(){r.ShowGuide(0)}),i.label=5;case 5:return[2]}})})},e.prototype.ClickBreak=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return b.default.doBreak?[2]:(b.default.doBreak=!0,m.default.instance.play(m.Sound.Click),this.HideGuide(),b.default.getDevil()>0?(b.default.doBreak=!1,l.default.Instance.IsCanBreak()?O.default.Instance.ShowUI(k.default.DevilPanel):(G.default.instance.setText(-1,c.i18nMgr.getLabel("title128")),O.default.Instance.ShowUI(k.default.FreeCoin)),[3,19]):[3,1]);case 1:return l.default.Instance.IsCanBreak()?0!=l.default.Instance.BreakOrDisaster()?[3,5]:b.default.getLevel()<b.default.getMaxLevel()?[4,l.default.Instance.IsCanQuick()]:[3,3]:(G.default.instance.setText(-1,c.i18nMgr.getLabel("title128")),O.default.Instance.ShowUI(k.default.FreeCoin),b.default.doBreak=!1,[2]);case 2:return e.sent()>1?(this.Break.setAnimation(0,"SPlvlup_touch",!1),this.QuickBreakSuccess()):(t=l.default.Instance.GetNeedCoin(),O.default.Instance.ChangeCoin(-t),this.Break.setAnimation(0,"lvlup_touch",!1),this.BreakSuccess()),[3,4];case 3:t=l.default.Instance.GetNeedCoin(),O.default.Instance.ChangeCoin(-t),this.Break.setAnimation(0,"lvlup_touch",!1),this.BreakSuccess(),e.label=4;case 4:return[3,19];case 5:return f.default.Instance.isUnlcok(7)?b.default.getMaxLevel()<11?(this.Break.setAnimation(0,"fly_loop",!1),b.default.getLevel()<30?(b.default.disater=100,t=l.default.Instance.GetNeedCoin(),O.default.Instance.ChangeCoin(-t),[4,O.default.Instance.ShowUI(k.default.DisasterPanel)]):[3,7]):[3,10]:[3,17];case 6:return e.sent(),[3,9];case 7:return b.default.disater=60,t=l.default.Instance.GetNeedCoin(),O.default.Instance.ChangeCoin(-t),[4,O.default.Instance.ShowUI(k.default.DisasterPanel)];case 8:e.sent(),e.label=9;case 9:return[3,16];case 10:return f.default.Instance.isUnlcok(22)?(this.Break.setAnimation(0,"fly_loop",!1),b.default.getLevel()<30?(b.default.disater=100,t=l.default.Instance.GetNeedCoin(),O.default.Instance.ChangeCoin(-t),[4,O.default.Instance.ShowUI(k.default.DisasterPanel)]):[3,12]):[3,15];case 11:return e.sent(),[3,14];case 12:return b.default.disater=60,t=l.default.Instance.GetNeedCoin(),O.default.Instance.ChangeCoin(-t),[4,O.default.Instance.ShowUI(k.default.DisasterPanel)];case 13:e.sent(),e.label=14;case 14:return[3,16];case 15:G.default.instance.setText(-1,c.i18nMgr.getLabel("title146")),e.label=16;case 16:return[3,18];case 17:G.default.instance.setText(-1,f.default.Instance.CanUnlock(7)),e.label=18;case 18:b.default.doBreak=!1,e.label=19;case 19:return[2]}})})},e.prototype.ClickDevil=function(){O.default.Instance.ShowUI(k.default.DevilPanel)},e.prototype.DispelDevil=function(){var t=this;b.default.doBreak||(b.default.doBreak=!0,b.default.doBreak=!1,this.devilSp.node.active=!0,this.devilSp.setAnimation(0,"lvup3",!1),this.DevilSp.setAnimation(0,"clear_touch",!0),this.DevilSp.setCompleteListener(function(){"clear_touch"==t.DevilSp.animation&&(t.DevilSp.node.active=!1,t.initBreak())}))},e.prototype.QuickBreakSuccess=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c=this;return s(this,function(s){switch(s.label){case 0:return[4,y.default.Instance.GetMaxFight()];case 1:return t=s.sent(),[4,l.default.Instance.IsCanQuick()];case 2:e=s.sent(),n=!0,a=0;do{o=b.default.getCoin(),r=l.default.Instance.GetNeedCoin(),o>=r?(this.ChangeCoin(-r),this.getCrystalAward(),b.default.setLevel(),a++):n=!1,a>=e&&(a=e,n=!1)}while(n);return b.default.doBreak=!1,m.default.instance.play(m.Sound.PlayUp),[4,h.default.Instance.isHaveDevil()];case 3:return(i=s.sent())&&b.default.setDevil(i),this.initRealmAnimation(),this.initVisualize(),this.initRealm(),this.initRole(),this.initBreak(),S.default.getSdk().sendEvent("heroLevelup",{message:"\u4e3b\u89d2\u7a81\u7834"}),[4,O.default.Instance.ShowUI(k.default.LevelUpPanel)];case 4:return s.sent(),O.default.Instance.GetClass(k.default.LevelUpPanel).getComponent(w.default).init(a,!1,function(){O.default.Instance.MaxFightChange(t),c.PlayCrystalSp()}),[2]}})})},e.prototype.initRealmAnimation=function(){},e.prototype.BreakSuccess=function(t){return void 0===t&&(t=!1),i(this,void 0,void 0,function(){var e,n,a=this;return s(this,function(o){switch(o.label){case 0:return[4,y.default.Instance.GetMaxFight()];case 1:return e=o.sent(),m.default.instance.play(m.Sound.PlayUp),b.default.doBreak=!1,this.getCrystalAward(),b.default.setLevel(),[4,h.default.Instance.isHaveDevil()];case 2:return(n=o.sent())&&b.default.setDevil(n),this.initRealm(),this.initRole(),this.initRealmAnimation(),this.initBreak(),S.default.getSdk().sendEvent("heroLevel",{message:"\u4e3b\u89d2\u7b49\u7ea7",level:b.default.getLevel()}),S.default.getSdk().sendEvent("heroLevelup",{message:"\u4e3b\u89d2\u7a81\u7834"}),[4,O.default.Instance.ShowUI(k.default.LevelUpPanel)];case 3:return o.sent(),O.default.Instance.GetClass(k.default.LevelUpPanel).getComponent(w.default).init(1,t,function(){return i(a,void 0,void 0,function(){var t,n=this;return s(this,function(a){switch(a.label){case 0:return this.PlayCrystalSp(),O.default.Instance.MaxFightChange(e),0!=this.teacherid?[3,2]:(this.teacherid=-1,[4,O.default.Instance.ShowUI(k.default.TalkPanel)]);case 1:a.sent(),O.default.Instance.GetClass(k.default.TalkPanel).getComponent(I.default).init(1100,function(){}),a.label=2;case 2:return 7!=this.teacherid?[3,4]:[4,O.default.Instance.ShowUI(k.default.TalkPanel)];case 3:a.sent(),O.default.Instance.GetClass(k.default.TalkPanel).getComponent(I.default).init(1001,function(){n.teacherid=-1}),a.label=4;case 4:return(t=f.default.Instance.isHaveUnlockToLevel())?20==t.unlock&&0!=b.default.getReincarnCount()?[2]:[4,O.default.Instance.ShowUI(k.default.UnlockSys)]:[3,6];case 5:a.sent(),O.default.Instance.GetClass(k.default.UnlockSys).getComponent(A.default).init(t.unlock),a.label=6;case 6:return[2]}})})}),[2]}})})},e.prototype.getCrystalAward=function(){var t=l.default.Instance.GetCrystal();O.default.Instance.GetCrystal(t)},e.prototype.ClickCrystalBox=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i=this;return s(this,function(s){switch(s.label){case 0:if(m.default.instance.play(m.Sound.Click),this.HideGuide(),t=p.default.Instance.getNeedCrystal(),!(b.default.getCrystal()>=t))return[3,5];if(b.default.setCrystalBoxOpenCount(),O.default.Instance.ChangeCrystal(-t),3!=this.teacherid)return[3,2];for(n=v.default.Instance.GetProp(77),(a=[]).push({prop:n,have:o=10}),r=0;r<a.length;r++)6==a[r].prop.type&&g.default.Instance.getMagicToDebrisID(a[r].prop.id)>=5&&(a[r].prop=v.default.Instance.GetCrystalProp(),a[r].have*=2);return[4,O.default.Instance.ShowUI(k.default.OpenBoxPanel)];case 1:return s.sent(),O.default.Instance.GetClass(k.default.OpenBoxPanel).getComponent(M.default).init(a,1,1,function(){i.ClickCrystalBox()}),[3,4];case 2:for(e=u.default.Instance.getCrystalBox(),n=v.default.Instance.GetProp(e.itemId),a=[],o=e.num,a.push({prop:n,have:o}),r=0;r<a.length;r++)6==a[r].prop.type&&g.default.Instance.getMagicToDebrisID(a[r].prop.id)>=5&&(a[r].prop=v.default.Instance.GetCrystalProp(),a[r].have*=2);return[4,O.default.Instance.ShowUI(k.default.OpenBoxPanel)];case 3:s.sent(),O.default.Instance.GetClass(k.default.OpenBoxPanel).getComponent(M.default).init(a,1,1,function(){i.ClickCrystalBox()}),s.label=4;case 4:return S.default.getSdk().sendEvent("xianjingBox"),[3,6];case 5:G.default.instance.setText(-1,c.i18nMgr.getLabel("title145")),s.label=6;case 6:return[2]}})})},e.prototype.ClickActivity=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),f.default.Instance.isUnlcok(8)?(this.HideGuide(),[4,O.default.Instance.ShowUI(k.default.ActivityPanel)]):(G.default.instance.setText(-1,f.default.Instance.CanUnlock(8)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickArtifacts=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),f.default.Instance.isUnlcok(15)?(this.HideGuide(),[4,O.default.Instance.ShowUI(k.default.ARTIFACTS)]):(G.default.instance.setText(-1,f.default.Instance.CanUnlock(15)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickPet=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),f.default.Instance.isUnlcok(12)?(this.HideGuide(),[4,O.default.Instance.ShowUI(k.default.PET_PANEL)]):(G.default.instance.setText(-1,f.default.Instance.CanUnlock(12)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickQuestion=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.REALM_PANEL)},e.prototype.ClickMagic=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),[4,O.default.Instance.ShowUI(k.default.MagicPanel)];case 1:return t.sent(),[2]}})})},e.prototype.ShowGuide=function(t){var e;switch(this.initBtn(),O.default.Instance.GuideHand.active=!0,this.teacherid=t,t){case 0:e=this.Break.node;break;case 3:e=this.Box;break;case 1:e=this.Break.node;break;case 4:e=this.UserDrugBtn;break;case 7:e=this.Break.node;break;case 8:case 10:e=this.ActivityBtn;break;case 12:e=this.PetBtn;break;case 15:e=this.ArtifactsBtn;break;case 20:e=this.ReincarnBtn;break;case 21:e=this.RankBtn;break;case 22:e=this.DiscipleBtn}var n=e.parent.convertToWorldSpaceAR(e.getPosition()),a=O.default.Instance.GuideHand.parent.convertToNodeSpaceAR(n);O.default.Instance.GuideHand.setPosition(a)},e.prototype.HideGuide=function(){O.default.Instance.GuideHand.active=!1},e.prototype.ClickOpen=function(){m.default.instance.play(m.Sound.Click),this.openBtn.active=!1,this.closeBtn.parent.active=!0},e.prototype.ClickClose=function(){m.default.instance.play(m.Sound.Click),this.openBtn.active=!0,this.closeBtn.parent.active=!1},e.prototype.ClickUserDrug=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),f.default.Instance.isUnlcok(4)?(this.HideGuide(),v.default.Instance.GetPackPropType(5).length<=0?(G.default.instance.setText(-1,c.i18nMgr.getLabel("title143")),[3,3]):[3,1]):(G.default.instance.setText(-1,f.default.Instance.CanUnlock(4)),[2]);case 1:return[4,O.default.Instance.ShowUI(k.default.UserDrugPanel)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.ClickDisciple=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return m.default.instance.play(m.Sound.Click),f.default.Instance.isUnlcok(22)?(this.HideGuide(),[4,O.default.Instance.ShowUI(k.default.DisciplePanel)]):(G.default.instance.setText(-1,f.default.Instance.CanUnlock(22)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.PlayCrystalSp=function(){this.CrystalSp.active=!0,this.CrystalSp.getComponent(cc.Animation).play("move2")},e.prototype.ClickAddToFavorites=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.addToFavorites)},e.prototype.ClickSaveAppToDesktop=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.saveAppToDesktop)},e.prototype.ClickRecorder=function(){m.default.instance.play(m.Sound.Click),0==b.default.isdorecorder?b.default.getShareRecorder()?S.default.getSdk().recorderStart():O.default.Instance.ShowUI(k.default.RecordPanel):1==b.default.isdorecorder?S.default.getSdk().recorderStop():b.default.getShareRecorder()?(b.default.isdorecorder=0,cc.systemEvent.emit(_.EventConst.Recorder),O.default.Instance.ShowUI(k.default.ShareRecorder)):O.default.Instance.ShowUI(k.default.RecordPanel)},e.prototype.ClickAndroidOppoMore=function(){m.default.instance.play(m.Sound.Click),S.default.getSdk().moreGame()},e.prototype.ClickShare=function(){m.default.instance.play(m.Sound.Click),S.default.getSdk().share()},e.prototype.ClickNoviceGift=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.NoviceGiftPanel)},e.prototype.ClickMagicGift=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.MagicGiftPanel)},e.prototype.ClickMagicUpGift=function(){m.default.instance.play(m.Sound.Click),O.default.Instance.ShowUI(k.default.MagicUpGiftPanel)},e.prototype.initRecorder=function(){0==b.default.isdorecorder?this.Recorder.spriteFrame=b.default.getShareRecorder()?this.RecorderSp[3]:this.RecorderSp[0]:this.Recorder.spriteFrame=this.RecorderSp[b.default.isdorecorder]},e.prototype.update=function(){if(!b.default.isFirstLoad){this.CoinProgress.fillRange=T.default.instance.Time2;var t=p.default.Instance.getNeedCrystal();this.CrystalBoxLabel.string=S.default.refSetCoin(Math.floor(this.crystalobj.number))+"/"+t,this.CrystalBoxPro.fillRange=this.crystalobj.number/t}},e.instance=null,r([x(cc.Node)],e.prototype,"Gift",void 0),r([x(cc.Node)],e.prototype,"NoviceBtn",void 0),r([x(cc.Sprite)],e.prototype,"Recorder",void 0),r([x(cc.SpriteFrame)],e.prototype,"RecorderSp",void 0),r([x(sp.Skeleton)],e.prototype,"EatSp",void 0),r([x(cc.Node)],e.prototype,"GuideSp",void 0),r([x(cc.Node)],e.prototype,"coin",void 0),r([x(sp.Skeleton)],e.prototype,"coinsp",void 0),r([x(cc.Node)],e.prototype,"RankBtn",void 0),r([x(cc.Node)],e.prototype,"ActivityBtn",void 0),r([x(cc.Node)],e.prototype,"UserDrugBtn",void 0),r([x(cc.Node)],e.prototype,"Box",void 0),r([x(cc.Node)],e.prototype,"DiscipleBtn",void 0),r([x(cc.Node)],e.prototype,"Splash",void 0),r([x(cc.Node)],e.prototype,"CrystalSp",void 0),r([x(sp.Skeleton)],e.prototype,"devilSp",void 0),r([x(cc.Node)],e.prototype,"openBtn",void 0),r([x(cc.Node)],e.prototype,"closeBtn",void 0),r([x(cc.Node)],e.prototype,"ReincarnBtn",void 0),r([x(cc.Label)],e.prototype,"CrystalBoxLabel",void 0),r([x(cc.Sprite)],e.prototype,"CrystalBoxPro",void 0),r([x(sp.Skeleton)],e.prototype,"CrystalBoxSp",void 0),r([x(cc.Node)],e.prototype,"CrystalBoxRed",void 0),r([x(sp.Skeleton)],e.prototype,"CrystalBoxLight",void 0),r([x(cc.Node)],e.prototype,"role",void 0),r([x(cc.Label)],e.prototype,"fightnum",void 0),r([x(cc.Sprite)],e.prototype,"jiantou",void 0),r([x(cc.Node)],e.prototype,"ArtifactsBtn",void 0),r([x(cc.Node)],e.prototype,"PetBtn",void 0),r([x(cc.Node)],e.prototype,"guideSp",void 0),r([x(sp.Skeleton)],e.prototype,"DevilSp",void 0),r([x(cc.Prefab)],e.prototype,"prefabs",void 0),r([x(cc.Label)],e.prototype,"Realm",void 0),r([x(cc.Label)],e.prototype,"OutPutAdd",void 0),r([x(cc.Label)],e.prototype,"OutPut",void 0),r([x(cc.Node)],e.prototype,"RealmSp",void 0),r([x(sp.Skeleton)],e.prototype,"PaintSp",void 0),r([x(sp.Skeleton)],e.prototype,"PetSp",void 0),r([x(sp.Skeleton)],e.prototype,"ArtifactsSp",void 0),r([x(cc.Sprite)],e.prototype,"CoinProgress",void 0),r([x(cc.Node)],e.prototype,"OutputCoinpos",void 0),r([x(cc.Node)],e.prototype,"HpLabel",void 0),r([x(cc.Node)],e.prototype,"AtkLabel",void 0),r([x(cc.Node)],e.prototype,"FightLabel",void 0),r([x(cc.Node)],e.prototype,"SpeedLabel",void 0),r([x(cc.Node)],e.prototype,"DodegLabel",void 0),r([x(cc.Node)],e.prototype,"HitLabel",void 0),r([x(cc.Node)],e.prototype,"CritLabel",void 0),r([x(sp.Skeleton)],e.prototype,"Break",void 0),r([x(cc.Label)],e.prototype,"Nextneed",void 0),n=r([D],e)}(cc.Component);n.default=B,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/CrystalBoxAwardManager":"CrystalBoxAwardManager","../Manager/CrystalBoxManager":"CrystalBoxManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/HeartDevilDataManager":"HeartDevilDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../Tools/PoolManager":"PoolManager","../UI/LevelUpPanel":"LevelUpPanel","../UI/OpenBoxPanel":"OpenBoxPanel","../UI/OutputCoin":"OutputCoin","../UI/PanelConst":"PanelConst","../UI/TalkPanel":"TalkPanel","../UI/TimeManager":"TimeManager","../UI/TipGroup":"TipGroup","../UI/UIManager":"UIManager","../UI/UnlockSys":"UnlockSys","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],PrivacyCell:[function(t,e,n){"use strict";cc._RF.push(e,"87303raMm1GZZKWVBEZpPSq","PrivacyCell");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellIdentifier="",e.dataIndex=-1,e}return o(e,t),r([c],e.prototype,"cellIdentifier",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],PrivacyGroup:[function(t,e,n){"use strict";cc._RF.push(e,"0ed12oJ5bxPoLAP1oIpJ1sy","PrivacyGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.MyCell=void 0;var i=t("../../Tools/GameTools"),s=t("./InfiniteList/PrivacyCell"),c=t("./InfiniteList/PrivacyList"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.UpdateContent=function(t){this.node.getComponent(cc.Label).string=t},e}(s.default);n.MyCell=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.privacy=null,e.privacyMessage=null,e.lb_title=null,e.listNode=null,e.cellNode=null,e.privacyTxt=null,e.title="\u756a\u8304\u6e38\u620f\u9690\u79c1\u653f\u7b56",e.contents=[],e.cellSize=[],e._getCellData=function(t){return e.contents[t]},e._getCellNumber=function(){return e.contents.length},e._getCellSize=function(t){if(!e.cellSize[t]){var n=e.cellNode.getComponent(cc.Label);n.string=e.contents[t],n._forceUpdateRenderData(),e.cellSize[t]=e.cellNode.height}return e.cellSize[t]},e._getCellView=function(){return cc.instantiate(e.cellNode).addComponent(d)},e._getCellIdentifer=function(){return"NormalCell"},e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.game.addPersistRootNode(this.node),i.default.getSdk().isSupportPrivacy()&&(cc.sys.localStorage.getItem("isFirstLoad")?this.privacy.active=!1:(cc.sys.localStorage.setItem("isFirstLoad",JSON.stringify(!0)),this.privacy.active=!0),cc.systemEvent.on("showprivacyMessage",function(){t.privacyMessage.active=!0},this),cc.systemEvent.on("hideprivacyMessage",function(){t.privacyMessage.active=!1},this),this.contents=this.privacyTxt.text.split("\n"),this.lb_title.string=this.title)},e.prototype.clickYes=function(){this.privacy.active=!1},e.prototype.clickNo=function(){try{qq.exitMiniProgram()}catch(t){}try{qg.exitApplication()}catch(t){}cc.game.end()},e.prototype.clickShow=function(){cc.systemEvent.emit("showprivacyMessage")},e.prototype.clickHide=function(){cc.systemEvent.emit("hideprivacyMessage")},e.prototype.start=function(){this.initList()},e.prototype.initList=function(){this.list=this.listNode.getComponent(c.default),this.list.Init({getCellNumber:this._getCellNumber,getCellSize:this._getCellSize,getCellIdentifer:this._getCellIdentifer,getCellView:this._getCellView,getCellData:this._getCellData})},r([p(cc.Node)],e.prototype,"privacy",void 0),r([p(cc.Node)],e.prototype,"privacyMessage",void 0),r([p(cc.Label)],e.prototype,"lb_title",void 0),r([p({type:cc.Node})],e.prototype,"listNode",void 0),r([p({type:cc.Node})],e.prototype,"cellNode",void 0),r([p(cc.TextAsset)],e.prototype,"privacyTxt",void 0),r([p],e.prototype,"title",void 0),r([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Tools/GameTools":"GameTools","./InfiniteList/PrivacyCell":"PrivacyCell","./InfiniteList/PrivacyList":"PrivacyList"}],PrivacyList:[function(t,e,n){"use strict";cc._RF.push(e,"9230dvjPnZLh4KTrxLSP/vr","PrivacyList");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,s=t("./PrivacyCell"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.vertical=1]="vertical",t[t.horizontal=2]="horizontal"})(i||(i={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction=i.vertical,e.spacing=0,e.headPadding=0,e.bottomPadding=0,e.sidePadding=new cc.Vec2(0,0),e._debug=!1,e._inited=!1,e._scrollPosition=0,e._cellPools={},e._activeCellViews=new Array,e}return o(e,t),e.prototype.Init=function(t){this._init(t)},e.prototype.Reload=function(t){void 0===t&&(t=!1),this._clear(t),this._load()},e.prototype.Refresh=function(){this._updateActiveCellContent()},e.prototype.GetScrollPosOfCell=function(t){var e=this._getCellPosOfIndex(t);return this.direction==i.vertical?new cc.Vec2(0,e):new cc.Vec2(-1*e,0)},e.prototype.ScrollToCell=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var a=this.GetScrollPosOfCell(t);this._scrollView.scrollTo(a,e,n)},e.prototype.IsCellVisible=function(t){return t>=this._activeCellIndexRange.x&&t<=this._activeCellIndexRange.y},e.prototype.onLoad=function(){this._scrollView=this.node.getComponent(cc.ScrollView),this._scrollView||(this._scrollView=this.node.addComponent(cc.ScrollView),this.direction==i.horizontal?(this._scrollView.vertical=!1,this._scrollView.horizontal=!0):(this._scrollView.vertical=!0,this._scrollView.horizontal=!1)),this._content=new cc.Node,this._content.setAnchorPoint(0,1),this.node.addChild(this._content),this._scrollView.content=this._content,this._debug&&this._content.addComponent(cc.Graphics),this._inited=!0,this._delegate&&this._load()},e.prototype.update=function(){if(this._debug){var t=this._content.getComponent(cc.Graphics);t.clear(),t.fillColor=cc.Color.YELLOW,t.fillRect(0,0,this._content.width,this._content.height)}},e.prototype.onEnable=function(){this.node.on("scrolling",this._onScrolling,this)},e.prototype.onDisable=function(){this.node.targetOff(this)},e.prototype._onScrolling=function(){if(this._delegate){var t=this._scrollView.getScrollOffset();this.direction==i.vertical?this._scrollPosition=t.y:this._scrollPosition=-1*t.x,this._refreshActiveCells()}},e.prototype._init=function(t){var e=!1;this._delegate&&(e=!0),this._delegate=t,this._inited&&(e&&this._clear(),this._load())},e.prototype._clear=function(t){if(void 0===t&&(t=!1),this._activeCellViews)for(;this._activeCellViews.length>0;)this._recycleCell(this._activeCellViews.length-1);this._activeCellIndexRange=new cc.Vec2(-1,-1),t||(this._scrollPosition=0,this._content.x=0,this._content.y=0)},e.prototype._load=function(){var t=this._delegate.getCellNumber();if(!(t<=0)){var e=this.headPadding;this._cellsOffset=new Array(t),this._cellsSize=new Array(t);for(var n=0;n<t;n++){var a=this._delegate.getCellSize(n);this._cellsSize[n]=a,e=a+(0==n?0:this.spacing)+e,this._cellsOffset[n]=e}e+=this.bottomPadding,this.direction==i.vertical?this._content.setContentSize(this.node.width,e):this._content.setContentSize(e,this.node.height);var o=this._getActiveCellIndexRange();for(this._activeCellIndexRange=o,n=o.x;n<=o.y;n++)this._addCellView(n)}},e.prototype._refreshActiveCells=function(){var t=this._getActiveCellIndexRange();if(!t.equals(this._activeCellIndexRange)){for(var e=0;e<this._activeCellViews.length;){var n=this._activeCellViews[e];n.dataIndex<t.x||n.dataIndex>t.y?this._recycleCell(e):e++}for(var a=t.x;a<=t.y;a++){for(var o=!0,r=0;r<this._activeCellViews.length;r++)if(this._activeCellViews[r].dataIndex==a){o=!1;break}o&&this._addCellView(a)}this._activeCellIndexRange=t}},e.prototype._recycleCell=function(t){var e=this._activeCellViews[t];this._activeCellViews.splice(t,1),e.node.removeFromParent(!1),e.dataIndex=-1,this._cellPools[e.cellIdentifier]||(this._cellPools[e.cellIdentifier]=new cc.NodePool),this._cellPools[e.cellIdentifier].put(e.node)},e.prototype._getCellViewFromPool=function(t){if(!this._cellPools[t])return null;var e=this._cellPools[t].get();return e?e.getComponent(s.default):null},e.prototype._getActiveCellIndexRange=function(){var t=this._scrollPosition,e=t+(this.direction==i.vertical?this.node.height:this.node.width);return new cc.Vec2(this._getCellIndexOfPos(t),this._getCellIndexOfPos(e))},e.prototype._getCellIndexOfPos=function(t){for(var e=0;e<this._cellsOffset.length;e++)if(this._cellsOffset[e]>=t)return e;return this._cellsOffset.length-1},e.prototype._getCellPosOfIndex=function(t){return this._cellsOffset[t]-this._cellsSize[t]},e.prototype._addCellView=function(t){var e=this._delegate.getCellIdentifer(t),n=this._getCellViewFromPool(e);n||((n=this._delegate.getCellView(t)).node.setAnchorPoint(0,1),n.cellIdentifier=e),n.dataIndex=t,n.enabled=!0,this._activeCellViews.push(n),this._content.addChild(n.node),this.direction==i.vertical?(n.node.x=this.sidePadding.x,n.node.y=-1*(this._cellsOffset[n.dataIndex]-this._cellsSize[n.dataIndex]),n.node.setContentSize(this.node.width-this.sidePadding.x-this.sidePadding.y,this._cellsSize[t])):(n.node.x=this._cellsOffset[n.dataIndex]-this._cellsSize[n.dataIndex],n.node.y=-1*this.sidePadding.x,n.node.setContentSize(this._cellsSize[t],this.node.height-this.sidePadding.x-this.sidePadding.y)),n.dataIndex=t,this._updateCellContent(n)},e.prototype._updateActiveCellContent=function(){var t=this;this._activeCellViews.forEach(function(e){t._updateCellContent(e)})},e.prototype._updateCellContent=function(t){var e=null;this._delegate.getCellData&&(e=this._delegate.getCellData(t.dataIndex)),t.UpdateContent(e)},r([u({type:cc.Enum(i),tooltip:"List \u6eda\u52a8\u7684\u65b9\u5411\uff0c\u53ef\u4ee5\u9009\u62e9\u5782\u76f4\u6216\u8005\u6c34\u5e73"})],e.prototype,"direction",void 0),r([u({tooltip:"cell \u4e4b\u95f4\u7684\u50cf\u7d20\u95f4\u9694\uff0c\u6700\u5f00\u59cb\u548c\u6700\u540e\u9762\u4e0d\u4f1a\u6dfb\u52a0"})],e.prototype,"spacing",void 0),r([u({tooltip:"List \u9876\u90e8\uff08\u6c34\u5e73\u6eda\u52a8\u5219\u662f\u6700\u5de6\u8fb9\uff09\u7684\u95f4\u9694\u7a7a\u95f4"})],e.prototype,"headPadding",void 0),r([u({tooltip:"List \u5e95\u90e8\uff08\u6c34\u5e73\u6eda\u52a8\u5219\u662f\u6700\u53f3\u8fb9\uff09\u7684\u95f4\u9694\u7a7a\u95f4"})],e.prototype,"bottomPadding",void 0),r([u({tooltip:"\u4fa7\u8fb9\u7684\u95f4\u8ddd\uff0c\u5782\u76f4\u6eda\u52a8\u5c31\u662f\u5de6\u53f3\u8fb9\u7684\u95f4\u8ddd\uff0c\u6c34\u5e73\u6eda\u52a8\u5c31\u662f\u4e0a\u4e0b\u8fb9\u7684\u95f4\u8ddd"})],e.prototype,"sidePadding",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./PrivacyCell":"PrivacyCell"}],PrivacyNode:[function(t,e,n){"use strict";cc._RF.push(e,"2071ea/ZUNMPZrh4Rl3mqhv","PrivacyNode");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){cc.sys.platform==cc.sys.OPPO_GAME?this.node.on("touchstart",this.onClick,this):this.node.active=!1},e.prototype.onClick=function(){cc.systemEvent.emit("showprivacyMessage")},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],PropDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"59613Jf8fREqIemuZuWGNWt","PropDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/PropData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","item",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","item")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.name=o.name,r.type=o.type,r.icon=o.icon,r.rank=o.rank,r.index=o.index,r.maxInOne=o.maxInOne,r.info=o.context,r.have=0,this.allDataList.push(r);return[2]}})})},e.prototype.GetProp=function(t){for(var e=null,n=0;n<this.allDataList.length;n++)this.allDataList[n].id==t&&(e=this.allDataList[n]);return{id:e.id,type:e.type,name:e.name,index:e.index,maxInOne:e.maxInOne,info:e.info,rank:e.rank,icon:e.icon,have:e.have}},e.prototype.GetCoinProp=function(){for(var t=0;t<this.allDataList.length;t++)if(1==this.allDataList[t].type)return this.allDataList[t]},e.prototype.GetJewelProp=function(){for(var t=0;t<this.allDataList.length;t++)if(2==this.allDataList[t].type)return this.allDataList[t]},e.prototype.GetCrystalProp=function(){for(var t=0;t<this.allDataList.length;t++)if(3==this.allDataList[t].type)return this.allDataList[t]},e.prototype.GetJadeProp=function(){for(var t=0;t<this.allDataList.length;t++)if(4==this.allDataList[t].type)return this.allDataList[t]},e.prototype.GetHerbProp=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)8==this.allDataList[n].type&&e.push(this.allDataList[n]);for(var a=0;a<e.length;a++)if(e[a].index==t)return e[a]},e.prototype.GetDrugProp=function(t){for(var e=t+5,n=0;n<this.allDataList.length;n++)if(this.allDataList[n].id==e)return this.allDataList[n]},e.prototype.getMagicProp=function(t){for(var e=0;e<this.allDataList.length;e++)if(7==this.allDataList[e].type&&this.allDataList[e].index==t)return this.allDataList[e]},e.prototype.getMagicDebrisProp=function(t){for(var e=0;e<this.allDataList.length;e++)if(6==this.allDataList[e].type&&this.allDataList[e].index==t)return this.allDataList[e]},e.prototype.GetPack=function(){return l.default.getPack()},e.prototype.addPack=function(t){for(var e=t.length,n=this.GetPack(),a=0;a<e;a++){var o=t[a].prop,r=t[a].have;if(n.length<=0){n.push({prop:o,have:r});break}for(var i=0;i<n.length;i++){if(n[i].prop.id==o.id){n[i].have+=r;break}if(i==n.length-1){n.push({prop:o,have:r});break}}}l.default.setPack(n)},e.prototype.GetPackPropType=function(t){for(var e=[],n=this.GetPack(),a=0;a<n.length;a++)n[a].prop.type==t&&e.push(n[a]);return e},e.prototype.getHeab=function(){for(var t=this.GetPack(),e=0;e<t.length;e++)if(8==t[e].prop.type)return t[e].prop;return null},e.prototype.getAllHeab=function(){for(var t=this.GetPack(),e=[],n=0;n<t.length;n++)8==t[n].prop.type&&e.push(t[n]);return e},e.prototype.subPackProp=function(t,e){for(var n=this.GetPack(),a=0;a<n.length;a++)if(n[a].prop.id==t){n[a].have-=e,n[a].have<=0&&n.splice(a,1),l.default.setPack(n);break}},e.prototype.Unfix=function(t){for(var e=this.GetPack(),n=0;n<e.length;n++)if(e[n].prop.id==t.id){e.splice(n,1);break}this.addPack([{prop:t,have:1}])},e.prototype.GetPackProp=function(t){for(var e=this.GetPack(),n=0;n<e.length;n++)if(e[n].prop.id==t)return e[n];return{prop:this.GetProp(t),have:0}},e.prototype.GetPropNum=function(t){for(var e=this.GetPack(),n=0,a=0;a<e.length;a++)if(e[a].prop.id==t){if(1!=e[a].prop.type)return e[a];n+=e[a].have}return{prop:this.GetProp(t),have:n}},e.prototype.GetOptimalEquip=function(t,e){return void 0===e&&(e=0),null},e.prototype.GetLevelColor=function(t){switch(t){case 1:return"#292929";case 2:return"#62863b";case 3:return"#2f638e";case 4:return"#7b53a4";case 5:return"#af6443";case 6:return"#96344c";case 7:return"#ff48f9"}},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/PropData":"PropData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],PropData:[function(t,e,n){"use strict";cc._RF.push(e,"26a6cl+M/JBO7tHkIhhfWMD","PropData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.have=0},cc._RF.pop()},{}],PropMessage:[function(t,e,n){"use strict";cc._RF.push(e,"80705eE5LNB6a9yJnY7V6Qg","PropMessage");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/PropDataManager"),l=t("../Manager/SoundManager"),u=t("../Tools/GameTools"),p=t("./UIBase"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.propFrame=null,e.propIcon=null,e.propName=null,e.propHave=null,e.propInfo=null,e.banner=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return this.propName.string=t.name,e="PropIcon/"+t.icon,(n=u.default.GetRes("Bundle",e,cc.SpriteFrame))?[3,2]:[4,u.default.loadImage("Bundle",e)];case 1:n=i.sent(),i.label=2;case 2:return this.propIcon.spriteFrame=n,a="PropFrame/"+t.rank,(o=u.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,4]:[4,u.default.loadImage("Bundle",a)];case 3:o=i.sent(),i.label=4;case 4:return this.propFrame.spriteFrame=o,r=c.default.Instance.GetPropNum(t.id),this.propInfo.string=""+t.info,this.propHave.string=""+r.have,[2]}})})},e.prototype.ClickOff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([h(cc.Sprite)],e.prototype,"propFrame",void 0),r([h(cc.Sprite)],e.prototype,"propIcon",void 0),r([h(cc.Label)],e.prototype,"propName",void 0),r([h(cc.Label)],e.prototype,"propHave",void 0),r([h(cc.Label)],e.prototype,"propInfo",void 0),r([h(cc.Node)],e.prototype,"banner",void 0),r([f],e)}(p.default);n.default=y,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","./UIBase":"UIBase"}],QQManager:[function(t,e,n){"use strict";cc._RF.push(e,"73185by7rJMTalj5iQspNkE","QQManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../core/util/Utils"),c=t("../record/GameSys"),l=t("../Tools/ServerUtil"),u=t("./PlatformConst"),p=t("./SdkManager"),d="share.png",f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shareIds=["16"],e.shareParams=[{title:"\u4e0a\u73ed\u6302\u673a\u6253\u602a\uff0c\u4e0b\u73ed\u6e21\u52ab\u98de\u5347\uff01",imageUrl:d}],e.userinfo=null,e.bannerCount=0,e.bannerRepeat=5,e.bannerAd=null,e.bannerIsHiden=!0,e.rewardedAd=null,e.last_show=0,e.interstitialAd=null,e.isShowing=!1,e}return o(e,t),e.prototype.init=function(){return r(this,void 0,void 0,function(){return i(this,function(){return this.initShare(),[2,""]})})},e.prototype.getChannel=function(){return"qq"},e.prototype.getChannelId=function(){return"0001047"},e.prototype.vibrate=function(){qq.vibrateShort({})},e.prototype.sendEvent=function(t,e){if(qq.uma)switch(t){case"sp_startLevel":qq.uma.stage.onStart({stageId:e.level,stageName:e.level});break;case"sp_finishLevel":qq.uma.stage.onEnd({stageId:e.level,stageName:e.level,event:"complete"});break;case"sp_failLevel":qq.uma.stage.onEnd({stageId:e.level,stageName:e.level,event:"fail"});break;default:if(e){var n={};for(var a in e){var o=e[a];n[a]=o.toString()}qq.uma.trackEvent(t,n)}else qq.uma.trackEvent(t)}},e.prototype.isSupportShare=function(){return!0},e.prototype.initShare=function(){for(var t=this,e=function(e){var a=n.shareIds[e];l.default.getShare(a,function(n){var a={title:n.title,imageUrl:n.img};t.shareParams[e]=a})},n=this,a=0;a<this.shareIds.length;a++)e(a);qq.showShareMenu({withShareTicket:!0,showShareItems:["qq","qzone","wechatFriends","wechatMoment"]}),qq.onShareAppMessage(function(){return t.shareParams[0]})},e.prototype.share=function(t,e,n){void 0===t&&(t=0);var a={};l.default.openId&&(a={query:"sopenid="+l.default.openId}),Object.assign(a,this.shareParams[t]),qq.shareAppMessage(a),this.shareSuccess=e,this.shareFail=n},e.prototype.shareWithScreenShot=function(t,e){var n=this,a=s.Utils.cocosToWXPixel(t);cc.game.canvas.toTempFilePath({x:a.x,y:a.y,width:a.width,height:a.height,destWidth:500,destHeight:400,success:function(t){var a=e||n.shareParams[0].title;qq.shareAppMessage({title:a,imageUrl:t.tempFilePath})}})},e.prototype.onClickShare=function(t){var e=this,n=function(n){switch(n.scene){case 1007:case 1008:case 1044:var a=n.query.sopenid,o=n.query.sid;a&&(t(o,a),l.default.clickShare(e.shareIds[o],a,{success:function(t){console.log("clickShare",t)},fail:function(t){console.log("clickShare",t)}}))}},a=qq.getLaunchOptionsSync();console.log("LaunchOption.scene...",a.scene),n(a),qq.onShow(function(t){console.log("onShow",t),n(t)})},e.prototype.getShareList=function(t,e){l.default.getShareList(this.shareIds[t],{success:function(t){console.log(t),e(t)},fail:function(t){console.log(t)}})},e.prototype.login=function(t){this.init(),t()},e.prototype.authorize=function(t,e,n){var a=this;qq.getSetting({success:function(o){if(o.authSetting["scope.userInfo"])qq.getUserInfo({success:function(t){var n=t.userInfo;e({nickName:n.nickName,avatarUrl:n.avatarUrl})},fail:function(){n()}});else{var r=s.Utils.cocosToWX(t);a.userinfo=qq.createUserInfoButton({type:"image",text:"",image:"authorize.png",style:{left:r.x,top:r.y,width:r.width,height:r.height,backgroundColor:"{255,255,255,0}",borderColor:"#ffffff",borderWidth:0,borderRadius:0,textAlign:"center",fontSize:0,lineHeight:0},withCredentials:!1}),a.userinfo.show(),a.userinfo.onTap(function(t){var o=t.userInfo;o?(e({nickName:o.nickName,avatarUrl:o.avatarUrl}),a.closeUserInfo(),l.default.setUserInfo(o.nickName,o.avatarUrl,{success:function(t){console.log("setUserInfo"+t)},fail:function(t){console.log("setUserInfo error",t)}})):n()})}}})},e.prototype.closeUserInfo=function(){null!=this.userinfo&&this.userinfo.hide()},e.prototype.createBannerAd=function(t){var e=this,n=qq.getSystemInfoSync().screenWidth,a=qq.getSystemInfoSync().screenHeight,o={left:(n-300)/2,height:105,width:300,top:a-105};t&&(o.adIntervals=t),this.bannerAd=qq.createBannerAd({adUnitId:u.QQConst.param_banner,style:o}),this.bannerAd.onResize(function(t){console.log(t.width,t.height),300!=t.width&&(e.bannerAd.style.top=a-t.height,e.bannerAd.style.left=(n-t.width)/2)}),this.bannerAd.onLoad(function(){console.log("banner \u52a0\u8f7d\u6210\u529f"),e.bannerIsHiden||e.bannerShow()}),this.bannerAd.onError(function(t){console.log("banner \u51fa\u9519",t),e.bannerAd.destroy(),e.bannerAd=null})},e.prototype.bannerAdShow=function(t){void 0===t&&(t=0),this.bannerIsHiden=!1,0==this.bannerRepeat?null==this.bannerAd&&this.createBannerAd():this.bannerRepeat>0&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd?this.createBannerAd():this.bannerShow())},e.prototype.bannerAdShowAutoUpdate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=30),this.bannerIsHiden=!1,null==this.bannerAd?this.createBannerAd(e):this.bannerShow()},e.prototype.bannerAdHide=function(){console.log("banner \u5173\u95ed"),this.bannerIsHiden=!0,null!=this.bannerAd&&this.bannerAd.hide()},e.prototype.bannerShow=function(){var t=this;this.bannerAd.show().then(function(){console.log("banner\u663e\u793a\u6210\u529f"),t.bannerIsHiden&&t.bannerAdHide()})},e.prototype.rewardedAdShow=function(t,e,n){var a=this;void 0===t&&(t=-1),this.rewardedAd||(this.rewardedAd=qq.createRewardedVideoAd({adUnitId:u.QQConst.param_rewardedVideo}));var o=function(t){t.isEnded?(console.log("\u6210\u529f"),e()):(console.log("\u5931\u8d25"),n(!1)),a.rewardedAd.offClose(o)};this.rewardedAd.onClose(o),this.rewardedAd.show().then(function(){a.last_show=Date.now()}).catch(function(t){console.log("reward show error, retry...",t.errCode,t.errMsg),a.rewardedAd.load().then(function(){console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),a.rewardedAd.show().then(function(){a.last_show=Date.now()}).catch(function(t){console.log("reward show2 error",t.errCode,t.errMsg),n(!0)})}).catch(function(t){console.log("reward load error",t.errCode,t.errMsg),n(!0)})})},e.prototype.interstitialAdShow=function(t){var e=this;void 0===t&&(t=1);var n=Date.now()-this.last_show;n<6e4?console.log("\u63d2\u5c4fCD",n):this.interstitialAd?this.interstitialAd.show().catch(function(){e.interstitialAd.load().then(function(){console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),e.interstitialAd.show().then(function(){e.last_show=Date.now()}).catch(function(t){console.log("interstitialAd show2 error",t.errCode,t.errMsg)})}).catch(function(t){console.log("interstitialAd load error",t.errCode,t.errMsg)})}):(this.interstitialAd=qq.createInterstitialAd({adUnitId:u.QQConst.param_interstitial}),this.interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f\u52a0\u8f7d\u6210\u529f"),e.interstitialAd.show(),e.last_show=Date.now(),e.interstitialAd.offLoad()}))},e.prototype.appboxShow=function(){var t=this;this.appBox||(this.appBox=qq.createAppBox({adUnitId:u.QQConst.param_appbox})),this.appBox.load().then(function(){t.appBox.show()})},e.prototype.blockAdshow=function(t,e){var n=this;void 0===e&&(e=4),this.isShowing=!0,setTimeout(function(){if(n.isShowing){var a=s.Utils.cocosToWX(t);n.blockAd=qq.createBlockAd({adUnitId:u.QQConst.param_block,style:{left:a.x,top:a.y},size:e,orientation:"landscape"}),n.blockAd.onLoad(function(){console.log("blockAd onLoad")}),n.blockAd.onError(function(t,e){console.log("blockAd onError",t,e)}),n.blockAd.onResize(function(t){console.log("blockAd onResize",t);var e=wx.getSystemInfoSync().screenWidth;n.blockAd.style.left=(e-t.width)/2}),n.blockAd.show()}},1e3)},e.prototype.blockAdHide=function(){this.isShowing=!1,null!=this.blockAd&&(this.blockAd.hide(),this.blockAd.destroy(),this.blockAd=null)},e.prototype.getMenuButtonBottom=function(){return qq.getMenuButtonBoundingClientRect().top/cc.view.getFrameSize().height*cc.winSize.height},e.prototype.isSupportDesktop=function(){return!0},e.prototype.saveAppToDesktop=function(t,e){qq.saveAppToDesktop({success:function(){t&&t()},fail:function(){e&&e()}})},e.prototype.addToFavorites=function(t,e){qq.addToFavorites({title:"\u6dfb\u52a0\u6536\u85cf\u6807\u9898",imageUrl:"",query:"a=1&b=2",success:function(e){console.log("addToFavorites success",e),t&&t()},fail:function(t){console.log("addToFavorites fail",t),e&&e()},complete:function(t){console.log("addToFavorites info",t)}})},e.prototype.addColorSign=function(t,e){qq.addColorSign({success:function(){t&&t()},fail:function(){e&&e()}})},e.prototype.toGame=function(t,e){qq.navigateToMiniProgram({appId:t,success:function(){e&&e()}})},e.prototype.isSupportPrivacy=function(){return!0},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),c.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e(),c.default.setVideoCount()},n)):"BANNER"==t?c.default.isShowBannerAd&&this.bannerAdShow():"BANNERCLOSE"==t?c.default.isShowBannerAd&&this.bannerAdHide():"INTER"==t&&c.default.isShowInterAd&&c.default.interTime<=0&&(c.default.interTime=30,this.interstitialAdShow())},e}(p.default);n.default=f,cc._RF.pop()},{"../Tools/ServerUtil":"ServerUtil","../core/util/Utils":"Utils","../record/GameSys":"GameSys","./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],QuickFight:[function(t,e,n){"use strict";cc._RF.push(e,"8ef3ddK+6JH9ovg2zpL9VCY","QuickFight");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("./TipGroup"),h=t("./UIBase"),y=t("./UIManager"),g=cc._decorator,v=g.ccclass,m=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Layout=null,e.GetBtn=null,e.Count=null,e.Reward=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init()},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return(t=p.default.getQuickFight())>0?(this.Layout.active=!1,this.GetBtn.active=!0,this.Count.node.parent.active=!0):(this.Layout.active=!0,this.GetBtn.active=!1,this.Count.node.parent.active=!1),this.Count.string=t+"/3",[4,l.default.Instance.GetOutPut()];case 1:return e=2700*n.sent(),this.Reward.string="\xd7"+d.default.refSetCoin(e),[2]}})})},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return u.default.instance.play(u.Sound.Click),p.default.setQuickFight(),[4,l.default.Instance.GetOutPut()];case 1:return t=2700*e.sent(),y.default.Instance.ChangeCoin(t),this.init(),[2]}})})},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.ClickAdd=function(){var t=this;u.default.instance.play(u.Sound.Click),d.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return p.default.setQuickFight(),[4,l.default.Instance.GetOutPut()];case 1:return t=2700*e.sent(),y.default.Instance.ChangeCoin(t),this.CloseThis(),[2]}})})},function(){f.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-1)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},r([m(cc.Node)],e.prototype,"Layout",void 0),r([m(cc.Node)],e.prototype,"GetBtn",void 0),r([m(cc.Label)],e.prototype,"Count",void 0),r([m(cc.Label)],e.prototype,"Reward",void 0),r([v],e)}(h.default);n.default=b,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],RealmPanel:[function(t,e,n){"use strict";cc._RF.push(e,"f8d5fmmNghCi62PGE51nFVj","RealmPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/SoundManager"),c=t("../record/GameSys"),l=t("./UIBase"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Content=null,e.List=null,e.sprite=[],e.banner=[],e.realm=["realm1","realm2","realm3","realm4","realm5","realm6","realm7","realm8","realm9","realm10","realm11","realm12","realm13","realm14","realm15","realm16","realm17","realm18","realm19","realm20"],e}return o(e,t),e.prototype.onLoad=function(){this.Content=this.node.getChildByName("Content"),this.List=this.Content.getChildByName("list")},e.prototype.onEnable=function(){t.prototype.onEnable.call(this);for(var e=c.default.getLevel(),n=Math.floor((e-1)/10),a=0;a<this.List.children.length;a++)a==n?(this.List.children[a].getChildByName("point").getComponent(cc.Sprite).spriteFrame=this.sprite[0],this.List.children[a].getChildByName("banner").getComponent(cc.Sprite).spriteFrame=this.banner[0]):(this.List.children[a].getChildByName("point").getComponent(cc.Sprite).spriteFrame=this.sprite[1],this.List.children[a].getChildByName("banner").getComponent(cc.Sprite).spriteFrame=this.banner[1]),this.List.children[a].getChildByName("realm").getComponent(cc.Label).string=i.i18nMgr.getLabel(this.realm[a])},e.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([d(cc.SpriteFrame)],e.prototype,"sprite",void 0),r([d(cc.SpriteFrame)],e.prototype,"banner",void 0),r([p],e)}(l.default);n.default=f,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./UIBase":"UIBase"}],RecordPanel:[function(t,e,n){"use strict";cc._RF.push(e,"e6359rp9LdMbp6/UGCD8omE","RecordPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GiftDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TipGroup"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Item=[],e.Share=null,e.Recoder=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,Promise,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return t.prototype.onEnable.call(this),999999==(e=p.default.Instance.getGift(8)).item1?[3,3]:(this.Item[0].active=!0,n=d.default.Instance.GetProp(e.item1),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage("Bundle",a)]);case 1:o=i.sent(),i.label=2;case 2:return this.Item[0].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,this.Item[0].getChildByName("name").getComponent(cc.Label).string=n.name,r=this.CanGetNum(n,e.item1Num),this.Item[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,4];case 3:this.Item[0].active=!1,i.label=4;case 4:return 999999==e.item2?[3,7]:(this.Item[1].active=!0,n=d.default.Instance.GetProp(e.item2),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,6]:[4,g.default.loadImage("Bundle",a)]);case 5:o=i.sent(),i.label=6;case 6:return this.Item[1].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,this.Item[1].getChildByName("name").getComponent(cc.Label).string=n.name,r=this.CanGetNum(n,e.item2Num),this.Item[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,8];case 7:this.Item[1].active=!1,i.label=8;case 8:return 999999==e.item3?[3,11]:(this.Item[2].active=!0,n=d.default.Instance.GetProp(e.item3),a="PropIcon/"+n.icon,(o=g.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,10]:[4,g.default.loadImage("Bundle",a)]);case 9:o=i.sent(),i.label=10;case 10:return this.Item[2].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=o,this.Item[2].getChildByName("name").getComponent(cc.Label).string=n.name,r=this.CanGetNum(n,e.item3Num),this.Item[2].getChildByName("num").getComponent(cc.Label).string="\xd7"+g.default.refSetCoin(r),[3,12];case 11:this.Item[2].active=!1,i.label=12;case 12:return this.Recoder.active=0==h.default.isdorecorder,this.Share.active=2==h.default.isdorecorder,[2]}})})},e.prototype.CanGetNum=function(t,e){return 1==t.type?u.default.Instance.GetOutPut()*e:2==t.type?l.default.Instance.GetOutPut()*e:e},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis()},e.prototype.ClickRecorder=function(){f.default.instance.play(f.Sound.Click),g.default.getSdk().recorderStart(),this.CloseThis()},e.prototype.ClickGet=function(){var t=this;f.default.instance.play(f.Sound.Click),h.default.isdorecorder=0,cc.systemEvent.emit(y.EventConst.Recorder),g.default.getSdk().shareRecorder(0,function(){return i(t,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=[],999999!=(e=p.default.Instance.getGift(8)).item1&&(n=d.default.Instance.GetProp(e.item1),t.push({prop:n,have:e.item1Num})),999999!=e.item2&&(n=d.default.Instance.GetProp(e.item2),t.push({prop:n,have:e.item2Num})),999999!=e.item3&&(n=d.default.Instance.GetProp(e.item3),t.push({prop:n,have:e.item3Num})),[4,S.default.Instance.ShowUI(v.default.RewardPanel)];case 1:return a.sent(),S.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t),h.default.setShareRecorder(),this.CloseThis(),c.default.instance.initRecorder(),[2]}})})},function(){b.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},r([M(cc.Node)],e.prototype,"Item",void 0),r([M(cc.Node)],e.prototype,"Share",void 0),r([M(cc.Node)],e.prototype,"Recoder",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GiftDataManager":"GiftDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],Recorder:[function(t,e,n){"use strict";cc._RF.push(e,"1f353rT4whCcYD8AENnEdb0","Recorder"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("./LocalRecorder"),o=t("./CloudRecorder"),r=t("./GameSys"),i=function(){function t(){}return t.init=function(t,e,n){if(this.localRecorder=new a.default,t){this.cloudRecorder=new o.default(t,e,n),console.log("\u670d\u52a1\u5668\u5b58\u6863\u6570\u636e:",this.cloudRecorder.data);var i=this.cloudRecorder.readData("PI_SAVETIME"),s=this.localRecorder.readData("PI_SAVETIME"),c=!1;if(console.log("serverTimeStr\uff1a",i,"localTimeStr:",s),i){var l=parseInt(i);s?l>parseInt(s)&&(c=!0):c=!0}c?(console.log("\u670d\u52a1\u5668\u6863:"+i),this.readRecrder=this.cloudRecorder):(console.log("\u672c\u5730\u6863:"+s),this.readRecrder=this.localRecorder)}else console.log("\u672a\u767b\u5f55"),this.readRecrder=this.localRecorder;r.default.LoadGameDate()},t.writeData=function(t,e){this.localRecorder.writeData(t,e),this.cloudRecorder&&this.cloudRecorder.writeData(t,e)},t.writeDatas=function(t){this.localRecorder.writeDatas(t),this.cloudRecorder&&this.cloudRecorder.writeDatas(t)},t.flush=function(){this.cloudRecorder&&this.cloudRecorder.flush()},t.writeToAnotherRecorder=function(t,e){e&&this.cloudRecorder&&(this.readRecrder==this.cloudRecorder?this.localRecorder.writeData(t,e):this.cloudRecorder.writeData(t,e))},t.readString=function(t,e){var n=this.readRecrder.readData(t);return n?(this.writeToAnotherRecorder(t,n),n):e},t.readArray=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readintArray=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readDisciple=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readEveryDay=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readobjArray=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readGarden=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readMagic=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readInt=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=Number(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readObject=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readBool=function(t,e){var n=this.readRecrder.readData(t);if(n){var a="true"==n;return this.writeToAnotherRecorder(t,a),a}return e},t.readpack=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.readCallerEvent=function(t,e){var n=this.readRecrder.readData(t);if(n){var a=JSON.parse(n);return this.writeToAnotherRecorder(t,a),a}return e},t.recordVersion=1,t}();n.default=i,cc._RF.pop()},{"./CloudRecorder":"CloudRecorder","./GameSys":"GameSys","./LocalRecorder":"LocalRecorder"}],RedAni:[function(t,e,n){"use strict";cc._RF.push(e,"e49d79aNGZHO5/eI6hwa8zJ","RedAni");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.Tween()},e.prototype.Tween=function(){var t=cc.tween(this.node).delay(.5).to(.3,{angle:30}).to(.3,{angle:-30}).to(.15,{angle:0});cc.tween(this.node).repeatForever(t).start()},e.prototype.start=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],RefBox:[function(t,e,n){"use strict";cc._RF.push(e,"9c8c5qQFu1K/bS5IVK+F4HH","RefBox");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/SoundManager"),c=t("../record/GameSys"),l=t("../Tools/GameTools"),u=t("./RoamPanel"),p=t("./TipGroup"),d=t("./UIBase"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},e.prototype.ClickRef=function(){var t=this;s.default.instance.play(s.Sound.Click),l.default.getSdk().PlatformCallBack("REWARD",function(){for(var e=c.default.getRoamBox(),n=c.default.getRoamBoxIsGet(),a=0;a<n.length;a++)0!=e[a]&&(n[a]=1);c.default.setRoamBoxIsGet(n),u.default.instance.initBox(),t.CloseThis()},function(){p.default.instance.setText(-1,i.i18nMgr.getLabel("title148"))},-7)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},r([y(cc.Label)],e.prototype,"label",void 0),r([y],e.prototype,"text",void 0),r([h],e)}(d.default);n.default=g,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./RoamPanel":"RoamPanel","./TipGroup":"TipGroup","./UIBase":"UIBase"}],ReincarnPanel:[function(t,e,n){"use strict";cc._RF.push(e,"34d98QqkmdIc4kasrAAwH/L","ReincarnPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../GameGroup/PracticeGroup"),s=t("../i18n/i18nMgr"),c=t("../Manager/CoinOutPutDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/EventConst"),d=t("../Tools/GameTools"),f=t("./PanelConst"),h=t("./TipGroup"),y=t("./UIBase"),g=t("./UIManager"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.award=null,e.Labellist=[],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init()},e.prototype.init=function(){var t=c.default.Instance.GetExchangeCrystal();this.award.string="+"+d.default.refSetCoin(t);for(var e=u.default.getReincarnAdd(),n=0;n<this.Labellist.length;n++)n<e?(this.Labellist[n].string=""+s.i18nMgr.getLabel("Activated"),this.Labellist[n].node.color=cc.color().fromHEX("#33B021")):(this.Labellist[n].string=""+s.i18nMgr.getLabel("noactive"),this.Labellist[n].node.color=cc.color().fromHEX("#DC4646"))},e.prototype.ClickReincarn=function(){l.default.instance.play(l.Sound.Click),u.default.getLevel()<61?h.default.instance.setText(-1,s.i18nMgr.getLabel("title229")):(u.default.setReincarnCount(),this.Reincarn(),this.CloseThis())},e.prototype.Reincarn=function(){var t=u.default.getLevel();if(t>=61){var e=1+Math.floor((t-61)/10);u.default.getReincarnAdd()<e&&u.default.setReincarnAdd(e)}var n=c.default.Instance.GetExchangeCrystal();g.default.Instance.ChangeCrystal(n),u.default.setDevil(0),u.default.setLevel(1),g.default.Instance.ChangeCoin(-u.default.getCoin()),cc.systemEvent.emit(p.EventConst.Maps),i.default.instance.initVisualize(),i.default.instance.initRealm(),i.default.instance.initRole(),i.default.instance.initBreak(),i.default.instance.initNextNeed(),g.default.Instance.ShowUI(f.default.ReincarnSp),d.default.getSdk().sendEvent("returnFate",{message:"\u6210\u529f\u8f6e\u56de"})},e.prototype.start=function(){},e.prototype.ClickOff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis(),g.default.Instance.ShowInter()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([b(cc.Label)],e.prototype,"award",void 0),r([b(cc.Label)],e.prototype,"Labellist",void 0),r([m],e)}(y.default);n.default=_,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],ReincarnSp:[function(t,e,n){"use strict";cc._RF.push(e,"690c6t9BYpAcJXq9CP39zWa","ReincarnSp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../record/GameSys"),l=t("../Tools/EventConst"),u=t("./UIBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},e.prototype.onEnable=function(){var t=this;this.Sp.setAnimation(0,"lunhui",!1),this.Sp.setCompleteListener(function(){return i(t,void 0,void 0,function(){return s(this,function(){return this.CloseThis(),1==c.default.getReincarnCount()&&cc.systemEvent.emit(l.EventConst.Game_Up),[2]})})})},e.prototype.start=function(){},r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Tools/EventConst":"EventConst","../record/GameSys":"GameSys","./UIBase":"UIBase"}],RewardPanel:[function(t,e,n){"use strict";cc._RF.push(e,"3b957CrvUJFQZgUuQeGIlR1","RewardPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/ArtifactsDataManager"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/PropDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=t("./rewardItem"),y=t("./UIBase"),g=t("./UIManager"),v=cc._decorator,m=v.ccclass,b=(v.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine1=null,e.spine2=null,e.layout=null,e.Content=null,e.coin=0,e.callback=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.spine1=t.getChildByName("spine1").getComponent(sp.Skeleton),this.spine2=t.getChildByName("spine2").getComponent(sp.Skeleton),this.Content=t.getChildByName("content"),this.layout=t.getChildByName("content").getChildByName("ScrollView").getChildByName("view").getChildByName("content")},e.prototype.onEnable=function(){var t=this;this.Content.active=!1,this.layout.childrenCount>0&&this.layout.destroyAllChildren(),this.spine1.setAnimation(0,"get_in",!1),this.spine1.setCompleteListener(function(){"get_in"==t.spine1.animation&&t.spine1.setAnimation(0,"get_loop",!1)}),this.spine2.setAnimation(0,"in",!1),this.spine2.setCompleteListener(function(){"in"==t.spine2.animation&&t.spine2.setAnimation(0,"loop",!1)}),setTimeout(function(){t.Content.active=!0},500),f.default.getSdk().PlatformCallBack("BANNER")},e.prototype.initAsset=function(t,e){this.callback=e;for(var n=0;n<t.length;n++)this.CreatorProp().getComponent(h.default).init(t[n],n);this.GetAward(t)},e.prototype.CreatorProp=function(){var t=d.default.rewardItem.get();return t.setParent(this.layout),t},e.prototype.GetAward=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:e=[],n=0,s.label=1;case 1:return n<t.length?1!=t[n].prop.type?[3,3]:[4,l.default.Instance.GetOutPut()]:[3,5];case 2:return a=s.sent()*t[n].have,g.default.Instance.GetCoin(a),[3,4];case 3:2==t[n].prop.type?(o=c.default.Instance.GetOutPut()*t[n].have,g.default.Instance.GetJewel(o)):3==t[n].prop.type?(r=t[n].have,g.default.Instance.ChangeCrystal(r)):4==t[n].prop.type?(i=t[n].have,g.default.Instance.GetJade(i)):e.push(t[n]),s.label=4;case 4:return n++,[3,1];case 5:return e.length>0&&u.default.Instance.addPack(e),[2]}})})},e.prototype.ClickOff=function(){return i(this,void 0,void 0,function(){return s(this,function(){return p.default.instance.play(p.Sound.Click),this.CloseThis(),[2]})})},e.prototype.CloseThis=function(){this.callback&&this.callback(),t.prototype.CloseThis.call(this),f.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([m],e)}(y.default));n.default=b,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./UIBase":"UIBase","./UIManager":"UIManager","./rewardItem":"rewardItem"}],RoamBox:[function(t,e,n){"use strict";cc._RF.push(e,"035baKfsfVJAq1kmC4QOdTe","RoamBox"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],RoamChallenge:[function(t,e,n){"use strict";cc._RF.push(e,"fab5bdNzNlIF6hC3Ow+ORJT","RoamChallenge");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/MagicDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../Tools/GameTools"),y=t("./TipGroup"),g=t("./UIBase"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prop=null,e.placeName=null,e.palceIcon=null,e.icon=null,e.iconName=null,e.iconNum=null,e.info=null,e.data=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.palceIcon=t.getChildByName("palceIcon").getComponent(cc.Sprite),this.placeName=t.getChildByName("name").getComponent(cc.Label)},e.prototype.start=function(){},e.prototype.init=function(t,e,n,a,o){return i(this,void 0,void 0,function(){var r,i,c,f,y,g,v,m,b,_,S,C;return s(this,function(s){switch(s.label){case 0:return this.data=e,this.success=a,this.fail=o,r="Landmark/"+t,(i=h.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("Bundle",r)];case 1:i=s.sent(),s.label=2;case 2:return this.palceIcon.spriteFrame=i,this.placeName.string=e.name,c=d.default.Instance.GetProp(e.awardItem1),f="PropIcon/"+c.icon,(y=h.default.GetRes("Bundle",f,cc.SpriteFrame))?[3,4]:[4,h.default.loadImage("Bundle",f)];case 3:y=s.sent(),s.label=4;case 4:return this.info.string="      "+e.context,this.icon.spriteFrame=y,this.iconName.string=""+c.name,g=0,1!=c.type?[3,6]:[4,u.default.Instance.GetOutPut()];case 5:return g=s.sent()*e.awardItem1Num*p.default.Instance.getAddRoam(),[3,7];case 6:g=2==c.type?l.default.Instance.GetOutPut()*e.awardItem1Num*p.default.Instance.getAddRoam():e.awardItem1Num*p.default.Instance.getAddRoam(),s.label=7;case 7:return this.iconNum.string="+"+h.default.refSetCoin(g),n?(v=d.default.Instance.GetProp(e.awardItem2),m="PropIcon/"+v.icon,(b=h.default.GetRes("Bundle",m,cc.SpriteFrame))?[3,9]:[4,h.default.loadImage("Bundle",m)]):[3,15];case 8:b=s.sent(),s.label=9;case 9:return this.prop.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=b,_="PropFrame/"+v.rank,(S=h.default.GetRes("Bundle",_,cc.SpriteFrame))?[3,11]:[4,h.default.loadImage("Bundle",_)];case 10:S=s.sent(),s.label=11;case 11:return this.prop.getChildByName("frame").getComponent(cc.Sprite).spriteFrame=S,this.prop.getChildByName("name").getComponent(cc.Label).string=v.name,C=0,1!=v.type?[3,13]:[4,u.default.Instance.GetOutPut()];case 12:return C=s.sent()*e.awardItem1Num*p.default.Instance.getAddRoam(),[3,14];case 13:C=2==v.type?l.default.Instance.GetOutPut()*e.awardItem1Num*p.default.Instance.getAddRoam():e.awardItem1Num*p.default.Instance.getAddRoam(),s.label=14;case 14:return this.prop.getChildByName("num").getComponent(cc.Label).string="\xd7"+h.default.refSetCoin(C),this.prop.active=!0,[3,16];case 15:this.prop.active=!1,s.label=16;case 16:return[2]}})})},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.ClickChallange=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.success()},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),y.default.instance.setText(-1,c.i18nMgr.getLabel("title230")+"+"+this.data.exp),this.CloseThis(),this.fail()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([b(cc.Node)],e.prototype,"prop",void 0),r([b(cc.Sprite)],e.prototype,"icon",void 0),r([b(cc.Label)],e.prototype,"iconName",void 0),r([b(cc.Label)],e.prototype,"iconNum",void 0),r([b(cc.Label)],e.prototype,"info",void 0),r([m],e)}(g.default);n.default=_,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase"}],RoamDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"2bdf4XXjr9Oi4YOnjS+P9BX","RoamDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/RoamBox"),l=t("../Data/RoamData"),u=t("../Data/RoamUp"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("./SingleBase"),h=cc._decorator,y=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roamdata=new Array,e.roamupdata=new Array,e.roamboxdata=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,p,f,h,y,g;return s(this,function(s){switch(s.label){case 0:return null!=(t=d.default.GetRes("JsonBundle","yunyou_event",cc.JsonAsset))?[3,2]:[4,d.default.loadJson("JsonBundle","yunyou_event")];case 1:return e=s.sent(),[3,3];case 2:e=t.json,s.label=3;case 3:for(n=e.length,h=0;h<n;h++)y=e[h],(g=new l.default).id=y.id,g.name=y.name,g.level=y.level,g.levelUpCondition=y.levelUpCondition,g.exp=y.exp,g.inMap=y.inMap,g.eventType=y.eventType,g.awardItem1=y.awardItem1,g.awardItem1Num=y.awardItem1Num,g.awardItem2=y.awardItem2,g.awardItem2Num=y.awardItem2Num,g.awardItem2Prob=y.awardItem2Prob,g.enemy=y.enemy,g.enemyNum=y.enemyNum,g.boss=y.boss,g.bossNum=y.bossNum,g.context=y.context,this.roamdata.push(g);return null!=(a=d.default.GetRes("JsonBundle","yunyou_road",cc.JsonAsset))?[3,5]:[4,d.default.loadJson("JsonBundle","yunyou_road")];case 4:return o=s.sent(),[3,6];case 5:o=a.json,s.label=6;case 6:for(r=o.length,h=0;h<r;h++)y=o[h],(g=new u.default).id=y.id,g.scene=y.name,g.needexp=y.need,this.roamupdata.push(g);return null!=(i=d.default.GetRes("JsonBundle","yunyou_treasure",cc.JsonAsset))?[3,8]:[4,d.default.loadJson("JsonBundle","yunyou_treasure")];case 7:return p=s.sent(),[3,9];case 8:p=i.json,s.label=9;case 9:for(f=p.length,h=0;h<f;h++)y=p[h],(g=new c.default).id=y.id,g.name=y.name,g.awardID=y.awardID,g.value=y.awardNum,g.probability=y.probability,g.exp=y.exp,this.roamboxdata.push(g);return[2]}})})},e.prototype.GetPosRole=function(){for(var t=[],e=0;e<this.roamboxdata.length;e++){t.push(0);for(var n=0;n<=e;n++)t[e]+=this.roamboxdata[n].probability}var a=0;for(e=0;e<t.length;e++)a=t[e];var o=Math.random();if(o>a)return 0;for(e=0;e<t.length;e++)if(o<=t[e])return this.roamboxdata[e].id},e.prototype.GetBoxRole=function(t){for(var e=0;e<this.roamboxdata.length;e++)if(this.roamboxdata[e].id==t)return this.roamboxdata[e]},e.prototype.GetArea=function(t){return this.roamupdata[t]},e.prototype.GetLandmark=function(t){for(var e=p.default.getLandmark()[t],n=[],a=0;a<this.roamdata.length;a++)a>=5*t&&a<5*t+5&&n.push(this.roamdata[a]);for(a=0;a<n.length;a++){if(e<n[a].levelUpCondition)return n[a];if(a>=n.length-1)return n[a]}},e.prototype.GetNowAlea=function(){for(var t=p.default.getRoamExp(),e=0;e<this.roamupdata.length;e++){if(t<this.roamupdata[e].needexp)return e;if(e>=this.roamupdata.length-1)return e}},n=r([y],e)}(f.default));n.default=g,cc._RF.pop()},{"../Data/RoamBox":"RoamBox","../Data/RoamData":"RoamData","../Data/RoamUp":"RoamUp","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],RoamData:[function(t,e,n){"use strict";cc._RF.push(e,"650eaUlHVFMmqiKGlbKA2j4","RoamData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],RoamLandmark:[function(t,e,n){"use strict";cc._RF.push(e,"a0625xRh4hOcIBHs/H3CnHO","RoamLandmark");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/RoamDataManager"),l=t("../record/GameSys"),u=t("../Tools/EventConst"),p=t("../Tools/GameTools"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return o(e,t),e.prototype.onLoad=function(){this.level=this.node.getChildByName("layout").getChildByName("lv").getComponent(cc.Label),this.progress=this.node.getChildByName("progress").getChildByName("filled").getComponent(cc.Sprite),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite)},e.prototype.start=function(){cc.systemEvent.on(u.EventConst.Landmark,this.init,this)},e.prototype.onEnable=function(){this.init()},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t=c.default.Instance.GetLandmark(this.index),this.level.string="Lv"+t.level,this.progress.fillRange=l.default.getLandmark()[this.index]/t.levelUpCondition,e="Landmark/"+this.index,(n=p.default.GetRes("Bundle",e,cc.SpriteFrame))?[3,2]:[4,p.default.loadImage("Bundle",e)];case 1:n=a.sent(),a.label=2;case 2:return this.icon.spriteFrame=n,this.icon.node.width<200&&(this.icon.node.scale=2),[2]}})})},r([h({displayName:"\u5730\u6807\u5e8f\u53f7"})],e.prototype,"index",void 0),r([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../Manager/RoamDataManager":"RoamDataManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],RoamNewLine:[function(t,e,n){"use strict";cc._RF.push(e,"070e3bZXPREs50RZuLbL9zG","RoamNewLine");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/RoamDataManager"),p=t("../Manager/SoundManager"),d=t("../Tools/GameTools"),f=t("./TipGroup"),h=t("./UIBase"),y=t("./UIManager"),g=cc._decorator,v=g.ccclass,m=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.place=null,e.placeName=null,e.oneNum=null,e.doubleNum=null,e.reward=0,e.str=["\u540e\u5c71","\u767e\u82b1\u8c37","\u5d69\u5c71\u9053","\u96fe\u6d77\u957f\u5eca","\u5f69\u971e\u5173","\u4e00\u7ebf\u5929"],e}return o(e,t),e.prototype.onLoad=function(){this.place=this.node.getChildByName("Content").getChildByName("palceIcon").getComponent(cc.Sprite),this.placeName=this.node.getChildByName("Content").getChildByName("name").getComponent(cc.Label),this.oneNum=this.node.getChildByName("Content").getChildByName("one").getChildByName("iconNum").getComponent(cc.Label),this.doubleNum=this.node.getChildByName("Content").getChildByName("double").getChildByName("iconNum").getComponent(cc.Label)},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o;return s(this,function(r){switch(r.label){case 0:return this.callback=t,e=u.default.Instance.GetNowAlea(),n="Place/0"+e,(a=d.default.GetRes("Bundle",n,cc.SpriteFrame))?[3,2]:[4,d.default.loadImage("Bundle",n)];case 1:a=r.sent(),r.label=2;case 2:return this.place.spriteFrame=a,this.placeName.string=""+this.str[e],o=this,[4,l.default.Instance.GetOutPut()];case 3:return o.reward=20*r.sent(),this.oneNum.string="\xd7"+d.default.refSetCoin(this.reward),this.doubleNum.string="\xd7"+d.default.refSetCoin(2*this.reward),[2]}})})},e.prototype.ClickOne=function(){p.default.instance.play(p.Sound.Click),this.CloseThis(),y.default.Instance.ChangeCoin(this.reward),this.callback()},e.prototype.ClickDouble=function(){var t=this;p.default.instance.play(p.Sound.Click),d.default.getSdk().PlatformCallBack("REWARD",function(){t.CloseThis(),y.default.Instance.ChangeCoin(2*t.reward),t.callback()},function(){f.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-6)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},r([v],e)}(h.default));n.default=m,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/RoamDataManager":"RoamDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],RoamPanel:[function(t,e,n){"use strict";cc._RF.push(e,"b71d7Qf1X9B1qOPqOma2w37","RoamPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/MagicDataManager"),u=t("../Manager/PropDataManager"),p=t("../Manager/RoamDataManager"),d=t("../Manager/SoundManager"),f=t("../record/GameSys"),h=t("../Tools/EventConst"),y=t("../Tools/GameTools"),g=t("./FightPanel"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./RoamChallenge"),_=t("./RoamNewLine"),S=t("./RoamPos"),C=t("./RoamReward"),w=t("./TipGroup"),M=t("./UIBase"),P=t("./UIManager"),k=cc._decorator,I=k.ccclass,T=k.property,G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.video=null,e.Line=null,e.posArray=[],e.landmark=[],e.Chess=null,e.Have=null,e.Time=null,e.diceSk=null,e.diceSp=null,e.roam=null,e.placeName=null,e.progress=null,e.nextplaceName=null,e.tips=null,e.Maplevel=null,e.guideSp=null,e.move=!1,e.pos=0,e.level=0,e.place=["title276","title277","title278","title279","title280","title281"],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;this.pos=f.default.getPos(),this.initRoam(),this.initMap(),this.initDiceHave(),this.initMessage(),cc.systemEvent.emit(h.EventConst.initChessPos,this.Chess.getPosition()),d.default.instance.play(d.Sound.BGM2),f.default.getRoamCount()<=0?(this.guideSp.active=!0,setTimeout(function(){t.guideSp.active=!1},2e3)):this.guideSp.active=!1},e.prototype.initMap=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:return t=p.default.Instance.GetNowAlea(),this.Line.children[t].childrenCount<=0?(e="Prefabs/item/map"+(t+1),(n=y.default.GetRes("Bundle",e,cc.Prefab))?[3,2]:[4,y.default.loadPrefab("Bundle",e)]):[3,3];case 1:n=s.sent(),s.label=2;case 2:cc.instantiate(n).setParent(this.Line.children[t]),s.label=3;case 3:for(i=0;i<this.Line.childrenCount;i++)this.Line.children[i].active=i==t;for(this.posArray=[],a=this.Line.children[t].children[0],i=0;i<a.childrenCount;i++)this.posArray.push(a.children[i]);if(o=f.default.getRoamBox(),r=f.default.getRoamBoxIsGet(),o.length<=0||o.length!=this.posArray.length){for(o=[],r=[],i=0;i<this.posArray.length;i++)c=this.posArray[i].getComponent(S.default).initpos(),o.push(c),r.push(1);f.default.setRoamBox(o),f.default.setRoamBoxIsGet(r)}return this.initBox(),this.initChess(),[2]}})})},e.prototype.initRoam=function(){for(var t=p.default.Instance.GetNowAlea(),e=0;e<this.roam.childrenCount;e++)this.roam.children[e].active=!(t>=e)},e.prototype.initChess=function(){var t=this.posArray[this.pos].getPosition(),e=this.posArray[this.pos].parent.convertToWorldSpaceAR(t),n=this.Chess.parent.convertToNodeSpaceAR(e);this.Chess.setPosition(n)},e.prototype.initBox=function(){for(var t=0;t<this.posArray.length;t++)this.posArray[t].getComponent(S.default).initBox()},e.prototype.initDiceHave=function(){this.Have.string="("+f.default.getDiceNum()+"/10)",f.default.getDiceNum()>0?this.video.active=!1:this.video.active=!0},e.prototype.initDiceTime=function(){this.Time&&(this.Time.string=y.default.hour_min_secTimeFuncion(f.default.getDiceTime())),this.initDiceHave()},e.prototype.reftime=function(){},e.prototype.ClickDice=function(){var t=this;d.default.instance.play(d.Sound.Click),this.move?w.default.instance.setText(-1,c.i18nMgr.getLabel("title332")):f.default.getDiceNum()<=0?y.default.getSdk().PlatformCallBack("REWARD",function(){f.default.setDiceNum(10),w.default.instance.setText(-1,c.i18nMgr.getLabel("title232")+"+10"),t.initDiceHave()},function(){w.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-5):(this.level=p.default.Instance.GetNowAlea(),this.diceSk.setAnimation(0,"shaizidonghua",!1),this.diceSp.node.active=!1,this.move=!0,setTimeout(function(){return i(t,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:return f.default.setDiceNum(-1),t=Math.floor(6*Math.random())+1,e=[1,4,4],f.default.getRoamCount()<3&&(t=e[f.default.getRoamCount()]),f.default.setRoamCount(),y.default.getSdk().sendEvent("flyTime",{message:"\u4e91\u6e38\u6b21\u6570",count:f.default.getRoamCount()}),cc.systemEvent.emit(h.EventConst.GAME_CHESS_MOVE,this.Chess),this.GoMove(t),this.diceSp.node.active=!0,n="Roam/touzi_"+t,(a=y.default.GetRes("SpriteBundle1",n,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("SpriteBundle1",n)];case 1:a=o.sent(),o.label=2;case 2:return this.diceSp.spriteFrame=a,[2]}})})},500))},e.prototype.GoMove=function(t){var e=this;t--,this.pos--,this.pos<0&&(this.pos=this.posArray.length-1);var n=this.posArray[this.pos].getPosition(),a=this.posArray[this.pos].parent.convertToWorldSpaceAR(n),o=this.Chess.parent.convertToNodeSpaceAR(a);o.x>this.Chess.x?this.Chess.scaleX=-1:this.Chess.scaleX=1,cc.tween(this.Chess).to(.3,{x:o.x,y:o.y}).call(function(){t<=0?(e.move=!1,e.Settlement(),e.initDiceHave(),f.default.getDiceTime()<=0&&f.default.setDiceTime(300),cc.systemEvent.emit(h.EventConst.GAME_CHESS_END)):e.GoMove(t)}).start()},e.prototype.Settlement=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,d,y,_,M=this;return s(this,function(k){switch(k.label){case 0:if(f.default.setPos(this.pos),!(t=this.posArray[this.pos].getComponent(S.default)).type)return[3,6];switch(e=p.default.Instance.GetLandmark(t.index),cc.systemEvent.emit(h.EventConst.Landmark),n=!1,a=Math.random(),e.eventType){case"\u8bbf\u95ee":return[3,1];case"\u6218\u6597":return[3,3]}return[3,5];case 1:return f.default.setLandmark(t.index),f.default.setRoamExp(e.exp),w.default.instance.setText(-1,c.i18nMgr.getLabel("title234")+"+"+e.exp),a<=e.awardItem2Prob&&(n=!0),[4,P.default.Instance.ShowUI(v.default.RoamReward)];case 2:return k.sent(),P.default.Instance.GetClass(v.default.RoamReward).getComponent(C.default).init(t.index,e,n,function(t){return i(M,void 0,void 0,function(){var a,o,r,i,c=this;return s(this,function(s){switch(s.label){case 0:switch((a=[]).push(),o=null,e.awardItem1){case 1:o=u.default.Instance.GetCoinProp(),t?a.push({prop:o,have:2*e.awardItem1Num*l.default.Instance.getAddRoam()}):a.push({prop:o,have:e.awardItem1Num*l.default.Instance.getAddRoam()});break;case 2:o=u.default.Instance.GetJewelProp(),t?a.push({prop:o,have:2*e.awardItem1Num*l.default.Instance.getAddRoam()}):a.push({prop:o,have:e.awardItem1Num*l.default.Instance.getAddRoam()});break;default:o=u.default.Instance.GetProp(e.awardItem1),t?a.push({prop:o,have:2*e.awardItem1Num*l.default.Instance.getAddRoam()}):a.push({prop:o,have:e.awardItem1Num*l.default.Instance.getAddRoam()})}return n&&(t?(r=u.default.Instance.GetProp(e.awardItem2),a.push({prop:r,have:2*e.awardItem2Num*l.default.Instance.getAddRoam()})):(i=u.default.Instance.GetProp(e.awardItem2),a.push({prop:i,have:e.awardItem2Num*l.default.Instance.getAddRoam()}))),[4,P.default.Instance.ShowUI(v.default.RewardPanel)];case 1:return s.sent(),P.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(a,function(){c.isUnlock()}),[2]}})})}),[3,5];case 3:return f.default.setLandmark(t.index),f.default.setRoamExp(e.exp),a<=e.awardItem2Prob&&(n=!0),[4,P.default.Instance.ShowUI(v.default.RoamChallenge)];case 4:return k.sent(),P.default.Instance.GetClass(v.default.RoamChallenge).getComponent(b.default).init(t.index,e,n,function(){return i(M,void 0,void 0,function(){var t=this;return s(this,function(a){switch(a.label){case 0:return[4,P.default.Instance.ShowUI(v.default.FightPanel)];case 1:return a.sent(),P.default.Instance.GetClass(v.default.FightPanel).getComponent(g.default).Roaminit(e,function(){return i(t,void 0,void 0,function(){var t,a,o,r=this;return s(this,function(i){switch(i.label){case 0:return[4,P.default.Instance.ShowUI(v.default.RoamPanel)];case 1:switch(i.sent(),(t=[]).push(),a=null,e.awardItem1){case 1:a=u.default.Instance.GetCoinProp(),t.push({prop:a,have:e.awardItem1Num*l.default.Instance.getAddRoam()});break;case 2:a=u.default.Instance.GetJewelProp(),t.push({prop:a,have:e.awardItem1Num*l.default.Instance.getAddRoam()});break;default:a=u.default.Instance.GetProp(e.awardItem1),t.push({prop:a,have:e.awardItem1Num*l.default.Instance.getAddRoam()})}return n&&(o=u.default.Instance.GetProp(e.awardItem2),t.push({prop:o,have:e.awardItem2Num*l.default.Instance.getAddRoam()})),[4,P.default.Instance.ShowUI(v.default.RewardPanel)];case 2:return i.sent(),P.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(t,function(){r.isUnlock()}),[2]}})})},function(){return i(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,P.default.Instance.ShowUI(v.default.RoamPanel)];case 1:return t.sent(),this.isUnlock(),[2]}})})}),this.CloseThis(),[2]}})})},function(){M.isUnlock()}),[3,5];case 5:return[3,10];case 6:return 0!=(o=f.default.getRoamBox())[this.pos]?[3,7]:(console.log("\u8be5\u5730\u70b9\u4ec0\u4e48\u90fd\u6ca1\u6709\u89e6\u53d1"),[3,10]);case 7:if(!((r=f.default.getRoamBoxIsGet())[this.pos]>0))return[3,9];switch(r[this.pos]=0,f.default.setRoamBoxIsGet(r),d=p.default.Instance.GetBoxRole(o[this.pos]),(y=[]).push(),_=null,d.awardID){case 0:_=u.default.Instance.GetCoinProp(),y.push({prop:_,have:d.value*l.default.Instance.getAddRoam()});break;case 1:_=u.default.Instance.GetJewelProp(),y.push({prop:_,have:d.value*l.default.Instance.getAddRoam()});break;default:_=u.default.Instance.GetProp(d.awardID),y.push({prop:_,have:d.value*l.default.Instance.getAddRoam()})}return f.default.setRoamExp(d.exp),[4,P.default.Instance.ShowUI(v.default.RewardPanel)];case 8:return k.sent(),P.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset(y,function(){M.isUnlock(),M.isShowRefBox()}),t.initBox(),[3,10];case 9:w.default.instance.setText(-1,c.i18nMgr.getLabel("title237")),this.isShowRefBox(),k.label=10;case 10:return this.initMessage(),[2]}})})},e.prototype.isShowRefBox=function(){for(var t=f.default.getRoamBoxIsGet(),e=0,n=0;n<t.length;n++)t[n]<=0&&e++;var a=f.default.getRoamBox(),o=0;for(n=0;n<a.length;n++)0!=a[n]&&o++;e>o/2&&P.default.Instance.ShowUI(v.default.RefBox)},e.prototype.initMessage=function(){var t=p.default.Instance.GetNowAlea();y.default.getSdk().sendEvent("flyLevel",{message:"\u4e91\u6e38\u7b49\u7ea7",level:t+1});var e=f.default.getRoamExp(),n=p.default.Instance.GetArea(t).needexp;this.placeName.string=""+c.i18nMgr.getLabel(this.place[t]),this.progress.string=Math.floor(e/n*100)+"%",this.nextplaceName.string=t>=5?c.i18nMgr.getLabel("title236"):c.i18nMgr.getLabel(this.place[t+1]),this.tips.active=!(t>=5),this.Maplevel.string="LV"+(t+1)+c.i18nMgr.getLabel("title238")},e.prototype.isUnlock=function(){return i(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return p.default.Instance.GetNowAlea()>this.level?[4,P.default.Instance.ShowUI(v.default.RoamNewLine)]:[3,2];case 1:return e.sent(),P.default.Instance.GetClass(v.default.RoamNewLine).getComponent(_.default).init(function(){t.unlockNew()}),[3,3];case 2:console.log("\u65e0\u4e8b\u53d1\u751f"),e.label=3;case 3:return[2]}})})},e.prototype.unlockNew=function(){var t=p.default.Instance.GetNowAlea();cc.systemEvent.emit(h.EventConst.UnlockRoam,t),this.initMap()},e.prototype.ClickGetDice=function(){var t=this;d.default.instance.play(d.Sound.Click),y.default.getSdk().PlatformCallBack("REWARD",function(){f.default.setDiceNum(10),w.default.instance.setText(-1,c.i18nMgr.getLabel("title232")+"+10"),t.initDiceHave()},function(){w.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-5)},e.prototype.ClickBox=function(){var t=this;d.default.instance.play(d.Sound.Click),y.default.getSdk().PlatformCallBack("REWARD",function(){f.default.setRoamBox([]),t.initMap(),w.default.instance.setText(-1,c.i18nMgr.getLabel("title333"))},function(){w.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-7)},e.prototype.update=function(){this.initDiceTime()},e.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.move?w.default.instance.setText(-1,c.i18nMgr.getLabel("title332")):this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),d.default.instance.play(d.Sound.BGM1),P.default.Instance.ShowInter()},e.instance=null,r([T(cc.Node)],e.prototype,"video",void 0),r([T(cc.Node)],e.prototype,"Line",void 0),r([T(cc.Node)],e.prototype,"Chess",void 0),r([T(cc.Label)],e.prototype,"Have",void 0),r([T(cc.Label)],e.prototype,"Time",void 0),r([T(sp.Skeleton)],e.prototype,"diceSk",void 0),r([T(cc.Sprite)],e.prototype,"diceSp",void 0),r([T(cc.Node)],e.prototype,"roam",void 0),r([T(cc.Label)],e.prototype,"placeName",void 0),r([T(cc.Label)],e.prototype,"progress",void 0),r([T(cc.Label)],e.prototype,"nextplaceName",void 0),r([T(cc.Node)],e.prototype,"tips",void 0),r([T(cc.Label)],e.prototype,"Maplevel",void 0),r([T(cc.Node)],e.prototype,"guideSp",void 0),n=r([I],e)}(M.default);n.default=G,cc._RF.pop()},{"../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/RoamDataManager":"RoamDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./FightPanel":"FightPanel","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./RoamChallenge":"RoamChallenge","./RoamNewLine":"RoamNewLine","./RoamPos":"RoamPos","./RoamReward":"RoamReward","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],RoamPos:[function(t,e,n){"use strict";cc._RF.push(e,"85ebbjAQ8pOuYdvl3tI4HvO","RoamPos");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/RoamDataManager"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=!1,e.index=0,e}return o(e,t),e.prototype.initpos=function(){return this.type?0:c.default.Instance.GetPosRole()},e.prototype.initBox=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return t=this.node.getSiblingIndex(),e=l.default.getRoamBox(),n=l.default.getRoamBoxIsGet(),0==e[t]?[3,3]:(this.node.childrenCount<=0&&this.CreatoBox(),a=this.node.children[0],o=1==n[t]?"Box/baoxiang-guan":"Box/baoxiang-kai",(r=u.default.GetRes("SpriteBundle1",o,cc.SpriteFrame))?[3,2]:[4,u.default.loadImage("SpriteBundle1",o)]);case 1:r=i.sent(),i.label=2;case 2:return a.getComponent(cc.Sprite).spriteFrame=r,[3,4];case 3:this.node.childrenCount>0&&this.node.destroyAllChildren(),i.label=4;case 4:return[2]}})})},e.prototype.CreatoBox=function(){var t=l.default.roamboxitem.get();return t.setParent(this.node),t},r([f({displayName:"\u662f\u5426\u4e3a\u5730\u6807\u70b9"})],e.prototype,"type",void 0),r([f({displayName:"\u5730\u6807\u5e8f\u53f7"})],e.prototype,"index",void 0),r([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Manager/RoamDataManager":"RoamDataManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],RoamReward:[function(t,e,n){"use strict";cc._RF.push(e,"1c0673sS9VKwoCxZ72upBdl","RoamReward");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/MagicDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../Tools/GameTools"),y=t("./TipGroup"),g=t("./UIBase"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prop=null,e.placeName=null,e.palceIcon=null,e.icon=null,e.iconName=null,e.iconNum=null,e.info=null,e.data=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.palceIcon=t.getChildByName("palceIcon").getComponent(cc.Sprite),this.placeName=t.getChildByName("name").getComponent(cc.Label)},e.prototype.start=function(){},e.prototype.init=function(t,e,n,a){return i(this,void 0,void 0,function(){var o,r,i,c,f,y,g,v,m,b,_,S;return s(this,function(s){switch(s.label){case 0:return this.data=e,this.callback=a,o="Landmark/"+t,(r=h.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("Bundle",o)];case 1:r=s.sent(),s.label=2;case 2:return this.palceIcon.spriteFrame=r,this.placeName.string=e.name,i=d.default.Instance.GetProp(e.awardItem1),c="PropIcon/"+i.icon,(f=h.default.GetRes("Bundle",c,cc.SpriteFrame))?[3,4]:[4,h.default.loadImage("Bundle",c)];case 3:f=s.sent(),s.label=4;case 4:return this.icon.spriteFrame=f,this.iconName.string=""+i.name,this.info.string="     "+e.context,y=0,1!=e.awardItem1?[3,6]:[4,u.default.Instance.GetOutPut()];case 5:return y=s.sent()*e.awardItem1Num*p.default.Instance.getAddRoam(),[3,7];case 6:y=2==e.awardItem1?l.default.Instance.GetOutPut()*e.awardItem1Num*p.default.Instance.getAddRoam():e.awardItem1Num*p.default.Instance.getAddRoam(),s.label=7;case 7:return this.iconNum.string="+"+h.default.refSetCoin(y),n?(g=d.default.Instance.GetProp(e.awardItem2),v="PropIcon/"+g.icon,(m=h.default.GetRes("Bundle",v,cc.SpriteFrame))?[3,9]:[4,h.default.loadImage("Bundle",v)]):[3,15];case 8:m=s.sent(),s.label=9;case 9:return this.prop.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=m,b="PropFrame/"+g.rank,(_=h.default.GetRes("Bundle",b,cc.SpriteFrame))?[3,11]:[4,h.default.loadImage("Bundle",b)];case 10:_=s.sent(),s.label=11;case 11:return this.prop.getChildByName("frame").getComponent(cc.Sprite).spriteFrame=_,this.prop.getChildByName("name").getComponent(cc.Label).string=g.name,S=0,1!=g.type?[3,13]:[4,u.default.Instance.GetOutPut()];case 12:return S=s.sent()*e.awardItem1Num*p.default.Instance.getAddRoam(),[3,14];case 13:S=2==g.type?l.default.Instance.GetOutPut()*e.awardItem1Num*p.default.Instance.getAddRoam():e.awardItem1Num*p.default.Instance.getAddRoam(),s.label=14;case 14:return this.prop.getChildByName("num").getComponent(cc.Label).string="\xd7"+h.default.refSetCoin(S),this.prop.active=!0,[3,16];case 15:this.prop.active=!1,s.label=16;case 16:return[2]}})})},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.ClickGet=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.callback(!1)},e.prototype.ClickDoubleGet=function(){var t=this;f.default.instance.play(f.Sound.Click),h.default.getSdk().PlatformCallBack("REWARD",function(){t.CloseThis(),t.callback(!0)},function(){y.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-4)},e.prototype.ClickOff=function(){f.default.instance.play(f.Sound.Click),this.CloseThis(),this.callback(!1)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([b(cc.Node)],e.prototype,"prop",void 0),r([b(cc.Sprite)],e.prototype,"icon",void 0),r([b(cc.Label)],e.prototype,"iconName",void 0),r([b(cc.Label)],e.prototype,"iconNum",void 0),r([b(cc.Label)],e.prototype,"info",void 0),r([m],e)}(g.default);n.default=_,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase"}],RoamUp:[function(t,e,n){"use strict";cc._RF.push(e,"e7517Y9mtBNPqNRUdjl0h95","RoamUp"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],Roam:[function(t,e,n){"use strict";cc._RF.push(e,"ad02d7lzVxCx7rBW3W/y1ji","Roam");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Tools/EventConst"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.left=[],e.right=[],e}return o(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.node.childrenCount;t++)"left"==this.node.children[t].name?this.left.push(this.node.children[t]):this.right.push(this.node.children[t])},e.prototype.unlock=function(t){if(t==this.node.getSiblingIndex()){for(var e=0;e<this.left.length;e++)cc.tween(this.left[e]).by(.7,{x:-100}).start(),cc.tween(this.left[e]).delay(.4).to(.3,{opacity:0}).start();for(var n=0;n<this.right.length;n++)cc.tween(this.right[n]).by(.7,{x:100}).start(),cc.tween(this.right[n]).delay(.4).to(.3,{opacity:0}).start()}},e.prototype.start=function(){cc.systemEvent.on(i.EventConst.UnlockRoam,this.unlock,this)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Tools/EventConst":"EventConst"}],SceneDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"5fc82UP53JMJYfGu/OWbUC3","SceneDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/MonsterData"),l=t("../Data/SceneData"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("./MonsterDataManager"),f=t("./SingleBase"),h=cc._decorator,y=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e.nextallDataList=new Array,e.array=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(t){return void 0===t&&(t=u.default.getCustoms()),i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return this.allDataList=[],t=null,null!=(t=p.default.GetRes("JsonBundle","mission",cc.JsonAsset))?[3,2]:[4,p.default.loadJson("JsonBundle","mission")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new l.default).id=o.id,r.map=o.map,r.missonName=o.missonName,r.missonId=o.missonId,r.rankId=o.rankId,r.hit=o.hit,r.dodge=o.avoid,r.crit=o.cri,r.item1=o.item1,r.item1Num=o.item1Num,r.item2=o.item2,r.item2Num=o.item2Num,r.item3=o.item3,r.item3Num=o.item3Num,r.wave1monster=o.wave1moster,r.wave1hp=o.wave1hp,r.wave1atk=o.wave1atk,r.wave1speed=o.wave1speed,r.wave1Num=o.wave1Num,r.wave2monster=o.wave2moster,r.wave2hp=o.wave2hp,r.wave2atk=o.wave2atk,r.wave2speed=o.wave2speed,r.wave2Num=o.wave2Num,r.wave3monster=o.wave3moster,r.wave3hp=o.wave3hp,r.wave3atk=o.wave3atk,r.wave3speed=o.wave3speed,r.wave3Num=o.wave3Num,r.wave4monster=o.wave4moster,r.wave4hp=o.wave4hp,r.wave4atk=o.wave4atk,r.wave4speed=o.wave4speed,r.wave4Num=o.wave4Num,r.wave5monster=o.wave5moster,r.wave5hp=o.wave5hp,r.wave5atk=o.wave5atk,r.wave5speed=o.wave5speed,r.wave5Num=o.wave5Num,r.boss1Name=o.boss1Name,r.boss1hp=o.boss1hp,r.boss1atk=o.boss1atk,r.boss1speed=o.boss1speed,r.boss1Num=o.boss1Num,r.boss2Name=o.boss2Name,r.boss2hp=o.boss2hp,r.boss2atk=o.boss2atk,r.boss2speed=o.boss2speed,r.boss2Num=o.boss2Num,this.allDataList.push(r);return[2]}})})},e.prototype.GetRole=function(t){void 0===t&&(t=u.default.getCustoms());for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},e.prototype.GetAllScene=function(){for(var t=[],e=0;e<this.allDataList.length;e++)t.length<=0?t.push(this.allDataList[e].map):-1==t.indexOf(this.allDataList[e].map)&&t.push(this.allDataList[e].map);return t},e.prototype.GetMaxWave=function(t){void 0===t&&(t=u.default.getCustoms()),this.array=[];var e=this.GetRole(t),n=0;return e.wave1Num>0&&(n+=1,this.array.push(1)),e.wave2Num>0&&(n+=1,this.array.push(2)),e.wave3Num>0&&(n+=1,this.array.push(3)),e.wave4Num>0&&(n+=1,this.array.push(4)),e.wave5Num>0&&(n+=1,this.array.push(5)),(e.boss1Num>0||e.boss2Num>0)&&(n+=1,this.array.push(6)),n},e.prototype.GetMonsterRole=function(t,e){void 0===e&&(e=u.default.getCustoms());var n=this.GetRole(e),a=new c.default;switch(a.id=0,a.level=n.id,a.realm="",a.dodge=n.dodge,a.hit=n.hit,a.crit=n.crit,a.maxmp=100,this.array[t-1]){case 1:a.name=n.wave1monster,a.atk=n.wave1atk,a.hp=n.wave1hp,a.interval=n.wave1speed,a.atkSpeed=60/a.interval;break;case 2:a.name=n.wave2monster,a.atk=n.wave2atk,a.hp=n.wave2hp,a.interval=n.wave2speed,a.atkSpeed=60/a.interval;break;case 3:a.name=n.wave3monster,a.atk=n.wave3atk,a.hp=n.wave3hp,a.interval=n.wave3speed,a.atkSpeed=60/a.interval;break;case 4:a.name=n.wave4monster,a.atk=n.wave4atk,a.hp=n.wave4hp,a.interval=n.wave4speed,a.atkSpeed=60/a.interval;break;case 5:a.name=n.wave5monster,a.atk=n.wave5atk,a.hp=n.wave5hp,a.interval=n.wave5speed,a.atkSpeed=60/a.interval}a.maxhp=a.hp;var o=d.default.Instance.GetMonster(a.name);return a.atkRrage=o.atkRrage,a.atkType=o.atkType,a.type=o.type,a.normalSkillName=o.normalSkillName,a.monsterSkillId=o.monsterSkillId,a.monsterSkillContext=o.monsterSkillContext,a.killSkillId=o.killSkillId,a.killSkillName=o.killSkillName,a},e.prototype.GetMonsterNum=function(t,e){void 0===e&&(e=u.default.getCustoms());var n=this.GetRole(e),a=0;switch(this.array[t-1]){case 1:a=n.wave1Num;break;case 2:a=n.wave2Num;break;case 3:a=n.wave3Num;break;case 4:a=n.wave4Num;break;case 5:a=n.wave5Num;break;case 6:a=n.boss1Num+n.boss2Num}return a},e.prototype.GetBossNum=function(t,e){void 0===e&&(e=u.default.getCustoms());var n=this.GetRole(e);switch(t){case 1:return n.boss1Num;case 2:return n.boss2Num}},e.prototype.GetBossRole=function(t,e){void 0===e&&(e=u.default.getCustoms());var n=this.GetRole(e),a=new c.default;switch(a.id=0,a.level=t,a.realm="",a.dodge=n.dodge,a.hit=n.hit,a.crit=n.crit,a.maxmp=100,t){case 1:a.name=n.boss1Name,a.atk=n.boss1atk,a.hp=n.boss1hp,a.interval=n.boss1speed,a.atkSpeed=60/a.interval;break;case 2:a.name=n.boss2Name,a.atk=n.boss2atk,a.hp=n.boss2hp,a.interval=n.boss2speed,a.atkSpeed=60/a.interval}a.maxhp=a.hp;var o=d.default.Instance.GetMonster(a.name);return a.atkRrage=o.atkRrage,a.atkType=o.atkType,a.type=o.type,a.normalSkillName=o.normalSkillName,a.monsterSkillId=o.monsterSkillId,a.monsterSkillContext=o.monsterSkillContext,a.killSkillId=o.killSkillId,a.killSkillName=o.killSkillName,a},e.prototype.GetWave=function(t){return this.array[t-1]},e.prototype.RandomGetBoss=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:t=u.default.getCustoms(),e=10*Math.floor(t/10)+1,n=0,a.label=1;case 1:return n<10?[4,this.GetRole(e+n)]:[3,4];case 2:if(a.sent().boss1Num>0)return[2,this.GetBossRole(1,e+n)];a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.GetSceneid=function(){var t=this.GetRole(),e=n.Instance.GetAllScene();switch(t.map){case e[0]:return 1;case e[1]:return 2;case e[2]:return 3;case e[3]:return 4;case e[4]:return 5;case e[5]:return 6}},e.prototype.getMap=function(t){return n.Instance.GetAllScene()[t]},e.prototype.GetSceneAllCustoms=function(t){for(var e=this.getMissonArray(),n=0;n<e.length;n++)if(e[n][0].missonName==t)return e[n]},e.prototype.GetNowPlace=function(){for(var t=this.GetRole().missonName,e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].missonName==t&&e.push(this.allDataList[n]);return e},e.prototype.getMissonArray=function(){for(var t=[],e=0;e<this.allDataList.length;e++)if(t.length<=0)t.push([this.allDataList[e]]);else for(var n=0;n<t.length;n++){if(t[n][0].missonName==this.allDataList[e].missonName&&t[n][0].id!=this.allDataList[e].id){t[n].push(this.allDataList[e]);break}if(n>=t.length-1){t.push([this.allDataList[e]]);break}}return t},n=r([y],e)}(f.default));n.default=g,cc._RF.pop()},{"../Data/MonsterData":"MonsterData","../Data/SceneData":"SceneData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./MonsterDataManager":"MonsterDataManager","./SingleBase":"SingleBase"}],SceneData:[function(t,e,n){"use strict";cc._RF.push(e,"56183rOj9REQKwPPRamHBcK","SceneData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],SdkManager:[function(t,e,n){"use strict";cc._RF.push(e,"3f13cRkLOFPbpnyVYB8sfS2","SdkManager");var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.init=function(){return a(this,void 0,void 0,function(){return o(this,function(){return[2,""]})})},t.prototype.getGameId=function(){return"201"},t.prototype.getChannel=function(){return""},t.prototype.getChannelId=function(){return"0"},t.prototype.getSecret=function(){return"338d18bd6d8f49c6ddeca5597794b6a3"},t.prototype.showPrivacy=function(){},t.prototype.vibrate=function(){},t.prototype.sendEvent=function(t,e){if(e){var n={};for(var a in e){var o=e[a];n[a]=o.toString()}console.log("sendEvent ----\x3e ",t,JSON.stringify(n))}},t.prototype.isSupportShare=function(){return!1},t.prototype.share=function(t){void 0===t&&(t=0)},t.prototype.shareWithScreenShot=function(){},t.prototype.onClickShare=function(){},t.prototype.getShareList=function(){},t.prototype.initRecorder=function(){},t.prototype.recorderStart=function(){},t.prototype.recorderStop=function(){},t.prototype.shareRecorder=function(t){void 0===t&&(t=0)},t.prototype.bind=function(t,e,n){n("no bind")},t.prototype.login=function(t){t()},t.prototype.loginWithInfo=function(t){console.log("\u8bf7\u6c42\u767b\u9646\u3002\u3002\u3002"),t("")},t.prototype.authorize=function(){},t.prototype.closeUserInfo=function(){},t.prototype.appboxShow=function(){},t.prototype.blockAdshow=function(t,e){void 0===e&&(e=4)},t.prototype.blockAdHide=function(){},t.prototype.gridAdShow=function(){},t.prototype.gridAdHide=function(){},t.prototype.customAdShow=function(){},t.prototype.customAdHide=function(){},t.prototype.bannerAdShow=function(t){void 0===t&&(t=0)},t.prototype.bannerAdShowAutoUpdate=function(t){void 0===t&&(t=0)},t.prototype.bannerAdHide=function(){},t.prototype.interstitialAdShow=function(t){void 0===t&&(t=1)},t.prototype.rewardedAdShow=function(t,e){void 0===t&&(t=-1),e()},t.prototype.fullVideoAdShow=function(t){void 0===t&&(t=1)},t.prototype.nativeAdShow=function(t){void 0===t&&(t=0)},t.prototype.nativeAdHide=function(){},t.prototype.showGamePortalAd=function(){},t.prototype.showGameBannerAd=function(){},t.prototype.hideGameBannerAd=function(){},t.prototype.showGameDrawerAd=function(t){void 0===t&&(t=0)},t.prototype.hideGameDrawerAd=function(){},t.prototype.pay=function(t,e){e(t)},t.prototype.checkAllPay=function(){},t.prototype.getMenuButtonBottom=function(){return 0},t.prototype.requestSubscribeMessage=function(){},t.prototype.openCustomerServiceConversation=function(){},t.prototype.aweme=function(){},t.prototype.awemeCanShow=function(){return!1},t.prototype.addToFavorites=function(){},t.prototype.isSupportDesktop=function(){return!1},t.prototype.saveAppToDesktop=function(){},t.prototype.addColorSign=function(){},t.prototype.requestReview=function(){},t.prototype.moreGame=function(){},t.prototype.toGame=function(){},t.prototype.isSupportPrivacy=function(){return!1},t.prototype.isSupportMoreGame=function(){return!1},t.prototype.isSupportService=function(){return!1},t.prototype.PlatformCallBack=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),"REWARD"!==t||e()},t.prototype.setLoadingProgress=function(){},t}();n.default=r,cc._RF.pop()},{}],SecretDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"9417688b2ZPcKPXWdJtIAg8","SecretDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/SecretData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","gongfa",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","gongfa")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.level=o.level,r.rank=o.rank,r.classify=o.classify,r.name=o.name,r.context=o.context,r.atkAdd=o.atkAdd,r.HpAdd=o.HpAdd,r.outputAdd=o.outputAdd,r.danNumber=o.danNumber,r.danSpeed=o.danSpeed,r.probability=o.probability,r.yunyouAdd=o.yunyouAdd,r.skill=o.skill,r.plantSpeed=o.plantSpeed,r.plantNumber=o.plantNumber,this.allDataList.push(r);return[2]}})})},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/SecretData":"SecretData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],SecretData:[function(t,e,n){"use strict";cc._RF.push(e,"60eb8cZWHxBu7mCJ0kONAsr","SecretData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],SectGroup:[function(t,e,n){"use strict";cc._RF.push(e,"db5fcEawq1Ji4QOLRqCKYd/","SectGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../Manager/GuideDataManager"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/EventConst"),f=t("../Tools/GameTools"),h=t("./GardenPanel"),y=t("./PanelConst"),g=t("./TipGroup"),v=t("./UIBase"),m=t("./UIManager"),b=cc._decorator,_=b.ccclass,S=b.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AchievementBtn=null,e.moreBtn=null,e.Recorder=null,e.RecorderSp=[],e.GardenBtn=null,e.CallerBtn=null,e.alchemyBtn=null,e.taskBtn=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this;var t=f.default.getSdk().getChannelId();this.moreBtn.active="0001004"==t||"OPPO"==p.default.channel},e.prototype.onEnable=function(){switch(c.default.instance.teacherid){case 11:this.ShowGuide(11);break;case 13:this.ShowGuide(13);break;case 16:this.ShowGuide(16);break;case 17:this.ShowGuide(17);break;case 19:this.ShowGuide(19)}},e.prototype.start=function(){cc.systemEvent.on(d.EventConst.Recorder,this.initRecorder,this)},e.prototype.ShowGuide=function(t){var e;switch(m.default.Instance.GuideHand.active=!0,t){case 11:e=this.alchemyBtn;break;case 13:e=this.GardenBtn;break;case 16:e=this.CallerBtn;break;case 17:e=this.taskBtn;break;case 19:e=this.AchievementBtn}var n=e.parent.convertToWorldSpaceAR(e.getPosition()),a=m.default.Instance.GuideHand.parent.convertToNodeSpaceAR(n);m.default.Instance.GuideHand.setPosition(a)},e.prototype.HideGuide=function(){c.default.instance.teacherid=-1,m.default.Instance.GuideHand.active=!1},e.prototype.ClickTask=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.instance.play(u.Sound.Click),l.default.Instance.isUnlcok(17)?(this.HideGuide(),[4,m.default.Instance.ShowUI(y.default.TASK_PANEL)]):(g.default.instance.setText(-1,l.default.Instance.CanUnlock(17)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickGardenBtn=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.instance.play(u.Sound.Click),l.default.Instance.isUnlcok(13)?(m.default.Instance.GuideHand.active=!1,[4,m.default.Instance.ShowUI(y.default.GardenPanel)]):(g.default.instance.setText(-1,l.default.Instance.CanUnlock(13)),[2]);case 1:return t.sent(),13==c.default.instance.teacherid&&m.default.Instance.GetClass(y.default.GardenPanel).getComponent(h.default).ShowTeacher(0),[2]}})})},e.prototype.ClickAlchemy=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.instance.play(u.Sound.Click),l.default.Instance.isUnlcok(11)?(this.HideGuide(),[4,m.default.Instance.ShowUI(y.default.ALCHEMY_PANEL)]):(g.default.instance.setText(-1,l.default.Instance.CanUnlock(11)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickPack=function(){u.default.instance.play(u.Sound.Click),m.default.Instance.ShowUI(y.default.PACK_PANEL)},e.prototype.ClickRecorder=function(){u.default.instance.play(u.Sound.Click),0==p.default.isdorecorder?f.default.getSdk().recorderStart():1==p.default.isdorecorder?f.default.getSdk().recorderStop():(p.default.isdorecorder=0,cc.systemEvent.emit(d.EventConst.Recorder),m.default.Instance.ShowUI(y.default.ShareRecorder))},e.prototype.initRecorder=function(){this.Recorder.spriteFrame=this.RecorderSp[p.default.isdorecorder]},e.prototype.ClickAddToFavorites=function(){u.default.instance.play(u.Sound.Click),m.default.Instance.ShowUI(y.default.addToFavorites)},e.prototype.ClickAddMy=function(){u.default.instance.play(u.Sound.Click),m.default.Instance.ShowUI(y.default.addMy)},e.prototype.ClickAddColorSign=function(){u.default.instance.play(u.Sound.Click),m.default.Instance.ShowUI(y.default.addColorSign)},e.prototype.ClickSaveAppToDesktop=function(){u.default.instance.play(u.Sound.Click),m.default.Instance.ShowUI(y.default.saveAppToDesktop)},e.prototype.ClickSubScribeMsg=function(){u.default.instance.play(u.Sound.Click),m.default.Instance.ShowUI(y.default.subScribeMsg)},e.prototype.ClickAndroidOppo=function(){u.default.instance.play(u.Sound.Click),f.default.getSdk().moreGame()},e.prototype.ClickshowUserProtocol=function(){u.default.instance.play(u.Sound.Click),f.default.getSdk().showPrivacy()},e.prototype.ClickShare=function(){u.default.instance.play(u.Sound.Click),f.default.getSdk().share()},e.prototype.ClickAchievement=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.instance.play(u.Sound.Click),l.default.Instance.isUnlcok(19)?(this.HideGuide(),[4,m.default.Instance.ShowUI(y.default.AchievementPanel)]):(g.default.instance.setText(-1,l.default.Instance.CanUnlock(19)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickCaller=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.instance.play(u.Sound.Click),l.default.Instance.isUnlcok(16)?(this.HideGuide(),[4,m.default.Instance.ShowUI(y.default.CallerPanel)]):(g.default.instance.setText(-1,l.default.Instance.CanUnlock(16)),[2]);case 1:return t.sent(),[2]}})})},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis(),m.default.Instance.ShowInter()},e.instance=null,r([S(cc.Node)],e.prototype,"AchievementBtn",void 0),r([S(cc.Node)],e.prototype,"moreBtn",void 0),r([S(cc.Sprite)],e.prototype,"Recorder",void 0),r([S(cc.SpriteFrame)],e.prototype,"RecorderSp",void 0),r([S(cc.Node)],e.prototype,"GardenBtn",void 0),r([S(cc.Node)],e.prototype,"CallerBtn",void 0),r([S(cc.Node)],e.prototype,"alchemyBtn",void 0),r([S(cc.Node)],e.prototype,"taskBtn",void 0),n=r([_],e)}(v.default);n.default=C,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/GuideDataManager":"GuideDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./GardenPanel":"GardenPanel","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],SectTxt:[function(t,e,n){"use strict";cc._RF.push(e,"e89f6mTOxZBBJST7c4IgFAX","SectTxt");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.txt=this.node.getChildByName("txt").getComponent(cc.Label)},e.prototype.setTxt=function(t){var e=this;this.txt.string=""+t,cc.tween(this.node).call(function(){e.node.opacity=255}).by(.7,{y:50}).to(.3,{opacity:0}).call(function(){i.default.SectTxt.restor(e.node)}).start()},e.prototype.start=function(){},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../record/GameSys":"GameSys"}],ServerUtil:[function(t,e,n){"use strict";cc._RF.push(e,"5eae4NM7s1CDYsg9XAMK8uY","ServerUtil"),Object.defineProperty(n,"__esModule",{value:!0});var a=t("./HttpClient"),o=function(){function t(){}return t.init=function(t,e,n,o){this.game_id=t,this.channel_id=e,this.version=o,a.default.secret=n},t.getConfig=function(t){if(!this.game_id)return console.log("ServerUtil not inited");var e=this.URL_CONFIG;e+="?gameid="+encodeURIComponent(this.game_id),e+="&gchannelid="+encodeURIComponent(this.channel_id),this.version&&(e+="&version="+encodeURIComponent(this.version)),a.default.get(e,t)},t.login_wx=function(e,n,o){if(!this.game_id)return console.log("ServerUtil not inited");var r=Math.floor(Date.now()/1e3),i={gameid:this.game_id,type:"weixin",timestamp:r,js_code:e};a.default.postJson(this.URL_GAME_LOGIN,i,{success:function(e){var a=JSON.parse(e);console.log("login_wx\uff1a",a),200==a.code&&(t.guid=a.data.userid,t.openId=a.data.openid,t.userid=a.data.guid,n())},fail:function(t){console.log(t),o()}})},t.login_tt=function(e,n,o){if(!this.game_id)return console.log("ServerUtil not inited");var r=Math.floor(Date.now()/1e3),i={gameid:this.game_id,type:"bytedance",timestamp:r,code:e};a.default.postJson(this.URL_GAME_LOGIN,i,{success:function(e){console.log("tt\u767b\u5f55\u83b7\u53d6\u5230\u7684\u6570\u636e:",e);var a=JSON.parse(e);200==a.code&&(t.guid=a.data.userid,t.openId=a.data.openid,t.userid=a.data.guid,n())},fail:function(t){console.log(t),o()}})},t.login_qq=function(e,n,o){if(!this.game_id)return console.log("ServerUtil not inited");var r=Math.floor(Date.now()/1e3),i={gameid:this.game_id,type:"qq",timestamp:r,js_code:e};a.default.postJson(this.URL_GAME_LOGIN,i,{success:function(e){var a=JSON.parse(e);200==a.code?(t.guid=a.data.userid,t.openId=a.data.openid,t.userid=a.data.guid,n()):console.log("qq\u767b\u5f55\u5931\u8d25:",a)},fail:function(t){console.log(t),o()}})},t.login_tomato=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,type:"tomato",timestamp:n,openid:t};a.default.postJson(this.URL_GAME_LOGIN,o,e)},t.login_moyang=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,type:"moyang",timestamp:n,openid:t};a.default.postJson(this.URL_GAME_LOGIN,o,e)},t.setRank=function(t,e,n){if(!this.guid)return console.log("no guid");var o=Math.floor(Date.now()/1e3),r={gameid:this.game_id,desc:t,guid:this.guid,val:e,timestamp:o};a.default.postObj(this.URL_RANK_SET,r,n)},t.getRank=function(t,e){if(!this.guid)return console.log("no guid");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,desc:t,guid:this.guid,timestamp:n};a.default.postObj(this.URL_RANK_GET,o,e)},t.getRankList=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,desc:t,timestamp:n};a.default.postObj(this.URL_RANK_LIST,o,e)},t.subscribe=function(t,e){if(!this.guid)return console.log("no guid");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,timestamp:n,guid:this.guid,templateid:t};a.default.postJson(this.URL_SUBSCRIBE,o,e)},t.bind=function(t){if(!this.guid)return console.log("no guid");if(!this.openId)return console.log("no guid");var e=Math.floor(Date.now()/1e3),n={gameid:this.game_id,guid:this.guid,openid:this.openId,timestamp:e};a.default.postJson(this.URL_GAME_BIND,n,t)},t.getShare=function(t,e){if(!this.game_id)return console.log("ServerUtil not inited");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,asid:t,timestamp:n};a.default.postJson(this.URL_GET_SHARE,o,{success:function(t){var n=JSON.parse(t).data;e(n)},fail:function(t){console.log("getShare error ",t)}})},t.getShareList=function(t,e){if(!this.openId)return console.log("no openId");var n=Math.floor(Date.now()/1e3),o={gameid:this.game_id,asid:t,openid:this.openId,timestamp:n};a.default.postJson(this.URL_GET_SHARELIST,o,e)},t.clickShare=function(t,e,n){if(!this.guid)return console.log("no guid");var o=Math.floor(Date.now()/1e3),r={gameid:this.game_id,asid:t,guid:this.guid,timestamp:o,openid:e};a.default.postJson(this.URL_SET_SHARE,r,n)},t.setUserInfo=function(t,e,n){if(!this.guid)return console.log("no guid");var o=Math.floor(Date.now()/1e3),r={gameid:this.game_id,guid:this.guid,portrait:e,nickname:t,timestamp:o};a.default.postObj(this.URL_SET_USERINFO,r,n)},t.URL_CONFIG="https://sapi.tomato123.cn/union/game/getcontrol",t.URL_GAME_LOGIN="https://sapi.tomato123.cn/game/index/gamelogin",t.URL_SUBSCRIBE="https://sapi.tomato123.cn/game/game/gamesubscribeuser",t.URL_RANK_SET="https://sapi.tomato123.cn/game/game/setrank",t.URL_RANK_GET="https://sapi.tomato123.cn/game/game/getrank",t.URL_RANK_LIST="https://sapi.tomato123.cn/game/game/ranklist",t.URL_GAME_BIND="http://sapi.tomato123.cn/game/user/userbind",t.URL_GET_SHARE="https://sapi.tomato123.cn/game/activity/getshare",t.URL_SET_SHARE="https://sapi.tomato123.cn/game/activity/setshare",t.URL_SET_USERINFO="https://sapi.tomato123.cn/game/user/setuserinfo",t.URL_GET_SHARELIST="https://sapi.tomato123.cn/game/activity/getsharelist",t}();n.default=o,cc._RF.pop()},{"./HttpClient":"HttpClient"}],ShareRecorder:[function(t,e,n){"use strict";cc._RF.push(e,"a4755XkpMZG+IvkxNR472Gb","ShareRecorder");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CoinOutPutDataManager"),l=t("../Manager/SoundManager"),u=t("../Tools/GameTools"),p=t("./TipGroup"),d=t("./UIBase"),f=t("./UIManager"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reward=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return t.prototype.onEnable.call(this),[4,c.default.Instance.GetOutPut()];case 1:return e=600*n.sent(),this.reward.string=""+u.default.refSetCoin(e),u.default.getSdk().PlatformCallBack("BANNER"),[2]}})})},e.prototype.start=function(){},e.prototype.ClickOff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis()},e.prototype.ClickGet=function(){var t=this;l.default.instance.play(l.Sound.Click),u.default.getSdk().shareRecorder(0,function(){return i(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return[4,c.default.Instance.GetOutPut()];case 1:return t=600*e.sent(),f.default.Instance.ChangeCoin(t),this.CloseThis(),[2]}})})},function(){p.default.instance.setText(-1,"\u5206\u4eab\u5931\u8d25")})},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),u.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([g(cc.Label)],e.prototype,"reward",void 0),r([y],e)}(d.default);n.default=v,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],ShopGroup:[function(t,e,n){"use strict";cc._RF.push(e,"93b1e6ogX1NY7oOcolsGB4f","ShopGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CrystalBoxAwardManager"),u=t("../Manager/MagicDataManager"),p=t("../Manager/PropDataManager"),d=t("../Manager/SoundManager"),f=t("../record/GameSys"),h=t("../Tools/EventConst"),y=t("../Tools/GameTools"),g=t("../UI/OpenBoxPanel"),v=t("../UI/PanelConst"),m=t("../UI/TipGroup"),b=t("../UI/UIBase"),_=t("../UI/UIManager"),S=cc._decorator,C=S.ccclass,w=S.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FreeRed=null,e.CrystalRed=null,e.CrystalGetBtn=null,e.CrystalTime=null,e.CrystalTimeLabel=null,e.VideoCount=null,e.OneJadeRed=null,e.FiveJadeRed=null,e.TimeLabel=null,e.FreeCount=null,e.TimeNode=null,e.OpenBtn=null,e.JadeOne=null,e.JadeFive=null,e.CountLabel=null,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(h.EventConst.Jade,this.initJade,this)},e.prototype.initCrystal=function(){this.VideoCount.string="("+f.default.getFiveBoxCount()+"/5)",this.CrystalRed.active=f.default.getFiveBoxCount()>0&&f.default.getFiveBoxTime()<=0,f.default.getFiveBoxTime()>0?(this.CrystalGetBtn.active=!1,this.CrystalTime.active=!0,this.CrystalTimeLabel.string=y.default.sec_to_timefunction(f.default.getFiveBoxTime())):(this.CrystalGetBtn.active=!0,this.CrystalTime.active=!1)},e.prototype.initFree=function(){this.FreeCount.string="("+(5-f.default.getFreeBoxCount())+"/5)",this.FreeRed.active=f.default.getFreeBoxCount()<5&&0==this.TimeNode.active},e.prototype.initJade=function(){this.JadeOne.string=y.default.refSetCoin(f.default.getJade())+"/50",this.JadeOne.node.color=f.default.getJade()>=50?cc.color().fromHEX("#22FF03"):cc.color().fromHEX("#DC4646"),this.OneJadeRed.active=f.default.getJade()>=50,this.JadeFive.string=y.default.refSetCoin(f.default.getJade())+"/200",this.JadeFive.node.color=f.default.getJade()>=200?cc.color().fromHEX("#22FF03"):cc.color().fromHEX("#DC4646"),this.FiveJadeRed.active=f.default.getJade()>=200},e.prototype.initFreeJade=function(){this.CountLabel.string=f.default.getJadeFreeCount()+"/10"},e.prototype.onEnable=function(){this.initCrystal(),this.initFree(),this.initFreeJade(),this.initJade()},e.prototype.start=function(){},e.prototype.ClickFree=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(r){switch(r.label){case 0:if(d.default.instance.play(d.Sound.Click),!(f.default.getFreeBoxCount()<5))return[3,2];for(t=l.default.Instance.getFreeBox(),e=[],n=p.default.Instance.GetProp(t.itemId),a=t.num,e.push({prop:n,have:a}),o=0;o<e.length;o++)6==e[o].prop.type&&u.default.Instance.getMagicToDebrisID(e[o].prop.id)>=5&&(e[o].prop=p.default.Instance.GetCrystalProp(),e[o].have*=2);return[4,_.default.Instance.ShowUI(v.default.OpenBoxPanel)];case 1:return r.sent(),_.default.Instance.GetClass(v.default.OpenBoxPanel).getComponent(g.default).init(e,1,0,function(){}),f.default.setFreeBoxCount(),f.default.setFreeBoxTime(180),this.initFree(),y.default.getSdk().sendEvent("freeBox"),[3,3];case 2:m.default.instance.setText(-1,c.i18nMgr.getLabel("title149")),r.label=3;case 3:return[2]}})})},e.prototype.ClickCrystalBox=function(){return i(this,void 0,void 0,function(){var t=this;return s(this,function(){return d.default.instance.play(d.Sound.Click),f.default.getFiveBoxTime()<=0?f.default.getFiveBoxCount()>0?y.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(r){switch(r.label){case 0:for(f.default.setFiveBoxTime(180),f.default.setFiveBoxCount(),this.initCrystal(),t=[],o=0;o<5;o++)e=l.default.Instance.getCrystalBox(),n=p.default.Instance.GetProp(e.itemId),a=e.num,t.push({prop:n,have:a});for(o=0;o<t.length;o++)6==t[o].prop.type&&u.default.Instance.getMagicToDebrisID(t[o].prop.id)>=5&&(t[o].prop=p.default.Instance.GetCrystalProp(),t[o].have*=2);return[4,_.default.Instance.ShowUI(v.default.OpenBoxPanel)];case 1:return r.sent(),_.default.Instance.GetClass(v.default.OpenBoxPanel).getComponent(g.default).init(t,5,0,function(){}),y.default.getSdk().sendEvent("5xianjingBox"),[2]}})})},function(){m.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-18):m.default.instance.setText(-1,c.i18nMgr.getLabel("title149")):m.default.instance.setText(-1,c.i18nMgr.getLabel("title150")),[2]})})},e.prototype.ClickJadeBox=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r=this;return s(this,function(i){switch(i.label){case 0:return d.default.instance.play(d.Sound.Click),f.default.getJade()<50?(m.default.instance.setText(-1,c.i18nMgr.getLabel("title151")),[3,3]):[3,1];case 1:for(t=l.default.Instance.getJadeBox(),e=[],n=p.default.Instance.GetProp(t.itemId),a=t.num,e.push({prop:n,have:a}),o=0;o<e.length;o++)6==e[o].prop.type&&u.default.Instance.getMagicToDebrisID(e[o].prop.id)>=5&&(e[o].prop=p.default.Instance.GetCrystalProp(),e[o].have*=2);return[4,_.default.Instance.ShowUI(v.default.OpenBoxPanel)];case 2:i.sent(),_.default.Instance.GetClass(v.default.OpenBoxPanel).getComponent(g.default).init(e,1,2,function(){r.ClickJadeBox()}),_.default.Instance.ChangeJade(-50),this.initJade(),y.default.getSdk().sendEvent("jinyuBox"),i.label=3;case 3:return[2]}})})},e.prototype.ClickJadeFive=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r=this;return s(this,function(i){switch(i.label){case 0:return d.default.instance.play(d.Sound.Click),f.default.getJade()<200?(m.default.instance.setText(-1,c.i18nMgr.getLabel("title151")),[3,3]):[3,1];case 1:for(t=[],o=0;o<5;o++)e=l.default.Instance.getJadeBox(),n=p.default.Instance.GetProp(e.itemId),a=e.num,t.push({prop:n,have:a});for(o=0;o<t.length;o++)6==t[o].prop.type&&u.default.Instance.getMagicToDebrisID(t[o].prop.id)>=5&&(t[o].prop=p.default.Instance.GetCrystalProp(),t[o].have*=2);return[4,_.default.Instance.ShowUI(v.default.OpenBoxPanel)];case 2:i.sent(),_.default.Instance.GetClass(v.default.OpenBoxPanel).getComponent(g.default).init(t,5,2,function(){r.ClickJadeFive()}),_.default.Instance.ChangeJade(-200),this.initJade(),y.default.getSdk().sendEvent("5jinyuBox"),i.label=3;case 3:return[2]}})})},e.prototype.ClickFreeJade=function(){var t=this;d.default.instance.play(d.Sound.Click),f.default.getJadeFreeCount()<=0?m.default.instance.setText(-1,c.i18nMgr.getLabel("title149")):y.default.getSdk().PlatformCallBack("REWARD",function(){_.default.Instance.ChangeJade(100),f.default.setJadeFreeCount(),t.initFreeJade()},function(){m.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-3)},e.prototype.ClickOff=function(){d.default.instance.play(d.Sound.Click),this.CloseThis(),_.default.Instance.ShowInter()},e.prototype.update=function(){f.default.getFreeBoxTime()>0?(this.OpenBtn.active=!1,this.TimeNode.active=!0,this.TimeLabel.string=""+y.default.sec_to_timefunction(f.default.getFreeBoxTime())):(this.OpenBtn.active=!0,this.TimeNode.active=!1),this.initFreeJade(),this.initFree(),this.initCrystal()},r([w(cc.Node)],e.prototype,"FreeRed",void 0),r([w(cc.Node)],e.prototype,"CrystalRed",void 0),r([w(cc.Node)],e.prototype,"CrystalGetBtn",void 0),r([w(cc.Node)],e.prototype,"CrystalTime",void 0),r([w(cc.Label)],e.prototype,"CrystalTimeLabel",void 0),r([w(cc.Label)],e.prototype,"VideoCount",void 0),r([w(cc.Node)],e.prototype,"OneJadeRed",void 0),r([w(cc.Node)],e.prototype,"FiveJadeRed",void 0),r([w(cc.Label)],e.prototype,"TimeLabel",void 0),r([w(cc.Label)],e.prototype,"FreeCount",void 0),r([w(cc.Node)],e.prototype,"TimeNode",void 0),r([w(cc.Node)],e.prototype,"OpenBtn",void 0),r([w(cc.Label)],e.prototype,"JadeOne",void 0),r([w(cc.Label)],e.prototype,"JadeFive",void 0),r([w(cc.Label)],e.prototype,"CountLabel",void 0),r([C],e)}(b.default);n.default=M,cc._RF.pop()},{"../Manager/CrystalBoxAwardManager":"CrystalBoxAwardManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/OpenBoxPanel":"OpenBoxPanel","../UI/PanelConst":"PanelConst","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],SignDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"e5eebr0O75HQIZRcdcfUISl","SignDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/SignData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","sign7day",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","sign7day")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).day=o.day,r.num=o.num,r.item=o.item,r.name=o.name,this.allDataList.push(r);return[2]}})})},e.prototype.GetData=function(t){return t>6&&(t=0),this.allDataList[t]},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/SignData":"SignData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],SignData:[function(t,e,n){"use strict";cc._RF.push(e,"4a1e2QhEkFFfo6u5l39FBag","SignData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.num=1,this.name="",this.day=0,this.item=0},cc._RF.pop()},{}],SignPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5dee9g9dKBAo6AQaGlNUPOr","SignPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/PropDataManager"),u=t("../Manager/SignDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=t("./DoublePanel"),y=t("./PanelConst"),g=t("./TipGroup"),v=t("./UIBase"),m=t("./UIManager"),b=cc._decorator,_=b.ccclass,S=b.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.todayFrame=null,e.todayIcon=null,e.todayName=null,e.todayNum=null,e.End=null,e.tomorrowFrame=null,e.tomorrowIcon=null,e.tomorrowName=null,e.tomorrowNum=null,e.prop=null,e.data=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init(),f.default.getSdk().PlatformCallBack("BANNER")},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c,p,h,y,g,v;return s(this,function(s){switch(s.label){case 0:return t=d.default.getDay(),e=u.default.Instance.GetData(t),n=l.default.Instance.GetProp(e.item),this.data=e,this.prop=n,a="PropFrame/"+n.rank,(o=f.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,f.default.loadImage("Bundle",a)];case 1:o=s.sent(),s.label=2;case 2:return this.todayFrame.spriteFrame=o,r="PropIcon/"+n.icon,(i=f.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,f.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.todayIcon.spriteFrame=i,this.todayName.string=""+n.name,this.todayNum.string="\xd7"+e.num,this.todayName.node.color=cc.color().fromHEX(l.default.Instance.GetLevelColor(n.rank)),c=u.default.Instance.GetData(t+1),p=l.default.Instance.GetProp(c.item),h="PropFrame/"+p.rank,(y=f.default.GetRes("Bundle",h,cc.SpriteFrame))?[3,6]:[4,f.default.loadImage("Bundle",h)];case 5:y=s.sent(),s.label=6;case 6:return this.tomorrowFrame.spriteFrame=y,g="PropIcon/"+p.icon,(v=f.default.GetRes("Bundle",g,cc.SpriteFrame))?[3,8]:[4,f.default.loadImage("Bundle",g)];case 7:v=s.sent(),s.label=8;case 8:return this.tomorrowIcon.spriteFrame=v,this.tomorrowName.string=""+p.name,this.tomorrowNum.string="\xd7"+c.num,this.tomorrowName.node.color=cc.color().fromHEX(l.default.Instance.GetLevelColor(p.rank)),this.End.active=d.default.getSignIsGet(),[2]}})})},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e=this;return s(this,function(n){switch(n.label){case 0:return p.default.instance.play(p.Sound.Click),d.default.getSignIsGet()?(g.default.instance.setText(-1,c.i18nMgr.getLabel("title239")),[3,3]):[3,1];case 1:return(t=function(){var t=[];t.push({prop:e.prop,have:e.data.num}),l.default.Instance.addPack(t),g.default.instance.setText(-1,c.i18nMgr.getLabel("title222")+e.prop.name+"+"+e.data.num)})(),d.default.setSignIsGet(),this.CloseThis(),[4,m.default.Instance.ShowUI(y.default.DoublePanel)];case 2:n.sent(),m.default.Instance.GetClass(y.default.DoublePanel).getComponent(h.default).init(t),n.label=3;case 3:return[2]}})})},e.prototype.start=function(){},e.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),f.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([S(cc.Sprite)],e.prototype,"todayFrame",void 0),r([S(cc.Sprite)],e.prototype,"todayIcon",void 0),r([S(cc.Label)],e.prototype,"todayName",void 0),r([S(cc.Label)],e.prototype,"todayNum",void 0),r([S(cc.Node)],e.prototype,"End",void 0),r([S(cc.Sprite)],e.prototype,"tomorrowFrame",void 0),r([S(cc.Sprite)],e.prototype,"tomorrowIcon",void 0),r([S(cc.Label)],e.prototype,"tomorrowName",void 0),r([S(cc.Label)],e.prototype,"tomorrowNum",void 0),r([_],e)}(v.default);n.default=C,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SignDataManager":"SignDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./DoublePanel":"DoublePanel","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],SingleBase:[function(t,e,n){"use strict";cc._RF.push(e,"920d4UWvchHUZ4fPB8TzFRw","SingleBase");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LOCAL_DATA_KEY="Test",e.curLocalData=null,e.isNeedUpdateLocal=!1,e}return o(e,t),Object.defineProperty(e.prototype,"CurLocalData",{get:function(){return null==this.curLocalData&&this.InitLocalDataValue(),this.curLocalData},set:function(t){this.curLocalData=t},enumerable:!1,configurable:!0}),e.prototype.GetLocalDataByKey=function(t,e){var n=this.CurLocalData[t];return void 0===n||null==n?e:n},e.prototype.SetLocalDataKeyValue=function(t,e,n,a){void 0===n&&(n=!0),void 0===a&&(a=!0),this.CurLocalData[t]=e,n?this.SaveLocalData():this.isNeedUpdateLocal=!0},e.prototype.Init=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.InitLocalDataValue=function(){"Test"==this.LOCAL_DATA_KEY&&console.log("\u6ca1\u6709\u8bbe\u7f6e\u672c\u5730\u5b58\u6863\u7684key\u503c\uff01\uff01\uff01\uff01\uff01"),this.CurLocalData={}},e.prototype.SaveLocalData=function(){this.isNeedUpdateLocal=!1},e.prototype.UpdateCurData=function(t){this.CurLocalData=t},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{}],Singleton:[function(t,e,n){"use strict";cc._RF.push(e,"26593pCO7hA7Jg3aBTy2i2d","Singleton");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.GetManagerRoot=function(){return this.rootNode||(this.rootNode=cc.find("Manager")),this.rootNode},e.RegistSingleTon=function(t){var e,n=this.GetManagerRoot();try{e=n.addComponent(t)}catch(a){console.log("manager\u540d\u5b57\u9519\u8bef \u4e0d\u5b58\u5728\u5bf9\u5e94\u7684\u811a\u672c"+t)}return e},e.rootNode=null,r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],Skill1:[function(t,e,n){"use strict";cc._RF.push(e,"b75a3tg5VhJ9aFsKTknHkdI","Skill1");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../UI/FightPanel"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){},e.prototype.init=function(t){var e=this;this.node.active=!0;var n=this.node.getComponent(sp.Skeleton);n.setAnimation(0,"ef8_1",!1),n.setCompleteListener(function(){e.node.active=!1,t()})},e.prototype.start=function(){},e.prototype.update=function(){if(i.default.instance.state!=i.FightState.ready){var t=i.default.instance.teamData[0].node;this.node.setPosition(t.getPosition())}else this.node.active=!1},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../UI/FightPanel":"FightPanel"}],SkillConst:[function(t,e,n){"use strict";cc._RF.push(e,"0542cHjZRZPs6yK5UDLWHNn","SkillConst");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/MagicDataManager"),s=t("../Manager/TeamSkillDataManager"),c=t("../record/GameSys"),l=t("../SkillGroup/Bane"),u=t("../SkillGroup/CureMatrix"),p=t("../SkillGroup/Eddy"),d=t("../SkillGroup/Fireball"),f=t("../SkillGroup/Flame"),h=t("../SkillGroup/Flamepalm"),y=t("../SkillGroup/Knife"),g=t("../SkillGroup/Moon"),v=t("../SkillGroup/PersistCure"),m=t("../SkillGroup/Skill1"),b=t("../SkillGroup/Star"),_=t("../SkillGroup/Thunder"),S=t("../SkillGroup/Wind"),C=t("../UI/FightPanel"),w=t("./bullet"),M=cc._decorator,P=M.ccclass,k=M.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Skill1=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.Thunder=function(t){for(var e=C.default.instance.GetTeam(),n=function(n){var a=C.default.instance.CreateThunder();a.setParent(e[n].SpineContent),a.getComponent(_.default).init(function(){var a=0;t.Upatk>1?(a=t.GetPracticalAtk()*t.fatality.value*t.Upatk,t.Upatk=1):a=t.GetPracticalAtk()*t.fatality.value,t.suck>0&&(t.Cure(a*t.suck),t.suck=0),e[n].TheStrike(a,t.role.hit,!1,!1)})},a=0;a<e.length;a++)n(a)},e.prototype.Eddy=function(t){C.default.instance.CreateEddy().getComponent(p.default).init(t,function(){for(var e=C.default.instance.GetTeam(),n=0;n<e.length;n++){var a=0;t.Upatk>1?(a=t.GetPracticalAtk()*t.fatality.value*t.Upatk,t.Upatk=1):a=t.GetPracticalAtk()*t.fatality.value,e[n].TheStrike(a,t.role.hit,!1,!1)}})},e.prototype.Star=function(t,e){for(var n=0;n<15;n++){var a=C.default.instance.CreateStar(),o=0;e.Upatk>1?(o=e.GetPracticalAtk()*e.fatality.value*e.Upatk,e.Upatk=1):o=e.GetPracticalAtk()*e.fatality.value,a.getComponent(b.default).init(t,e,n,o)}},e.prototype.Knife=function(t,e){var n=Math.floor(2*Math.random())+5;0==t&&(n=5);for(var a=0;a<n;a++){var o=C.default.instance.CreateKnife(),r=0;if(0==t){var l=c.default.getDisciple()[e.discipleIndex],u=s.default.Instance.getSkillToName(l.name)[0].skill,p=i.default.Instance.getMagicLvToName(u.skillName),d=i.default.Instance.getMagicToName(u.skillName,p);r=e.GetPracticalAtk()*d.skill,o.setPosition(cc.v2(-600,250))}else e.Upatk>1?(r=e.GetPracticalAtk()*e.fatality.value*e.Upatk,e.Upatk=1):r=e.GetPracticalAtk()*e.fatality.value,o.setPosition(cc.v2(500,250));0==t?o.getComponent(y.default).initTeamer(t,e,r,a):o.getComponent(y.default).initMonster(t,e,r,a)}},e.prototype.Tofly=function(t,e){for(var n=C.default.instance.GetTeam(),a=0,o=0,r=t.node.getPosition(),i=0;i<n.length;i++){var s=n[i].node.getPosition().sub(r).mag();0==a?(o=i,a=s):s<=a&&(a=s,o=i)}var l=n[o],u=.1/c.default.speed,p=t.node.position.sub(l.node.position);cc.tween(t.Content).by(u,{position:cc.v3(-p.x/2,-p.y/2,0)}).call(function(){var e;e=t.GetPracticalAtk()*t.fatality.value,l.TheStrike(e,t.role.hit,!1,!1),t.Cure(e),l.Tofly(t)}).by(u,{position:cc.v3(p.x/2,p.y/2,0)}).call(function(){e()}).start()},e.prototype.CureMatrix=function(t,e){var n=C.default.instance.CreateCureMatrix(),a=0;e.Upatk>1?(a=e.GetPracticalAtk()*e.fatality.value*e.Upatk,e.Upatk=1):a=e.GetPracticalAtk()*e.fatality.value,n.getComponent(u.default).init(t,e,a)},e.prototype.CureAll=function(t,e){for(var n=C.default.instance.GetMonster(),a=0;a<n.length;a++){var o=e.GetPracticalAtk()*e.fatality.value;n[a].Cure(o)}},e.prototype.FastAtk=function(t){for(var e=0;e<5;e++){var n=C.default.instance.Createbuttet();n.setPosition(t.node.getPosition()),n.getComponent(w.default).init(e,2,t,t.target,function(){var e=0;t.Upatk>1?(e=t.GetPracticalAtk()*t.Upatk,t.Upatk=1):e=t.GetPracticalAtk(),e*=.5,t.target.TheStrike(e,t.role.hit,!1,!1)})}},e.prototype.Wind=function(t,e){var n=0;e.Upatk>1?(n=e.GetPracticalAtk()*e.Upatk,e.Upatk=1):n=e.GetPracticalAtk(),n*=.5;var a=C.default.instance.CreateWind();a.setPosition(cc.v2(e.node.x,e.node.y)),a.getComponent(S.default).init(t,n,e,e.target)},e.prototype.BaneMatrix=function(t,e){C.default.instance.CreateBaneMatrix().getComponent(l.default).init(t,e)},e.prototype.Moon=function(t,e){var n=0;e.Upatk>1?(n=e.GetPracticalAtk()*e.Upatk,e.Upatk=1):n=e.GetPracticalAtk(),n*=e.role.initiative;var a=C.default.instance.CreateMoon();a.setPosition(cc.v2(e.node.x,e.node.y)),a.getComponent(g.default).init(t,n,e,e.target)},e.prototype.TeamStar=function(t,e){var n=this;this.Skill1[0].getComponent(m.default).init(function(){n.Skill1[1].node.active=!0,n.Skill1[2].node.active=!0,n.Skill1[3].node.active=!0,n.Skill1[1].setAnimation(0,"ef8_3",!1),n.Skill1[2].setAnimation(0,"ef8_2",!1),n.Skill1[3].setAnimation(0,"ef8_bg",!1);for(var t=C.default.instance.GetMonster(),a=s.default.Instance.getSkillToName(e.role.name)[0].skill,o=i.default.Instance.getMagicLvToName(a.skillName),r=i.default.Instance.getMagicToName(a.skillName,o),l=e.GetPracticalAtk()*r.skill/3,u=function(n){for(var a=0;a<3;a++)setTimeout(function(){if(t[n].role){t[n].TheStrike(l,e.role.hit,!1,!0);var a=C.default.instance.CreatewzlxHit();a.setPosition(t[n].node.getPosition());var o=a.getComponent(sp.Skeleton);o.setAnimation(0,"ef8_3",!1),o.setCompleteListener(function(){c.default.wzlxHit.restor(a)})}},200*a)},p=0;p<t.length;p++)u(p);n.Skill1[2].setCompleteListener(function(){n.Skill1[1].node.active=!1,n.Skill1[2].node.active=!1,n.Skill1[3].node.active=!1})})},e.prototype.TeamThunder=function(t){var e=C.default.instance.CreateSkillLJ();e.setPosition(cc.v2(0,375));var n=e.getComponent(sp.Skeleton);n.setAnimation(0,"ef13_bg",!1),n.setCompleteListener(function(){c.default.SkillLJ.restor(e)});for(var a=C.default.instance.GetMonster(),o=function(e){var n=C.default.instance.CreateThunder();n.setParent(a[e].SpineContent),n.getComponent(_.default).init(function(){var n=s.default.Instance.getSkillToName(t.role.name)[0].skill,o=i.default.Instance.getMagicLvToName(n.skillName),r=i.default.Instance.getMagicToName(n.skillName,o),c=t.GetPracticalAtk()*r.skill;a[e].TheStrike(c,t.role.hit,!1,!1),a[e].Constraint(t)})},r=0;r<a.length;r++)o(r)},e.prototype.Flamepalm=function(t){var e=C.default.instance.CreateFlamepalm(),n=t.node.getPosition();e.setPosition(n);var a,o=c.default.getDisciple()[t.discipleIndex],r=s.default.Instance.getSkillToName(o.name)[0].skill,l=i.default.Instance.getMagicLvToName(r.skillName),u=i.default.Instance.getMagicToName(r.skillName,l);a=t.GetPracticalAtk()*u.skill,e.getComponent(h.default).init(t,function(){for(var e=C.default.instance.GetMonster(),o=0;o<e.length;o++){var r=e[o].node.getPosition();if(n.sub(r).mag()<=200){e[o].TheStrike(a,t.role.hit,!1,!1);var i=C.default.instance.CreateFlame();i.setParent(e[o].SpineContent),i.getComponent(f.default).init(e[o])}}})},e.prototype.FireBall=function(t){var e=C.default.instance.CreateFireBall(),n=t.node.getPosition();e.setPosition(n),e.getComponent(d.default).init(t,function(){var e,a=C.default.instance.GetMonster(),o=c.default.getDisciple()[t.discipleIndex],r=s.default.Instance.getSkillToName(o.name)[0].skill,l=i.default.Instance.getMagicLvToName(r.skillName),u=i.default.Instance.getMagicToName(r.skillName,l);e=t.GetPracticalAtk()*u.skill;for(var p=0;p<a.length;p++){var d=a[p].node.getPosition();n.sub(d).mag()<=200&&a[p].TheStrike(e,t.role.hit,!1,!1)}})},e.prototype.PersistCure=function(t){for(var e=C.default.instance.GetTeam(),n=0;n<e.length;n++){var a=C.default.instance.CreatePersistCure();a.setParent(e[n].SpineContent);var o=c.default.getDisciple()[t.discipleIndex],r=s.default.Instance.getSkillToName(o.name)[0].skill,l=i.default.Instance.getMagicLvToName(r.skillName),u=i.default.Instance.getMagicToName(r.skillName,l);a.getComponent(v.default).init(e[n],u.skill)}},e.prototype.FourAtk=function(t){for(var e=0;e<4;e++){var n=C.default.instance.Createbuttet();n.setPosition(t.node.getPosition()),n.getComponent(w.default).init(e,3,t,t.target,function(){var e,n=c.default.getDisciple()[t.discipleIndex],a=s.default.Instance.getSkillToName(n.name)[1].skill,o=i.default.Instance.getMagicLvToName(a.skillName),r=i.default.Instance.getMagicToName(a.skillName,o);e=t.GetPracticalAtk()*r.skill,t.target.TheStrike(e,t.role.hit,!1,!1)})}},e.prototype.Sneer=function(t){for(var e=C.default.instance.GetMonster(),n=0;n<e.length;n++)e[n].setTarget(t)},e.prototype.Shield=function(t){for(var e=C.default.instance.GetTeam(),n=0,a=0,o=0;o<e.length;o++)if(0==n)n=e[o].role.hp/e[o].role.hp,a=o;else{var r=e[o].role.hp/e[o].role.hp;r<n&&(n=r,a=o)}var l=c.default.getDisciple()[t.discipleIndex],u=s.default.Instance.getSkillToName(l.name)[0].skill,p=i.default.Instance.getMagicLvToName(u.skillName),d=i.default.Instance.getMagicToName(u.skillName,p),f=t.GetPracticalAtk()*d.skill;e[a].setShield(f)},e.prototype.update=function(){},e.instance=null,r([k(sp.Skeleton)],e.prototype,"Skill1",void 0),n=r([P],e)}(cc.Component);n.default=I,cc._RF.pop()},{"../Manager/MagicDataManager":"MagicDataManager","../Manager/TeamSkillDataManager":"TeamSkillDataManager","../SkillGroup/Bane":"Bane","../SkillGroup/CureMatrix":"CureMatrix","../SkillGroup/Eddy":"Eddy","../SkillGroup/Fireball":"Fireball","../SkillGroup/Flame":"Flame","../SkillGroup/Flamepalm":"Flamepalm","../SkillGroup/Knife":"Knife","../SkillGroup/Moon":"Moon","../SkillGroup/PersistCure":"PersistCure","../SkillGroup/Skill1":"Skill1","../SkillGroup/Star":"Star","../SkillGroup/Thunder":"Thunder","../SkillGroup/Wind":"Wind","../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys","./bullet":"bullet"}],SkillDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"dd503DziqtO/q9wSgLC6Fjk","SkillDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/SkillData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","monsterSkill",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","monsterSkill")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.context=o.context,r.spine=o.spine,r.castTime=o.castTime,r.valueType=o.valueType,r.cd=o.cd,r.value=o.value,this.allDataList.push(r);return[2]}})})},e.prototype.GetSkill=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/SkillData":"SkillData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],SkillData:[function(t,e,n){"use strict";cc._RF.push(e,"d5bf0EuytRCdabdy9sr3bxN","SkillData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],SkillUi:[function(t,e,n){"use strict";cc._RF.push(e,"58758T1aLlKY5R6o0tE8Hfb","SkillUi");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Sp=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.init=function(t){var e=this;this.node.opacity=255;var n="";switch(t){case 1:n="skill1";break;case 2:n="skill3";break;case 3:n="p2_1";break;case 4:n="p2_2";break;case 5:n="p3_1";break;case 6:n="p3_2";break;case 7:n="p4_1";break;case 8:n="p4_2";break;case 9:n="p5_1";break;case 10:n="p5_2"}this.Sp.setAnimation(0,n,!1),this.Sp.setCompleteListener(function(){i.default.SkillSp.restor(e.node)}),cc.tween(this.node).delay(1.5).to(.5,{opacity:255}).start()},r([l(sp.Skeleton)],e.prototype,"Sp",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../record/GameSys":"GameSys"}],SkipUp:[function(t,e,n){"use strict";cc._RF.push(e,"786c1lnec1HyJ0vKFM7kE6W","SkipUp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/EquipDataManager"),u=t("../Manager/PropDataManager"),p=t("../Manager/SoundManager"),d=t("../Tools/GameTools"),f=t("./TipGroup"),h=t("./UIBase"),y=cc._decorator,g=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.oldFightNum=null,e.oldFrame=null,e.oldIcon=null,e.oldName=null,e.newFightNum=null,e.newFrame=null,e.newIcon=null,e.newName=null,e.newprop=null,e.oldprop=null,e}return o(e,t),e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r,i,c,p,f,h,y,g;return s(this,function(s){switch(s.label){case 0:return this.callback=e,this.oldprop=t,n=l.default.Instance.GetEquip(t.goodsid),this.oldFightNum.string="\u6218\u6597\u529b:"+d.default.refSetCoin(n.fight),a="PropIcon/"+t.icon,(o=d.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,d.default.loadImage("Bundle",a)];case 1:o=s.sent(),s.label=2;case 2:return this.oldIcon.spriteFrame=o,r="PropFrame/"+t.frame,(i=d.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,4]:[4,d.default.loadImage("Bundle",r)];case 3:i=s.sent(),s.label=4;case 4:return this.oldFrame.spriteFrame=i,this.oldName.string=t.name,this.oldName.node.color=cc.color().fromHEX(u.default.Instance.GetLevelColor(t.frame)),c=u.default.Instance.GetProp(t.id+1),this.newprop=c,p=l.default.Instance.GetEquip(c.goodsid),this.newFightNum.string="\u6218\u6597\u529b:"+d.default.refSetCoin(p.fight),f="PropIcon/"+c.icon,(h=d.default.GetRes("Bundle",f,cc.SpriteFrame))?[3,6]:[4,d.default.loadImage("Bundle",f)];case 5:h=s.sent(),s.label=6;case 6:return this.newIcon.spriteFrame=h,y="PropFrame/"+c.frame,(g=d.default.GetRes("Bundle",y,cc.SpriteFrame))?[3,8]:[4,d.default.loadImage("Bundle",y)];case 7:g=s.sent(),s.label=8;case 8:return this.newFrame.spriteFrame=g,this.newName.string=c.name,this.newName.node.color=cc.color().fromHEX(u.default.Instance.GetLevelColor(c.frame)),[2]}})})},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.ClickOff=function(){p.default.instance.play(p.Sound.Click),this.callback(!1),this.CloseThis()},e.prototype.ClickUp=function(){var t=this;p.default.instance.play(p.Sound.Click),d.default.getSdk().PlatformCallBack("REWARD",function(){t.callback(!0),t.CloseThis()},function(){f.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-1)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.start=function(){},r([v(cc.Label)],e.prototype,"oldFightNum",void 0),r([v(cc.Sprite)],e.prototype,"oldFrame",void 0),r([v(cc.Sprite)],e.prototype,"oldIcon",void 0),r([v(cc.Label)],e.prototype,"oldName",void 0),r([v(cc.Label)],e.prototype,"newFightNum",void 0),r([v(cc.Sprite)],e.prototype,"newFrame",void 0),r([v(cc.Sprite)],e.prototype,"newIcon",void 0),r([v(cc.Label)],e.prototype,"newName",void 0),r([g],e)}(h.default);n.default=m,cc._RF.pop()},{"../Manager/EquipDataManager":"EquipDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase"}],Soaring:[function(t,e,n){"use strict";cc._RF.push(e,"f26e6bhr+5ANr/tN65Phc/v","Soaring");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("./PanelConst"),h=t("./TipGroup"),y=t("./UIBase"),g=t("./UIManager"),v=cc._decorator,m=v.ccclass,b=(v.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.start=function(){},e.prototype.ClickDo=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return u.default.instance.play(u.Sound.Click),40==p.default.getLevel()?p.default.disater=0:p.default.disater=60,t=l.default.Instance.GetNeedCoin(),g.default.Instance.ChangeCoin(-t),[4,g.default.Instance.ShowUI(f.default.DisasterPanel)];case 1:return e.sent(),this.CloseThis(),[2]}})})},e.prototype.ClickVideo=function(){var t=this;u.default.instance.play(u.Sound.Click),d.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return p.default.disater=100,t=l.default.Instance.GetNeedCoin(),g.default.Instance.ChangeCoin(-t),[4,g.default.Instance.ShowUI(f.default.DisasterPanel)];case 1:return e.sent(),this.CloseThis(),[2]}})})},function(){h.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-2)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([m],e)}(y.default));n.default=b,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"21e8bt8LOVHXZi7O8yukU1q","SoundManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.Sound=void 0;var i,s=t("../record/GameSys"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.BGM1=0]="BGM1",t[t.BGM2=1]="BGM2",t[t.BGM3=2]="BGM3",t[t.Click=3]="Click",t[t.Nan=4]="Nan",t[t.Nv=5]="Nv",t[t.PlayUp=6]="PlayUp",t[t.SkillUp=7]="SkillUp",t[t.Shengji=8]="Shengji",t[t.leidian=9]="leidian",t[t.touch=10]="touch",t[t.soulbox_drop=11]="soulbox_drop",t[t.soulbox_open=12]="soulbox_open",t[t.soulbox_w=13]="soulbox_w"})(i=n.Sound||(n.Sound={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audios=[],e.audioid=-1,e.playaudio=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,cc.audioEngine.stopAll(),this.play(i.BGM1,!0,1)},e.prototype.play=function(t,e){s.default.getMusic()&&this.playaudio&&(t<3?t!=this.audioid&&(this.audioid=cc.audioEngine.playMusic(this.audios[t],e||!0)):cc.audioEngine.playEffect(this.audios[t],e||!1))},e.prototype.init=function(){s.default.getMusic()?this.playBGM():this.stopBGM()},e.prototype.stopBGM=function(){s.default.setMusic(!1),cc.audioEngine.pauseAll()},e.prototype.resumeBGM=function(){this.playaudio=!0,s.default.getMusic()&&cc.audioEngine.resumeAll()},e.prototype.pauseBGM=function(){this.playaudio=!1,cc.audioEngine.pauseAll()},e.prototype.playBGM=function(){s.default.setMusic(!0),-1==this.audioid?this.play(i.BGM1,!0,1):cc.audioEngine.resumeAll()},r([u({type:cc.AudioClip})],e.prototype,"audios",void 0),n=r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../record/GameSys":"GameSys"}],SpeedUp:[function(t,e,n){"use strict";cc._RF.push(e,"85b57VKxylEYLko0R7MsQJk","SpeedUp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TimeManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particle=null,e}return o(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.Click_play,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.Click_restore,this),this.node.on(cc.Node.EventType.TOUCH_END,this.Click_restore,this)},e.prototype.Click_play=function(){i.default.instance.timeSpeed=1,i.default.instance.Time/=3,this.particle.life=.5,this.particle.lifeVar=.1,this.particle.emissionRate=70},e.prototype.Click_restore=function(){i.default.instance.timeSpeed=3,i.default.instance.Time*=3,this.particle.life=3.5,this.particle.lifeVar=1,this.particle.emissionRate=10},r([l(cc.ParticleSystem)],e.prototype,"particle",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./TimeManager":"TimeManager"}],StartGame:[function(t,e,n){"use strict";cc._RF.push(e,"64a4bQ3dCRCcbywbNRLAM8Y","StartGame");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/ChapterDataManager"),s=t("../Manager/SoundManager"),c=t("../Tools/EventConst"),l=t("../Tools/GameTools"),u=t("./UIBase"),p=t("./UIManager"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BtnSp=null,e.Sp1=null,e.Sp2=null,e.Content=null,e.LayoutArray=[],e.index=0,e.isCanClick=!1,e.is=!1,e}return o(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var e=this;t.prototype.onEnable.call(this),this.Sp1.setAnimation(0,"1ac1",!1),this.Sp1.setCompleteListener(function(){"1ac1"==e.Sp1.animation&&(e.Sp1.setAnimation(0,"1ac2",!0),e.Sp1.setAnimation(1,"2ac2",!0),e.Sp1.setAnimation(2,"3ac2",!1),e.Sp2.setAnimation(0,"1idle",!0),cc.tween(e.Sp2.node).call(function(){e.Sp2.node.opacity=0}).to(1,{opacity:255}).call(function(){e.showLayout()}).start())})},e.prototype.showLayout=function(){var t=this;this.LayoutArray[this.index].active=!0,cc.tween(this.LayoutArray[this.index]).call(function(){t.LayoutArray[t.index].opacity=0}).to(1.5,{opacity:255}).call(function(){if(t.isCanClick=!0,3==t.index){p.default.Instance.ChangeCoin(100);var e=t.Sp2.setAnimation(1,"2end",!1);t.Sp2.setTrackCompleteListener(e,function(){cc.systemEvent.emit(c.EventConst.GameStart),t.CloseThis();var e=i.default.Instance.GetData(1);cc.systemEvent.emit(c.EventConst.playChapter,e)})}}).start()},e.prototype.ClickStart=function(t,e){var n=this;if(this.isCanClick){s.default.instance.play(s.Sound.Click);var a=parseInt(e);if(this.BtnSp.node.y=0==a?-165.835:-284.835,this.BtnSp.setAnimation(0,"lvup",!1),this.isCanClick=!1,this.Sp2.setAnimation(1,"2touch",!1),this.hideLayout(),this.index++,l.default.getSdk().sendEvent("guide",{message:"\u65b0\u624b\u5f15\u5bfc",pos:this.index}),this.index<4)cc.tween(this.node).delay(2).call(function(){n.showLayout()}).start();else{cc.systemEvent.emit(c.EventConst.GameStart),this.CloseThis();var o=i.default.Instance.GetData(1);cc.systemEvent.emit(c.EventConst.playChapter,o)}}},e.prototype.hideLayout=function(){var t=this;this.LayoutArray[this.index].stopAllActions(),cc.tween(this.LayoutArray[this.index]).to(.5,{opacity:0}).call(function(){t.LayoutArray[t.index].active=!1}).start()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([h(sp.Skeleton)],e.prototype,"BtnSp",void 0),r([h(sp.Skeleton)],e.prototype,"Sp1",void 0),r([h(sp.Skeleton)],e.prototype,"Sp2",void 0),r([h(cc.Node)],e.prototype,"Content",void 0),r([h(cc.Node)],e.prototype,"LayoutArray",void 0),r([f],e)}(u.default);n.default=y,cc._RF.pop()},{"../Manager/ChapterDataManager":"ChapterDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","./UIBase":"UIBase","./UIManager":"UIManager"}],Star:[function(t,e,n){"use strict";cc._RF.push(e,"20bddPo7nVGhrGI0X0349wc","Star");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.open=0,e.master=null,e.atk=0,e.target=null,e.type=0,e.moveSpeed=3,e.dir=cc.v2(0,0),e.g=1e3,e.move=!1,e.i=!1,e}return o(e,t),e.prototype.init=function(t,e,n,a){this.node.setPosition(cc.v2(0,900)),this.target=null,this.move=!1,this.type=t,this.open=.01,this.master=e,this.atk=a},e.prototype.GetTagret=function(){var t=s.default.instance.GetMonster();if(t.length<=0)return this.target=null,this.move=!1,void i.default.Star.restor(this.node);var e=Math.floor(Math.random()*t.length);this.target=t[e];var n=this.master.node.getPosition(),a=cc.v2(n.x-100,n.y+150),o=cc.v2(n.x-150,n.y+75),r=cc.v2(n.x-200,n.y),c=cc.v2(n.x-150,n.y-75),l=cc.v2(n.x-100,n.y-150),u=[];u.push(a,o,r,c,l);var p=Math.floor(5*Math.random());this.i=p<2,this.node.setPosition(u[p]),this.getBezierPoints()},e.prototype.getBezierPoints=function(){if(s.default.instance.state==s.FightState.ready)return this.target=null,this.move=!1,void i.default.Star.restor(this.node);var t=this.node.getPosition(),e=this.target.node.parent.convertToWorldSpaceAR(this.target.node.getPosition()),n=this.node.parent.convertToNodeSpaceAR(e);this.dir.x=n.x-t.x,this.g=300*Math.random()+800,this.i?this.dir.y=n.y-t.y+.5*this.g:this.dir.y=n.y-t.y-.5*this.g,this.move=!0},e.prototype.update=function(t){if(s.default.instance.state==s.FightState.ready)return this.target=null,this.move=!1,void i.default.Star.restor(this.node);if(this.open>0&&(this.open-=t*i.default.speed,this.open<=0&&this.GetTagret()),this.target&&this.target.node){var e=this.node.getPosition(),n=this.target.node.convertToWorldSpaceAR(cc.Vec2.ZERO),a=this.node.parent.convertToNodeSpaceAR(n);e.sub(a).mag()<=50&&(this.target.TheStrike(this.atk,this.master.role.hit,!1,!0),this.target=null,this.move=!1,i.default.Star.restor(this.node))}else this.target=null,this.move=!1,i.default.Star.restor(this.node);this.move&&(this.node.x+=t*this.dir.x*i.default.speed*this.moveSpeed,this.node.y+=t*this.dir.y*i.default.speed*this.moveSpeed,this.i?this.dir.y-=this.g*t*this.moveSpeed*i.default.speed:this.dir.y+=this.g*t*this.moveSpeed*i.default.speed)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],StateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"9469dlB4LFJu7+S0G7Si/np","StateMachine"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],State:[function(t,e,n){"use strict";cc._RF.push(e,"a7c71zoahtDSI+CXrQ6KhrU","State"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],StoryDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"20211zRSXdNi6fqvxHdsW7c","StoryDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/StoryData"),l=t("../record/GameSys"),u=t("../Tools/GameTools"),p=t("./SingleBase"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=u.default.GetRes("JsonBundle","daoyou_literary",cc.JsonAsset))?[3,2]:[4,u.default.loadJson("JsonBundle","daoyou_literary")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.name=o.name,r.head="hero_fight_avatar_"+(a+1),r.paint="daoyou_"+(a+1),r.literary1_open=o.literary1_open,r.literary1=o.literary1,r.literary2_open=o.literary2_open,r.literary2=o.literary2,r.literary3_open=o.literary3_open,r.literary3=o.literary3,r.literary4_open=o.literary4_open,r.literary4=o.literary4,r.literary5_open=o.literary5_open,r.literary5=o.literary5,r.unlock=o.unlock,r.unlockInfo=o.unlockInfo,this.allDataList.push(r);return[2]}})})},e.prototype.GetStory=function(t){for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].id==t)return this.allDataList[e];if(e>=this.allDataList.length-1)return this.allDataList[e]}},e.prototype.IsCanUnlock=function(t){var e=this.GetStory(t+1);return!(l.default.getMaxCustoms()<e.unlock)},e.prototype.UnlockOrder=function(){for(var t=999999,e=[],n=0;n<this.allDataList.length;n++)e.push(this.allDataList[n].unlock);for(n=0;n<e.length;n++)for(var a=0;a<=n;a++)e[a]>e[n]&&(t=e[n],e[n]=e[a],e[a]=t);return e},n=r([f],e)}(p.default));n.default=h,cc._RF.pop()},{"../Data/StoryData":"StoryData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],StoryData:[function(t,e,n){"use strict";cc._RF.push(e,"b042dkQPy9GMouS2F7P20Wd","StoryData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],StoryPanel:[function(t,e,n){"use strict";cc._RF.push(e,"184beIOajlFhKmwqKRtfobh","StoryPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=t("../Manager/DiscipleDataManager"),c=t("../Manager/HeroDataManager"),l=t("../Manager/StoryDataManager"),u=t("../record/GameSys"),p=t("./UIBase"),d=cc._decorator,f=d.ccclass,h=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=[],e.Realm=null,e.index=0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.init=function(t){this.index=t;for(var e=l.default.Instance.GetStory(t+1),n=u.default.getDisciple()[t],a=0;a<5;a++){var o=0,r="";switch(a){case 0:o=e.literary1_open,r=e.literary1;break;case 1:o=e.literary2_open,r=e.literary2;break;case 2:o=e.literary3_open,r=e.literary3;break;case 3:o=e.literary4_open,r=e.literary4;break;case 4:o=e.literary5_open,r=e.literary5}if(999999!=o){this.item[a].active=!0;var p=this.item[a].getChildByName("title").getChildByName("type").getComponent(cc.Label),d=this.item[a].getChildByName("info").getComponent(cc.Label),f=this.item[a].getChildByName("unlock"),h=this.item[a].getChildByName("unlock").getChildByName("info").getComponent(cc.Label);n.level>=o?(p.string=0==o?i.i18nMgr.getLabel("title194"):c.default.Instance.GetRole(o).realm+i.i18nMgr.getLabel("title195"),d.string="      "+r,d.node.active=!0,p.node.active=!0,f.active=!1):(d.node.active=!1,p.node.active=!1,f.active=!0,h.string=""+c.default.Instance.GetRole(o).realm+i.i18nMgr.getLabel("title195"),console.log("aaaa"))}else this.item[a].active=!1}this.Realm.string=s.default.Instance.GetBasicRole(this.index).realm},r([h(cc.Node)],e.prototype,"item",void 0),r([h(cc.Label)],e.prototype,"Realm",void 0),r([f],e)}(p.default);n.default=y,cc._RF.pop()},{"../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/StoryDataManager":"StoryDataManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./UIBase":"UIBase"}],TTManager:[function(t,e,n){"use strict";cc._RF.push(e,"7bbe4f999hBX7G1nMSb4AfR","TTManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../record/GameSys"),i=t("../Tools/EventConst"),s=t("../UI/TipGroup"),c=t("./PlatformConst"),l=t("./SdkManager"),u="share.png",p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shareIds=["1"],e.shareParam=[{title:"\u4e0a\u73ed\u6302\u673a\u6253\u602a\uff0c\u4e0b\u73ed\u6e21\u52ab\u98de\u5347\uff01",imageUrl:u,desc:"\u7eaf\u6b63\u56fd\u98ce\u653e\u7f6e\u4fee\u4ed9\uff0c\u8bd7\u9152\u6c5f\u6e56\u4e0e\u7ea2\u989c\u77e5\u5df1"}],e.videoTopics=["\u4fee\u4ed9\u6c5f\u6e56","\u6e21\u52ab\u6210\u4ed9"],e.recorder=null,e.recorderTime=0,e.recordvidoe=null,e.recordState=0,e.bannerAd=null,e.bannerCount=0,e.bannerRepeat=5,e.bannerIsHiden=!0,e.rewardedAd=null,e.last_show=0,e}return o(e,t),e.prototype.init=function(){var t=this;return new Promise(function(e){t.initShare(),t.initRecorder(),e("")})},e.prototype.getChannel=function(){return"TT"},e.prototype.getChannelId=function(){return"0001048"},e.prototype.vibrate=function(){tt.vibrateShort({})},e.prototype.sendEvent=function(t,e){if(tt.uma)switch(t){case"sp_startLevel":tt.uma.stage.onStart({stageId:e.level,stageName:e.level});break;case"sp_finishLevel":tt.uma.stage.onEnd({stageId:e.level,stageName:e.level,event:"complete"});break;case"sp_failLevel":tt.uma.stage.onEnd({stageId:e.level,stageName:e.level,event:"fail"});break;default:if(e){var n={};for(var a in e){var o=e[a];n[a]=o.toString()}tt.uma.trackEvent(t,n)}else tt.uma.trackEvent(t)}},e.prototype.isSupportShare=function(){return!0},e.prototype.initShare=function(){var t=this;tt.showShareMenu({success:function(){console.log("\u5df2\u6210\u529f\u663e\u793a\u8f6c\u53d1\u6309\u94ae")}}),tt.onShareAppMessage(function(){return t.shareParam[0]})},e.prototype.share=function(t,e,n){void 0===t&&(t=0);var a={success:function(){console.log("\u5206\u4eab\u6210\u529f"),e&&e()},fail:function(){console.log("\u5206\u4eab\u5931\u8d25"),n&&n()}};Object.assign(a,this.shareParam[t]),tt.shareAppMessage(a)},e.prototype.initRecorder=function(){var t=this;null==this.recorder&&(this.recorder=tt.getGameRecorderManager(),this.recorder.onStop(function(e){console.log("\u5f55\u5c4f\u7ed3\u675f"),t.recordvidoe=e.videoPath}),this.recorder.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f"),t.recordState=1,r.default.isdorecorder=1,cc.systemEvent.emit(i.EventConst.Recorder)}),this.recorder.onInterruptionEnd(function(){console.log("\u5f55\u5c4f\u4e2d\u65ad"),t.recordState=0}),this.recorder.onError(function(e){console.log("\u5f55\u5c4f\u9519\u8bef",e.errMsg),t.recordState=0,r.default.isdorecorder=0,cc.systemEvent.emit(i.EventConst.Recorder)}))},e.prototype.recorderStart=function(t){void 0===t&&(t=300),this.recorderTime=Date.now(),this.recorder.start({duration:t})},e.prototype.recorderStop=function(){if(console.log("\u624b\u52a8\u7ed3\u675f\u5f55\u5c4f"),0!=this.recordState){if(this.recorder.stop(),Date.now()-this.recorderTime<3e3)return r.default.isdorecorder=0,cc.systemEvent.emit(i.EventConst.Recorder),void s.default.instance.setText(-1,"\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2\u3002");r.default.isdorecorder=2,cc.systemEvent.emit(i.EventConst.Recorder)}},e.prototype.shareRecorder=function(t,e,n){if(void 0===t&&(t=0),this.recordvidoe){var a={channel:"video",extra:{videoPath:this.recordvidoe,videoTopics:this.videoTopics,hashtag_list:this.videoTopics,createChallenge:!1},success:function(){console.log("\u5206\u4eab\u6210\u529f"),e&&e()},fail:function(){console.log("\u5206\u4eab\u5931\u8d25"),n&&n()}};Object.assign(a,this.shareParam[t]),tt.shareAppMessage(a)}else n&&n()},e.prototype.login=function(t){this.init(),t()},e.prototype.authorize=function(){},e.prototype.closeUserInfo=function(){},e.prototype.createBannerAd=function(t){var e=this,n=tt.getSystemInfoSync().screenWidth,a=tt.getSystemInfoSync().screenHeight,o={left:(n-200)/2,top:a-112.5,width:200};t&&(o.adIntervals=t),this.bannerAd=tt.createBannerAd({adUnitId:c.TTConst.param_banner,style:o}),this.bannerAd.onResize(function(t){console.log(t.width,t.height),200!=t.width&&(e.bannerAd.style.top=a-t.height,e.bannerAd.style.left=(n-t.width)/2)}),this.bannerAd.onLoad(function(){console.log("banner \u52a0\u8f7d\u6210\u529f"),e.bannerIsHiden||e.bannerShow()}),this.bannerAd.onError(function(t){console.log("banner \u51fa\u9519",t),e.bannerAd.destroy(),e.bannerAd=null})},e.prototype.bannerAdShow=function(t){void 0===t&&(t=0),this.bannerIsHiden=!1,0==this.bannerRepeat?null==this.bannerAd&&this.createBannerAd():this.bannerRepeat>0&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd?this.createBannerAd():this.bannerShow())},e.prototype.bannerAdShowAutoUpdate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=30),this.bannerIsHiden=!1,null==this.bannerAd?this.createBannerAd(e):this.bannerShow()},e.prototype.bannerAdHide=function(){console.log("banner \u5173\u95ed"),this.bannerIsHiden=!0,null!=this.bannerAd&&this.bannerAd.hide()},e.prototype.bannerShow=function(){var t=this;this.bannerAd.show().then(function(){console.log("banner\u663e\u793a\u6210\u529f"),t.bannerIsHiden&&t.bannerAdHide()})},e.prototype.rewardedAdShow=function(t,e,n){var a=this;void 0===t&&(t=-1),this.rewardedAd||(this.rewardedAd=tt.createRewardedVideoAd({adUnitId:c.TTConst.param_rewardedVideo}));var o=function(t){t.count?(console.log("\u6210\u529f\u89c2\u770b\u6b21\u6570",t.count),e()):t.isEnded?(console.log("\u6210\u529f"),e()):(console.log("\u5931\u8d25"),n(!1)),a.rewardedAd.offClose(o)};this.rewardedAd.onClose(o),this.rewardedAd.show().then(function(){a.last_show=Date.now()}).catch(function(t){console.log("reward show error, retry...",t.errCode,t.errMsg),a.rewardedAd.load().then(function(){console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),a.rewardedAd.show().then(function(){a.last_show=Date.now()}).catch(function(t){console.log("reward show2 error",t.errCode,t.errMsg),s.default.instance.setText(-1,"\u6682\u65e0\u5e7f\u544a")})}).catch(function(t){console.log("reward load error",t.errCode,t.errMsg),s.default.instance.setText(-1,"\u6682\u65e0\u5e7f\u544a")})})},e.prototype.interstitialAdShow=function(t){var e=this;void 0===t&&(t=1);var n=Date.now()-this.last_show;if(n<6e4)console.log("\u63d2\u5c4fCD",n);else if("Toutiao"==tt.getSystemInfoSync().appName){var a=tt.createInterstitialAd({adUnitId:c.TTConst.param_interstitial});a.onClose(function(){console.log("\u63d2\u5c4f\u5173\u95ed"),a.destroy()}),a.onLoad(function(){console.log("\u63d2\u5c4f\u52a0\u8f7d\u6210\u529f"),a.show(),e.last_show=Date.now()}),a.onError(function(t){console.log("\u63d2\u5c4f\u9519\u8bef",t)})}},e.prototype.getMenuButtonBottom=function(){return tt.getMenuButtonBoundingClientRect().bottom/cc.view.getFrameSize().height*cc.winSize.height},e.prototype.aweme=function(){"Douyin"==tt.getSystemInfoSync().appName&&tt.openAwemeUserProfile()},e.prototype.awemeCanShow=function(){return"Douyin"==tt.getSystemInfoSync().appName},e.prototype.addToFavorites=function(t,e){tt.showFavoriteGuide({type:"bar",content:"\u4e00\u952e\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f",position:"bottom",success:function(){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u6210\u529f"),t&&t()},fail:function(){console.log("\u5f15\u5bfc\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25"),e&&e()}})},e.prototype.toGame=function(t,e){tt.navigateToMiniProgram({appId:t,success:function(){e&&e()}})},e.prototype.isSupportDesktop=function(){return!0},e.prototype.saveAppToDesktop=function(t,e){tt.addShortcut({success:function(){t&&t()},fail:function(){e&&e()}})},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),r.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e(),r.default.setVideoCount()},n)):"BANNER"==t?r.default.isShowBannerAd&&this.bannerAdShow():"BANNERCLOSE"==t?r.default.isShowBannerAd&&this.bannerAdHide():"INTER"==t&&r.default.isShowInterAd&&r.default.interTime<=0&&(r.default.interTime=30,this.interstitialAdShow())},e}(l.default);n.default=p,cc._RF.pop()},{"../Tools/EventConst":"EventConst","../UI/TipGroup":"TipGroup","../record/GameSys":"GameSys","./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],TalkDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"ae0c3/JlzlDuK5G55MvZ26T","TalkDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/TalkData"),l=t("../Tools/GameTools"),u=t("./SingleBase"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.initTalkData()];case 1:return t.sent(),[2]}})})},e.prototype.initTalkData=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=l.default.GetRes("JsonBundle","guide_talk",cc.JsonAsset))?[3,2]:[4,l.default.loadJson("JsonBundle","guide_talk")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.rightName=o.rightName,r.rightAvatar=o.rightAvatar,r.leftName=o.leftName,r.leftAvatar=o.leftAvatar,r.whoTalk=o.whoTalk,r.text=o.text,r.talkId=o.talkId,this.allDataList.push(r);return[2]}})})},e.prototype.GetGroupTalk=function(t){for(var e=[],n=0;n<this.allDataList.length;n++)this.allDataList[n].talkId==t&&e.push(this.allDataList[n]);return e},n=r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../Data/TalkData":"TalkData","../Tools/GameTools":"GameTools","./SingleBase":"SingleBase"}],TalkData:[function(t,e,n){"use strict";cc._RF.push(e,"49df2+P9uJKyLUR5dr5/UiP","TalkData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],TalkOptionPanel:[function(t,e,n){"use strict";cc._RF.push(e,"7d4f1RrfvJPGLZlwFaGVCiJ","TalkOptionPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CallerDataManager"),l=t("../Manager/CallerTalkDataManager"),u=t("../Manager/PropDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=t("./PanelConst"),y=t("./RewardPanel"),g=t("./TalkPanel"),v=t("./UIBase"),m=t("./UIManager"),b=cc._decorator,_=b.ccclass,S=b.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Name=null,e.Text=null,e.Options1=null,e.Options2=null,e.Icon=null,e.id=0,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.start=function(){},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return this.id=t,e=c.default.Instance.getData(t),this.Name.string=""+e.guest,n="Caller/Paint_"+e.guestAvatar,(a=f.default.GetRes("SpriteBundle1",n))?[3,2]:[4,f.default.loadImage("SpriteBundle1",n)];case 1:a=i.sent(),i.label=2;case 2:return this.Icon.spriteFrame=a,o=l.default.Instance.getGroupTalk(e.talkId),r=o[o.length-2].text,this.Text.string=""+r,this.Options1.string=""+o[o.length-1].option1,this.Options2.string=""+o[o.length-1].option2,[2]}})})},e.prototype.ClickOptions=function(t,e){return i(this,void 0,void 0,function(){var t,n,a,o=this;return s(this,function(r){switch(r.label){case 0:switch(p.default.instance.play(p.Sound.Click),t=c.default.Instance.getData(this.id),e){case"1":return[3,1];case"2":return[3,3]}return[3,5];case 1:return[4,m.default.Instance.ShowUI(h.default.TalkPanel)];case 2:return r.sent(),m.default.Instance.GetClass(h.default.TalkPanel).getComponent(g.default).initCaller(t.end1Id,function(){return i(o,void 0,void 0,function(){var e,n,a;return s(this,function(o){switch(o.label){case 0:return 999999==t.end1Item?[3,2]:(e=[],n=u.default.Instance.GetProp(t.end1Item),a=t.end1ItemNum,e.push({prop:n,have:a}),[4,m.default.Instance.ShowUI(h.default.RewardPanel)]);case 1:o.sent(),m.default.Instance.GetClass(h.default.RewardPanel).getComponent(y.default).initAsset(e),o.label=2;case 2:return[2]}})})}),[3,5];case 3:return[4,m.default.Instance.ShowUI(h.default.TalkPanel)];case 4:return r.sent(),m.default.Instance.GetClass(h.default.TalkPanel).getComponent(g.default).initCaller(t.end2Id,function(){return i(o,void 0,void 0,function(){var e,n,a;return s(this,function(o){switch(o.label){case 0:return 999999==t.end2Item?[3,2]:(e=[],n=u.default.Instance.GetProp(t.end2Item),a=t.end2ItemNum,e.push({prop:n,have:a}),[4,m.default.Instance.ShowUI(h.default.RewardPanel)]);case 1:o.sent(),m.default.Instance.GetClass(h.default.RewardPanel).getComponent(y.default).initAsset(e),o.label=2;case 2:return[2]}})})}),[3,5];case 5:for(n=d.default.getCallerEvent(),a=0;a<n.length;a++)n[a].id==this.id&&(n[a].state=!0,d.default.setCallerEvent(n));return this.CloseThis(),[2]}})})},r([S(cc.Label)],e.prototype,"Name",void 0),r([S(cc.Label)],e.prototype,"Text",void 0),r([S(cc.Label)],e.prototype,"Options1",void 0),r([S(cc.Label)],e.prototype,"Options2",void 0),r([S(cc.Sprite)],e.prototype,"Icon",void 0),r([_],e)}(v.default);n.default=C,cc._RF.pop()},{"../Manager/CallerDataManager":"CallerDataManager","../Manager/CallerTalkDataManager":"CallerTalkDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TalkPanel":"TalkPanel","./UIBase":"UIBase","./UIManager":"UIManager"}],TalkPanel:[function(t,e,n){"use strict";cc._RF.push(e,"22cb4F0ft1Iuoi/QdnybjMT","TalkPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CallerTalkDataManager"),l=t("../Manager/CustomTalkDataManager"),u=t("../Manager/TalkDataManager"),p=t("../Tools/GameTools"),d=t("./UIBase"),f=cc._decorator,h=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Sp=null,e.Left=null,e.LeftPaint=null,e.LeftName=null,e.Right=null,e.RightPaint=null,e.RightName=null,e.txt=null,e.btn=null,e.type=0,e.Array=[],e.CallerArray=[],e.index=0,e.cout=0,e.timeout=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.Right=t.getChildByName("right"),this.RightName=this.Right.getChildByName("name").getComponent(cc.Label),this.RightPaint=this.Right.getChildByName("icon").getComponent(cc.Sprite),this.Left=t.getChildByName("left"),this.LeftName=this.Left.getChildByName("name").getComponent(cc.Label),this.LeftPaint=this.Left.getChildByName("icon").getComponent(cc.Sprite),this.txt=t.getChildByName("txt").getComponent(cc.Label),this.btn=t.getChildByName("btn")},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.Left.active=!1,this.Right.active=!1},e.prototype.init=function(t,e){this.type=0,this.callback=e,this.Array=u.default.Instance.GetGroupTalk(t),this.index=0,this.Array.length<=0?this.CloseThis():this.ShowTxt()},e.prototype.initCustoms=function(t,e,n){this.type=0,this.callback=n,this.index=0,this.Array=[];for(var a=l.default.Instance.GetGroupTalk(t),o=0;o<a.length;o++){var r=a[o];if(r.startOrEnd==e){var i={id:r.id,rightName:r.rightName,rightAvatar:r.rightAvatar,leftName:r.leftName,leftAvatar:r.leftAvatar,whoTalk:r.whoTalk,text:r.text,talkId:r.id};this.Array.push(i)}}this.ShowTxt()},e.prototype.initCaller=function(t,e){this.type=1,this.callback=e,this.index=0,this.CallerArray=[],this.CallerArray=c.default.Instance.getGroupTalk(t),this.ShowTxtCaller()},e.prototype.ShowTxtCaller=function(){var t=this.CallerArray[this.index];this.initCallerHead(t),this.Sp.node.active=!1,this.str=t.text,this.cout=0,this.typewriter(t.text)},e.prototype.initCallerHead=function(t){return i(this,void 0,void 0,function(){var e,n;return s(this,function(a){switch(a.label){case 0:return this.Left.active=!0,this.LeftName.string="999999"!=t.leftAvatar?""+t.leftName:"","999999"==t.leftAvatar?[3,3]:(e="Talk/"+t.leftAvatar,(n=p.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,2]:[4,p.default.loadImage("SpriteBundle1",e)]);case 1:n=a.sent(),a.label=2;case 2:return this.LeftPaint.spriteFrame=n,this.LeftPaint.node.active=!0,[3,4];case 3:this.LeftPaint.node.active=!1,a.label=4;case 4:return this.LeftPaint.node.color=1==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),this.LeftName.node.color=1==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),this.Right.active=!0,this.RightName.string="999999"!=t.rightAvatar?""+t.rightName:"","999999"==t.rightAvatar?[3,7]:(e="Talk/"+t.rightAvatar,(n=p.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,6]:[4,p.default.loadImage("SpriteBundle1",e)]);case 5:n=a.sent(),a.label=6;case 6:return this.RightPaint.spriteFrame=n,this.RightPaint.node.active=!0,[3,8];case 7:this.RightPaint.node.active=!1,a.label=8;case 8:return this.RightPaint.node.color=2==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),this.RightName.node.color=2==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),[2]}})})},e.prototype.ShowTxt=function(){var t=this.Array[this.index];this.initPaint(t),this.Sp.node.active=!1,this.str=t.text,this.cout=0,this.typewriter(t.text)},e.prototype.typewriter=function(t){var e=this;this.txt.string="       ",this.node.stopAllActions();for(var n=function(n){cc.tween(a.node).delay(.05*n).call(function(){e.txt.string+=t[n],n>=t.length-1&&(e.cout=1)}).start()},a=this,o=0;o<t.length;o++)n(o)},e.prototype.ClickBtn=function(){0==this.cout?(this.node.stopAllActions(),this.txt.string="       "+this.str,this.cout=1):(this.index++,0==this.type?this.index>=this.Array.length?this.CloseThis():this.ShowTxt():this.index>=this.CallerArray.length?this.CloseThis():this.ShowTxtCaller())},e.prototype.initPaint=function(t){return i(this,void 0,void 0,function(){var e,n;return s(this,function(a){switch(a.label){case 0:return this.Left.active=!0,this.LeftName.string="999999"!=t.leftName?""+t.leftName:"","999999"==t.leftAvatar?[3,3]:(e="Talk/"+t.leftAvatar,(n=p.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,2]:[4,p.default.loadImage("SpriteBundle1",e)]);case 1:n=a.sent(),a.label=2;case 2:return this.LeftPaint.spriteFrame=n,this.LeftPaint.node.active=!0,[3,4];case 3:this.LeftPaint.node.active=!1,a.label=4;case 4:return this.LeftPaint.node.color=1==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),this.LeftName.node.color=1==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),this.Right.active=!0,this.RightName.string="999999"!=t.rightName?""+t.rightName:"","999999"==t.rightAvatar?[3,7]:(e="Talk/"+t.rightAvatar,(n=p.default.GetRes("SpriteBundle1",e,cc.SpriteFrame))?[3,6]:[4,p.default.loadImage("SpriteBundle1",e)]);case 5:n=a.sent(),a.label=6;case 6:return this.RightPaint.spriteFrame=n,this.RightPaint.node.active=!0,[3,8];case 7:this.RightPaint.node.active=!1,a.label=8;case 8:return this.RightPaint.node.color=2==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),this.RightName.node.color=2==t.whoTalk?cc.color().fromHEX("#FFFFFF"):cc.color().fromHEX("#656565"),[2]}})})},e.prototype.start=function(){},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),this.callback()},r([y(sp.Skeleton)],e.prototype,"Sp",void 0),r([h],e)}(d.default);n.default=g,cc._RF.pop()},{"../Manager/CallerTalkDataManager":"CallerTalkDataManager","../Manager/CustomTalkDataManager":"CustomTalkDataManager","../Manager/TalkDataManager":"TalkDataManager","../Tools/GameTools":"GameTools","./UIBase":"UIBase"}],TaskPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bb779sCzuVB7IINFJ5T9L4w","TaskPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/AchievementDataManager"),s=t("../Manager/SoundManager"),c=t("../record/GameSys"),l=t("./EveryDayTask"),u=t("./UIBase"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doingNum=null,e.content=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.initEveryDay()},e.prototype.initEveryDay=function(){for(var t=0;t<this.content.childrenCount;t++)this.content.children[t].getComponent(l.default).init(t,this);var e=c.default.getEveryDay(),n=0;for(t=0;t<e.length;t++)1==e[t].state&&(n+=1);this.doingNum.string=n+"/4"},e.prototype.start=function(){},e.prototype.ClickOff=function(){s.default.instance.play(s.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.TaskRed=function(){for(var t=c.default.getEveryDay(),e=0;e<t.length;e++)1==t[e].state&&1;i.default.Instance.isHaveReceive(),i.default.Instance.isHaveSuccess()},r([f(cc.Label)],e.prototype,"doingNum",void 0),r([f(cc.Node)],e.prototype,"content",void 0),r([d],e)}(u.default);n.default=h,cc._RF.pop()},{"../Manager/AchievementDataManager":"AchievementDataManager","../Manager/SoundManager":"SoundManager","../record/GameSys":"GameSys","./EveryDayTask":"EveryDayTask","./UIBase":"UIBase"}],TeamSkillDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"7e33de6hfRHWKsXeiTpF0PV","TeamSkillDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/TeamSkill"),l=t("../i18n/i18nMgr"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("./SingleBase"),f=cc._decorator,h=f.ccclass,y=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=p.default.GetRes("JsonBundle","character_skill",cc.JsonAsset))?[3,2]:[4,p.default.loadJson("JsonBundle","character_skill")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new c.default).id=o.id,r.skillName=o.skillName,r.cd=o.CD,r.character=o.character,r.castTime=o.castTime,r.introduce=o.introduce,r.name=o.name,r.fighting=o.fighting,r.type=o.type,r.code=o.code,this.allDataList.push(r);return[2]}})})},e.prototype.GetSkill=function(t){for(var e=0;e<this.allDataList.length;e++)if(this.allDataList[e].id==t)return this.allDataList[e]},e.prototype.getSkillToName=function(t){for(var e=l.i18nMgr.getLabel(t),n=[],a=[],o=0;o<this.allDataList.length;o++)this.allDataList[o].name==e&&a.push(this.allDataList[o]);for(var r=u.default.getMagic(),i=0;i<a.length;i++)for(o=0;o<r.length;o++)r[o].name==a[i].skillName&&n.push({skill:a[i],level:r[o].level});return n},n=r([h],e)}(d.default));n.default=y,cc._RF.pop()},{"../Data/TeamSkill":"TeamSkill","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./SingleBase":"SingleBase"}],TeamSkill:[function(t,e,n){"use strict";cc._RF.push(e,"39401qhq15B56Dw9gtN53VJ","TeamSkill"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],TeamerData:[function(t,e,n){"use strict";cc._RF.push(e,"f9222hN+mRBgoy0AXzaIqIl","TeamerData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.name="",this.injured_anger=10,this.Shot_anger=7,this.time_anger=15,this.maxmp=100,this.type="\u8fd1\u6218"},cc._RF.pop()},{}],Teamer:[function(t,e,n){"use strict";cc._RF.push(e,"aa52bJxn6FBUJoWu4yPHSSc","Teamer");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../AiBase/AiBase"),l=t("../AiBase/AITeamerAttack"),u=t("../AiBase/AITeamerDie"),p=t("../AiBase/AITeamerIdle"),d=t("../AiBase/AITeamerMove"),f=t("../AiBase/AITeamerSkill"),h=t("../AiBase/AITeamerVertigo"),y=t("../i18n/i18nMgr"),g=t("../Manager/DiscipleDataManager"),v=t("../Manager/HeroDataManager"),m=t("../Manager/MagicDataManager"),b=t("../Manager/PetDataManager"),_=t("../Manager/SkillDataManager"),S=t("../Manager/StoryDataManager"),C=t("../Manager/TeamSkillDataManager"),w=t("../record/GameSys"),M=t("../SkillGroup/Debuff"),P=t("../Tools/EventConst"),k=t("../Tools/GameTools"),I=t("../UI/FightPanel"),T=t("../UI/TipGroup"),G=t("./SkillConst"),O=cc._decorator,A=O.ccclass,R=(O.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.discipleIndex=0,e.index=0,e.startpos=new cc.Vec3(0,0,0),e.moveSpeed=200,e.target=null,e.shield=0,e.maxshield=0,e.Absdodge=0,e.Upatk=1,e.suck=0,e.vertigo=0,e.dodge={value:0,time:0},e.atk={value:0,time:0},e.atk2={value:0,time:0},e.fqatk={value:0,time:0},e.crit={value:0,time:0},e.DR={value:0,time:0},e.skill1=0,e.skill2=0,e.releaseTime=0,e.skilltype=0,e.release=!1,e.callback=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){this.initStartpos(),this.InitAi()},e.prototype.initStartpos=function(){this.startpos.x=this.node.getPosition().x,this.startpos.y=this.node.getPosition().y},e.prototype.InitAi=function(){var t=new p.default(this,n.STATE_IDLE);this.AddAiState(t);var e=new d.default(this,n.STATE_MOVE);this.AddAiState(e);var a=new l.default(this,n.STATE_ATTACK);this.AddAiState(a);var o=new u.default(this,n.STATE_DIE);this.AddAiState(o);var r=new h.default(this,n.STATE_Vertigo);this.AddAiState(r);var i=new f.default(this,n.STATE_SKILL);this.AddAiState(i)},e.prototype.Ready=function(){this.node.active&&(this.target=null,this.ChangeState(n.STATE_MOVE))},e.prototype.init=function(t,e,n){void 0===n&&(n=0),this.Content.setPosition(0,0,0),this.role=e,this.index=t,this.doSkillSp.node.active=!1,this.release=!1,this.cursor.angle=0,this.do.active=!1,this.Shield.active=!1,this.shieldSp.node.active=!1,this.shield=0,this.suck=0,this.vertigo=0,this.Absdodge=0,this.Upatk=1,0==this.index&&cc.systemEvent.emit(P.EventConst.Game_Fight_initSkill),this.discipleIndex=n,this.initHead(),this.RefreshHp(),this.RefreshMp(),this.initSkillCd()},e.prototype.initHead=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(a){switch(a.label){case 0:return t="",0==this.index?(t="TeamHead/hero_fight_avatar",this.Name.string=v.default.Instance.GetRole().name):1==this.index?(t="PetHead/pet_avatar_"+(w.default.getPetIndex()+1),this.Name.string=""+b.default.Instance.GetName(w.default.getPetIndex())):(e=S.default.Instance.GetStory(this.discipleIndex+1),t="TeamHead/"+e.head,this.Name.string=""+S.default.Instance.GetStory(this.discipleIndex+1).name),(n=k.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,2]:[4,k.default.loadImage("SpriteBundle1",t)];case 1:n=a.sent(),a.label=2;case 2:return this.headSp.spriteFrame=n,[2]}})})},e.prototype.initSkillCd=function(){this.skill1=0,this.skill2=0,this.RefreshMp()},e.prototype.RefreshHp=function(){this.node.active&&(this.hpSprite.fillRange=this.role.hp/this.role.maxhp),this.hpSprite.node.active=0!=I.default.instance.fightType,this.hpMaxSprite.active=0!=I.default.instance.fightType},e.prototype.RefreshMp=function(){},e.prototype.TheStrike=function(t,e,n,a,o){if(this.isDie())return!0;var r=Math.floor(100*Math.random()),i=e-this.role.dodge+this.dodge.value;if(this.Absdodge>0)return I.default.instance.setText(5,y.i18nMgr.getLabel("title138"),this.node),!1;if(r>i)return I.default.instance.setText(5,y.i18nMgr.getLabel("title138"),this.node),!1;if(this.DR.time>0&&(t*=1-this.DR.value),!(this.shield>t)){if(t-=this.shield,this.shield=0,this.Shieldpro.fillRange=this.shield/this.maxshield,this.Shield.active=!1,this.shieldSp.node.active=!1,t>=this.role.hp&&(t=this.role.hp),0!=I.default.instance.fightType&&(this.role.hp-=t,cc.systemEvent.emit(P.EventConst.Game_Fight_changeHp,0,-t)),this.role.hp=this.role.hp<=0?0:this.role.hp,this.role.hp<=0&&this.ToDie(),this.AddAngre(1),this.RefreshHp(),0!=I.default.instance.fightType)if(o)switch(o){case 3:I.default.instance.setText(o,y.i18nMgr.getLabel("title140")+"-"+k.default.refSetCoin(Math.floor(t)),this.node);break;case 10:I.default.instance.setText(o,y.i18nMgr.getLabel("title141")+"-"+k.default.refSetCoin(Math.floor(t)),this.node)}else n?I.default.instance.setText(0,y.i18nMgr.getLabel("title142")+"-"+k.default.refSetCoin(Math.floor(t)),this.node):I.default.instance.setText(1,"-"+k.default.refSetCoin(Math.floor(t)),this.node);return this.role.hp<=0&&I.default.instance.setText(8,"",this.node),a&&I.default.instance.CreateHit(this.node),this.role.hp<=0}this.shield-=t,this.Shieldpro.fillRange=this.shield/this.maxshield,I.default.instance.setText(4,y.i18nMgr.getLabel("title139")+"-"+k.default.refSetCoin(Math.floor(t)),this.node)},e.prototype.Tofly=function(t){var e=this.node.getPosition(),n=t.node.parent.convertToWorldSpaceAR(this.node.getPosition()),a=this.node.parent.convertToNodeSpaceAR(n),o=e.sub(a).signAngle(cc.v2(1,0)),r=cc.v2(-Math.cos(o),Math.sin(o));r.normalizeSelf();var i=100*-r.x,s=100*-r.y,c=this.node.getPosition().x+i,l=this.node.getPosition().y+s;l>400&&(l=400),l<120&&(l=120),c<-260&&(c=-260),c>260&&(c=260),cc.tween(this.node).to(.1,{x:c,y:l},{easing:"backOut"}).start()},e.prototype.ToDie=function(){this.node.active=!1,this.ChangeState(n.STATE_DIE),I.default.instance.GetTeam().length<=0&&(I.default.instance.state==I.FightState.Trials?I.default.instance.LoseTrials():I.default.instance.state==I.FightState.roam?I.default.instance.LoseRoam():I.default.instance.LoseChallenge())},e.prototype.isDie=function(){return!(this.node.active&&this.role.hp>0)},e.prototype.ToStartpos=function(){cc.tween(this.node).to(1,{position:cc.v3(this.startpos)}).call(function(){I.default.instance.ToStartpos()}).start();var t=this.cursor.rotation%360;t<0&&(t+=360),this.cursor.rotation=t;var e=this.cursor.rotation<180?0:360;cc.tween(this.cursor).to(1,{rotation:e}).start()},e.prototype.GetTarget=function(){var t=I.default.instance.GetMonster();if(t.length>0){for(var e=1e5,a=0,o=0;o<t.length;o++){var r=t[o].node.getPosition(),i=this.node.getPosition().sub(r).mag();i<=e&&(a=o,e=i)}return this.target=t[a],t[a]}return 0!=this.curStateId&&this.ChangeState(n.STATE_IDLE),null},e.prototype.AddAngre=function(){if(0==this.index){if(!(this.role.hp>0&&w.default.automatic&&5!=this.curStateId))return;this.DoSkill()}else{if(!(this.role.hp>0&&5!=this.curStateId))return;this.DoSkill()}},e.prototype.setAngle=function(){},e.prototype.DoSkill=function(){var t=this;if(0==this.index)this.skill1<=0&&v.default.Instance.IsUnlockSkill(0)?this.ManualSkill(0):this.skill2<=0&&v.default.Instance.IsUnlockSkill(1)&&this.ManualSkill(3);else if(1==this.index)this.skill1<=0&&(this.releaseTime=this.role.initiative_rel,this.ChangeStateToSkill(),this.callback=function(){t.skill1=t.role.initiative_cd,G.default.instance.Moon(0,t),t.callback=null,t.ChangeState(n.STATE_MOVE)});else if(this.skill1<=0){if(!g.default.Instance.IsUnlockSkill(this.discipleIndex,0))return;var e=w.default.getDisciple()[this.discipleIndex],a=C.default.Instance.getSkillToName(e.name)[0].skill;this.releaseTime=a.castTime,this.ChangeStateToSkill(),this.callback=function(){switch(I.default.instance.setText(7,y.i18nMgr.getLabel(a.code),t.node),t.skill1=a.cd,t.discipleIndex){case 0:G.default.instance.PersistCure(t),I.default.instance.CreateSkill(3);break;case 1:G.default.instance.Knife(0,t),I.default.instance.CreateSkill(5);break;case 2:G.default.instance.FireBall(t),I.default.instance.CreateSkill(7);break;case 3:G.default.instance.BaneMatrix(0,t),I.default.instance.CreateSkill(9)}t.callback=null,t.ChangeState(n.STATE_MOVE)}}else if(this.skill2<=0){if(!g.default.Instance.IsUnlockSkill(this.discipleIndex,1))return;e=w.default.getDisciple()[this.discipleIndex];var o=C.default.Instance.getSkillToName(e.name)[1].skill;if("passivity"==o.type)return void console.log("\u8fd9\u662f\u4e2a\u88ab\u52a8\u6280\u80fd");this.releaseTime=o.castTime,this.ChangeStateToSkill(),this.callback=function(){switch(I.default.instance.setText(6,o.skillName,t.node),t.skill2=o.cd,t.discipleIndex){case 0:G.default.instance.Shield(t),I.default.instance.CreateSkill(4);break;case 1:G.default.instance.FourAtk(t),I.default.instance.CreateSkill(6);break;case 2:I.default.instance.CreateSkill(8);break;case 3:G.default.instance.Sneer(t),t.SubAttack(),I.default.instance.CreateSkill(10)}t.callback=null,t.ChangeState(n.STATE_MOVE)}}},e.prototype.UpAttack=function(){},e.prototype.SubAttack=function(){var t=w.default.getDisciple()[this.discipleIndex],e=C.default.Instance.getSkillToName(t.name)[1].skill,n=m.default.Instance.getMagicLvToName(e.skillName),a=m.default.Instance.getMagicToName(e.skillName,n);this.DR={value:a.skill,time:3}},e.prototype.AtkUpBuff=function(t){var e=this.role.atk*t;this.fqatk={value:e,time:20}},e.prototype.ManualSkill=function(t){var e=this;if(6!=this.curStateId){if(0==t){if(this.skill1>0)return void T.default.instance.setText(-1,y.i18nMgr.getLabel("title136"));var a=C.default.Instance.getSkillToName(this.role.name)[0].skill;this.releaseTime=a.castTime,this.ChangeStateToSkill(),this.callback=function(){I.default.instance.setText(7,y.i18nMgr.getLabel(a.code),e.node),e.SubMp(100),e.skill1=a.cd,G.default.instance.TeamStar(0,e),e.callback=null,e.ChangeState(n.STATE_MOVE),I.default.instance.CreateSkill(1)}}else if(1==t);else if(2==t);else if(3==t){if(this.skill2>0)return void T.default.instance.setText(-1,y.i18nMgr.getLabel("title136"));var o=C.default.Instance.getSkillToName(this.role.name)[1].skill;this.releaseTime=o.castTime,this.ChangeStateToSkill(),this.callback=function(){I.default.instance.setText(7,y.i18nMgr.getLabel(o.code),e.node),e.skill2=o.cd,G.default.instance.TeamThunder(e),e.callback=null,e.ChangeState(n.STATE_MOVE),I.default.instance.CreateSkill(2)}}this.ChangeStateToSkill(),this.CleanSp()}else T.default.instance.setText(-1,y.i18nMgr.getLabel("freez"))},e.prototype.CleanSp=function(){this.SpineContent.destroyAllChildren()},e.prototype.SubMp=function(){},e.prototype.SkillCure=function(){},e.prototype.WinTrials=function(){},e.prototype.Cure=function(t){if(this.node.active)if(this.role.hp<=0)console.log("\u8be5\u5355\u4f4d\u5df2\u6b7b\u4ea1,\u65e0\u6cd5\u6cbb\u7597");else{var e=this.role.maxhp-this.role.hp,n=t;n>=e&&(n=e),this.role.hp+=n,this.role.hp>=this.role.maxhp&&(this.role.hp=this.role.maxhp),I.default.instance.setText(2,y.i18nMgr.getLabel("title137")+"+"+k.default.refSetCoin(Math.floor(t)),this.node),cc.systemEvent.emit(P.EventConst.Game_Fight_changeHp,0,n)}},e.prototype.Constraint=function(t){var e=_.default.Instance.GetSkill(t.role.monsterSkillId);this.vertigo=e.value,this.ChangeState(n.STATE_Vertigo);var a=I.default.instance.CreateDebuff();a.getComponent(M.default).init(e.value),a.setParent(this.SpineContent)},e.prototype.setShield=function(t){this.shield=t,this.maxshield=t,this.Shield.active=!0,this.Shieldpro.fillRange=1,this.shieldSp.node.active=!0},e.prototype.Counter=function(){},e.prototype.SkillAbsdodge=function(){},e.prototype.SkillUpatk=function(){},e.prototype.SkillShield=function(){},e.prototype.SkillSuck=function(){},e.prototype.allConstraint=function(){for(var t=I.default.instance.GetMonster(),e=0;e<t.length;e++)t[e].Constraint(this)},e.prototype.start=function(){cc.systemEvent.on(P.EventConst.Game_FIght_allTeamCure,this.Cure,this)},e.prototype.ChangeStateToMove=function(){this.curStateId!=n.STATE_DIE&&this.curStateId!=n.STATE_IDLE&&this.curStateId!=n.STATE_SKILL&&this.ChangeState(n.STATE_MOVE)},e.prototype.ChangeStateToSkill=function(){this.curStateId!=n.STATE_DIE&&this.curStateId!=n.STATE_IDLE&&this.curStateId!=n.STATE_SKILL&&this.ChangeState(n.STATE_SKILL)},e.prototype.GetPracticalAtk=function(){return this.role.atk+this.fqatk.value+this.atk2.value},e.prototype.update=function(e){t.prototype.update.call(this,e),this.curStateId!=n.STATE_DIE&&this.curStateId!=n.STATE_Vertigo&&this.curStateId!=n.STATE_IDLE&&999999!=this.curStateId&&(0==this.index?this.release||(v.default.Instance.IsUnlockSkill(0)&&(this.skill1>0?this.skill1-=e*w.default.speed:this.AddAngre()),v.default.Instance.IsUnlockSkill(1)&&(this.skill2>0?this.skill2-=e*w.default.speed:this.AddAngre())):1==this.index?this.skill1>0&&(this.skill1-=e*w.default.speed):(this.skill1>0?this.skill1-=e*w.default.speed:this.AddAngre(),this.skill2>0?this.skill2-=e*w.default.speed:this.AddAngre()),this.dodge.time>0&&(this.dodge.time-=e*w.default.speed,this.dodge.time<=0&&(this.dodge.value=0,this.dodge.time=0)),this.atk2.time>0&&(this.atk2.time-=e*w.default.speed,this.atk2.time<=0&&(this.atk2.value=0,this.atk2.time=0)),this.fqatk.time>0&&(this.fqatk.time-=e*w.default.speed,this.fqatk.time<=0&&(this.fqatk.value=0,this.fqatk.time=0)),this.DR.time>0&&(this.DR.time-=e*w.default.speed,this.DR.time<=0&&(this.DR.value=0,this.DR.time=0)))},e.STATE_IDLE=0,e.STATE_MOVE=1,e.STATE_ATTACK=2,e.STATE_DIE=3,e.STATE_Vertigo=4,e.STATE_SKILL=5,n=r([A],e)}(c.default));n.default=R,cc._RF.pop()},{"../AiBase/AITeamerAttack":"AITeamerAttack","../AiBase/AITeamerDie":"AITeamerDie","../AiBase/AITeamerIdle":"AITeamerIdle","../AiBase/AITeamerMove":"AITeamerMove","../AiBase/AITeamerSkill":"AITeamerSkill","../AiBase/AITeamerVertigo":"AITeamerVertigo","../AiBase/AiBase":"AiBase","../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PetDataManager":"PetDataManager","../Manager/SkillDataManager":"SkillDataManager","../Manager/StoryDataManager":"StoryDataManager","../Manager/TeamSkillDataManager":"TeamSkillDataManager","../SkillGroup/Debuff":"Debuff","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/FightPanel":"FightPanel","../UI/TipGroup":"TipGroup","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./SkillConst":"SkillConst"}],Thunder:[function(t,e,n){"use strict";cc._RF.push(e,"7bd92LggihJUrCJLiIt5V4F","Thunder");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){this.spine=this.node.getChildByName("spine").getComponent(sp.Skeleton)},e.prototype.init=function(t){var e=this;this.spine.setAnimation(0,"ef13_hit",!1),this.spine.setCompleteListener(function(){"ef13_hit"==e.spine.animation&&(e.spine.setAnimation(0,"ef13_hit_flash",!1),i.default.Thunder.restor(e.node),t())})},e.prototype.start=function(){},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../record/GameSys":"GameSys"}],TimeManager:[function(t,e,n){"use strict";cc._RF.push(e,"846a9qolUtFYLJI2aKLYQJv","TimeManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/AchievementDataManager"),p=t("../Manager/CoinOutPutDataManager"),d=t("../Manager/DiscipleDataManager"),f=t("../Manager/DrugDataManager"),h=t("../Manager/GuideDataManager"),y=t("../Manager/PropDataManager"),g=t("../record/GameSys"),v=t("../Tools/EventConst"),m=t("./OffLinePanel"),b=t("./PanelConst"),_=t("./UIManager"),S=t("../Manager/MagicDataManager"),C=t("../Manager/CallerDataManager"),w=t("../Manager/OnlineDataManager"),M=cc._decorator,P=M.ccclass,k=M.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userdrug_red=null,e.shop_red=null,e.achievement_red=null,e.caller_red=null,e.garden_red=null,e.activity_red=null,e.practice_red=null,e.reincarn_red=null,e.alchemy_red=null,e.task_red=null,e.artifact_red=null,e.pet_red=null,e.disciple_red=null,e.sect_red=null,e.roam_red=null,e.trials_red=null,e.magic_red=null,e.Time=0,e.timeSpeed=3,e.Time2=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.init=function(){var t=this;this.initOffLine(),g.default.setOffTime(),cc.director.getScheduler().schedule(function(){t.onSchedule()},this,1),cc.director.getScheduler().schedule(function(){g.default.SaveGameDate(),g.default.setOffTime(),t.addCallerEvent()},this,15)},e.prototype.initOffLine=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c,l,u,p,d,h,y,v;return s(this,function(s){switch(s.label){case 0:return g.default.saveTime<=0?[2]:[3,1];case 1:return t=(new Date).getTime(),e=(t-g.default.saveTime)/1e3,(n=e)>=43200&&(n=43200),n/60<5?(console.log("\u4f4e\u4e8e\u4e94\u5206\u949f\u6ca1\u6709\u79bb\u7ebf\u6536\u76ca"),[3,4]):[3,2];case 2:return[4,_.default.Instance.ShowUI(b.default.OffLinePanel)];case 3:s.sent(),_.default.Instance.GetClass(b.default.OffLinePanel).getComponent(m.default).init(n),s.label=4;case 4:for(a=g.default.getDrugTime(),o=g.default.getDrugBoxNum(),r=g.default.getDrugOver(),y=0;y<o.length;y++)o[y]>0&&(i=f.default.Instance.GetDrug(y+1).needtime*o[y],e>i?(a[y]=0,g.default.setDrugTime(a),r[y]=o[y],g.default.setDrugOver(r)):(a[y]=i-e,g.default.setDrugTime(a)));for(c=g.default.getEveryDay(),y=0;y<c.length;y++)c[y].time>0&&(c[y].time-=e,c[y].time<=0&&(c[y].time=0,g.default.setEveryDay(c)));for(g.default.getDevil()>0&&(d=g.default.getDevil(),(d-=e)<=0&&(d=0),g.default.setDevil(d)),g.default.getDiceNum()<10&&(l=Math.floor(e/300),u=e%300,l>0&&(p=g.default.getDiceNum(),l+p>=10&&(l=10-p),g.default.setDiceNum(l)),(d=g.default.getDiceTime())>=u?d-=u:(d=d+300-u,g.default.setDiceNum(1)),g.default.setDiceTime(d)),h=g.default.getGarden(),y=0;y<h.length;y++)h[y].time>0&&(h[y].time-=e,h[y].time<=0&&(h[y].time=0,h[y].state=2));g.default.setGarden(h),(v=g.default.getFreeBoxTime())>0&&(v-=e)<=0&&(v=0),g.default.setFreeBoxTime(v),g.default.getDiceNum()>=10&&g.default.setDiceTime(0),this.addCallerEvent(),g.default.SaveGameDate(),s.label=5;case 5:return[2]}})})},e.prototype.addCallerEvent=function(){var t=(new Date).getHours(),e=Math.floor(t/2);e>=5&&(e=5);for(var n=g.default.getCallerEvent(),a=0;a<e;a++)if(0==n[a].id){var o=C.default.Instance.getRandom();n[a].id=o,g.default.setCallerEvent(n)}},e.prototype.start=function(){this.init()},e.prototype.onSchedule=function(){for(var t=g.default.getDrugTime(),e=g.default.getDrugBoxNum(),n=g.default.getDrugOver(),a=0;a<t.length;a++)t[a]>0?(t[a]-=1,t[a]<=0&&(t[a]=0,n[a]+=e[a],g.default.setDrugOver(n))):e[a]-n[a]>0&&(t[a]=f.default.Instance.GetDrug(a+1).needtime);var o=g.default.getEveryDay();for(a=0;a<o.length;a++)o[a].time>0&&(o[a].time-=1,o[a].time<=0&&(o[a].time=0,g.default.setEveryDay(o)));g.default.dicetime>0&&(g.default.dicetime-=1,g.default.dicetime<=0&&(g.default.setDiceNum(1),g.default.dicetime=g.default.getDiceNum()>=10?0:300,g.default.setDiceTime(g.default.dicetime))),g.default.getDiceNum()>=10&&g.default.setDiceTime(0),g.default.devil>0&&(g.default.devil--,g.default.devil<=0&&(g.default.setDevil(0),c.default.instance.DispelDevil())),g.default.online++,g.default.interTime>0&&g.default.interTime--;var r=g.default.getGarden();for(a=0;a<r.length;a++)r[a].time>0&&(r[a].time--,r[a].time<=0&&(r[a].time=0,r[a].state=2,g.default.setGarden(r)));g.default.freeboxtime>0&&(g.default.freeboxtime--,g.default.freeboxtime<=0&&g.default.setFreeBoxTime(0)),g.default.fiveboxtime>0&&(g.default.fiveboxtime--,g.default.fiveboxtime<=0&&g.default.setFiveBoxTime(0)),this.ReincarnRed(),this.AlchemyRed(),this.TaskRed(),this.ArtifactRed(),this.PetRed(),this.DiscipleRed(),this.SectRed(),this.RoamRed(),this.TrialsRed(),this.AchievementRed(),this.CallerRed(),this.GardenRed(),this.PracticeRed(),this.ActivityRed(),this.MagicRed(),this.ShopRed(),this.UserDrugRed()},e.prototype.UserDrugRed=function(){var t=!1;if(h.default.Instance.isUnlcok(4)){var e=y.default.Instance.GetPackPropType(5);if(e.length>0)for(var n=0;n<e.length;n++)e[n].have>0&&(t=!0)}this.userdrug_red.active=t},e.prototype.MagicRed=function(){var t=!1;if(h.default.Instance.isUnlcok(2))for(var e=g.default.getMagic(),n=0;n<e.length;n++){var a=e[n],o=S.default.Instance.getMagicidToName(a.name),r=S.default.Instance.getMagicToName(a.name,a.level),i=y.default.Instance.getMagicDebrisProp(o);y.default.Instance.GetPropNum(i.id).have>=r.upgradeNeed&&a.level<=5&&(t=!0)}this.magic_red.active=t},e.prototype.GardenRed=function(){for(var t=!1,e=g.default.getGarden(),n=0;n<e.length;n++)e[n].unlock&&(0!=e[n].state&&2!=e[n].state||(t=!0));var a=h.default.Instance.isUnlcok(13);a||(t=a),this.garden_red.active=t},e.prototype.AchievementRed=function(){var t=!1;h.default.Instance.isUnlcok(19)&&u.default.Instance.isHaveSuccess()&&(t=!0),this.achievement_red.active=t},e.prototype.CallerRed=function(){var t=!1;if(h.default.Instance.isUnlcok(16))for(var e=g.default.getCallerEvent(),n=0;n<e.length;n++)e[n].id&&!e[n].state&&(t=!0);this.caller_red.active=t},e.prototype.PracticeRed=function(){var t=!1;(this.pet_red.active||this.artifact_red.active||this.reincarn_red.active||this.disciple_red.active||this.activity_red)&&(t=!0),g.default.getCoin()>=p.default.Instance.GetNeedCoin()&&(t=!0),h.default.Instance.isFinish().isFinsh&&(t=!0),this.practice_red.active=t},e.prototype.SectRed=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(){return t=!1,(this.alchemy_red.active||this.task_red.active||this.caller_red.active||this.garden_red.active||this.achievement_red.active)&&(t=!0),this.sect_red.active!=t&&(this.sect_red.active=t),[2]})})},e.prototype.RoamRed=function(){var t=!1,e=h.default.Instance.isUnlcok(18);g.default.getDiceNum()>0&&(t=!0),e||(t=e),this.roam_red.active!=t&&(this.roam_red.active=t)},e.prototype.TrialsRed=function(){},e.prototype.DiscipleRed=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(){for(t=!1,e=h.default.Instance.isUnlcok(22),(n=d.default.Instance.isHaveCanUp())&&(t=n),a=0;a<4;a++)d.default.Instance.GetIsUnlock(a)||(o=d.default.Instance.IsCanUnlock(a))&&(t=o);return e||(t=e),this.disciple_red.active!=t&&(this.disciple_red.active=t),[2]})})},e.prototype.PetRed=function(){var t=!1,e=h.default.Instance.isUnlcok(12);y.default.Instance.GetPackPropType(8).length>0&&g.default.getPetLevel()[9]<20&&(t=!0),e||(t=e),this.pet_red.active!=t&&(this.pet_red.active=t)},e.prototype.ArtifactRed=function(){var t=!1,e=h.default.Instance.isUnlcok(15),n=l.default.Instance.GetbuyJewel();g.default.getJewel()>=n&&(t=!0),e||(t=e),this.artifact_red.active!=t&&(this.artifact_red.active=t)},e.prototype.TaskRed=function(){var t=!1;if(h.default.Instance.isUnlcok(17)){for(var e=g.default.getEveryDay(),n=0,a=!0,o=0;o<e.length;o++)1==e[o].state&&(n+=1),0==e[o].state&&(a=!1),1==e[o].state&&e[o].time<=0&&(t=!0);n<4&&!a&&(t=!0)}this.task_red.active=t},e.prototype.ReincarnRed=function(){var t=!1;h.default.Instance.isUnlcok(20)&&(t=p.default.Instance.isCanExchange()),this.reincarn_red.active=t},e.prototype.ShopRed=function(){var t=!1;if(h.default.Instance.isUnlcok(9)){var e=g.default.getFiveBoxCount(),n=g.default.getFiveBoxTime();e>0&&n<=0&&(t=!0);var a=g.default.getFreeBoxCount(),o=g.default.getFreeBoxTime();a<5&&o<=0&&(t=!0),g.default.getJade()>=50&&(t=!0)}this.shop_red.active=t},e.prototype.ActivityRed=function(){var t=!1;if(h.default.Instance.isUnlcok(10))for(var e=g.default.getOnlineIsGet(),n=0;n<e.length;n++){var a=w.default.Instance.allDataList[n].needtime;0==e[n]&&g.default.online>=a&&(t=!0)}!g.default.getSignIsGet()&&h.default.Instance.isUnlcok(8)&&(t=!0),this.activity_red.active=t},e.prototype.AlchemyRed=function(){var t=!1;if(h.default.Instance.isUnlcok(11)){for(var e=S.default.Instance.GetCanMakeNum(),n=g.default.getDrugBoxNum(),a=0;a<n.length;a++)if(f.default.Instance.isUnlock(a)&&n[a]<e){t=!0;break}for(a=0;a<n.length;a++){var o=g.default.getDrugBoxNum()[a],r=g.default.getDrugTime()[a],i=g.default.getDrugOver()[a];r>0||o-i>0||o>0&&(t=!0)}}this.alchemy_red.active=t},e.prototype.PracticeOutput=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return[4,p.default.Instance.GetOutPut()];case 1:return t=3*e.sent(),this.GetCoin(t),cc.systemEvent.emit(v.EventConst.playCoinSp),c.default.instance&&c.default.instance.OutputCoin(),[2]}})})},e.prototype.GetCoin=function(t){g.default.setCoin(t),cc.systemEvent.emit(v.EventConst.Coin)},e.prototype.update=function(t){g.default.isFirstLoad||(this.Time+=t,3==this.timeSpeed?this.Time2=this.Time/3:this.Time2=this.Time/1,this.Time2>=1&&(this.PracticeOutput(),this.Time=0))},e.instance=null,r([k(cc.Node)],e.prototype,"userdrug_red",void 0),r([k(cc.Node)],e.prototype,"shop_red",void 0),r([k(cc.Node)],e.prototype,"achievement_red",void 0),r([k(cc.Node)],e.prototype,"caller_red",void 0),r([k(cc.Node)],e.prototype,"garden_red",void 0),r([k(cc.Node)],e.prototype,"activity_red",void 0),r([k(cc.Node)],e.prototype,"practice_red",void 0),r([k(cc.Node)],e.prototype,"reincarn_red",void 0),r([k(cc.Node)],e.prototype,"alchemy_red",void 0),r([k(cc.Node)],e.prototype,"task_red",void 0),r([k(cc.Node)],e.prototype,"artifact_red",void 0),r([k(cc.Node)],e.prototype,"pet_red",void 0),r([k(cc.Node)],e.prototype,"disciple_red",void 0),r([k(cc.Node)],e.prototype,"sect_red",void 0),r([k(cc.Node)],e.prototype,"roam_red",void 0),r([k(cc.Node)],e.prototype,"trials_red",void 0),r([k(cc.Node)],e.prototype,"magic_red",void 0),n=r([P],e)}(cc.Component);n.default=I,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/AchievementDataManager":"AchievementDataManager","../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CallerDataManager":"CallerDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/DrugDataManager":"DrugDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/OnlineDataManager":"OnlineDataManager","../Manager/PropDataManager":"PropDataManager","../Tools/EventConst":"EventConst","../record/GameSys":"GameSys","./OffLinePanel":"OffLinePanel","./PanelConst":"PanelConst","./UIManager":"UIManager"}],TipGroup:[function(t,e,n){"use strict";cc._RF.push(e,"aea80Nfzd5OsJK3hkofvipQ","TipGroup");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Animation/FightUp"),s=t("../record/GameSys"),c=t("../Tools/PoolManager"),l=t("./Tiptxt"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt=null,e.FightUp=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,s.default._tipTxt=new c.default(this.txt,10),s.default.FightUp=new c.default(this.FightUp,10)},e.prototype.setText=function(t,e){var n=s.default._tipTxt.get();n.setParent(this.node),n.getComponent(l.default).setText(t,e)},e.prototype.setFightNum=function(t,e){var n=s.default.FightUp.get();n.setParent(this.node),n.setPosition(cc.v2(0,-300)),n.getComponent(i.default).init(t,e)},e.instance=null,r([d(cc.Prefab)],e.prototype,"txt",void 0),r([d(cc.Prefab)],e.prototype,"FightUp",void 0),n=r([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../Animation/FightUp":"FightUp","../Tools/PoolManager":"PoolManager","../record/GameSys":"GameSys","./Tiptxt":"Tiptxt"}],Tiptxt:[function(t,e,n){"use strict";cc._RF.push(e,"44cf5fZaONCgJn1WFStrS7D","Tiptxt");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt=null,e.tiptxt=null,e.list=[],e}return o(e,t),e.prototype.setText=function(t,e){this.txt.node.active=!1,this.tiptxt.node.active=!1,-1!=t?(this.txt.node.active=!0,this.txt.spriteFrame=this.list[t],this.tiptxt.node.active=!0,this.tiptxt.string=e):-1==t&&(this.tiptxt.node.active=!0,this.tiptxt.string=e),this.Tween()},e.prototype.Tween=function(){var t=this;cc.tween(this.node).call(function(){t.node.opacity=0,t.node.y=100}).by(2,{y:300}).call(function(){t.restore()}).start(),cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.node).delay(1.7).to(.3,{opacity:0}).start()},e.prototype.restore=function(){i.default._tipTxt.restor(this.node)},e.prototype.start=function(){},r([l(cc.Sprite)],e.prototype,"txt",void 0),r([l(cc.Label)],e.prototype,"tiptxt",void 0),r([l([cc.SpriteFrame])],e.prototype,"list",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../record/GameSys":"GameSys"}],TouchSp:[function(t,e,n){"use strict";cc._RF.push(e,"210ecRW5PNMgI0Yh5PjoeOx","TouchSp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SoundManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Sp=null,e}return o(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.PlaySp,this),this.node._touchListener.setSwallowTouches(!1)},e.prototype.start=function(){},e.prototype.PlaySp=function(t){i.default.instance.play(i.Sound.touch);var e=t.getLocation(),n=this.node.parent.convertToNodeSpaceAR(e);this.Sp.node.setPosition(n),this.Sp.setAnimation(0,"animation",!1)},r([l(sp.Skeleton)],e.prototype,"Sp",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager"}],TrialsDataManager:[function(t,e,n){"use strict";cc._RF.push(e,"cf078JNM2xNn6/yncBru/Rr","TrialsDataManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Data/MonsterData"),l=t("../Data/TrialsData"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("./MonsterDataManager"),f=t("./PropDataManager"),h=t("./SingleBase"),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDataList=new Array,e.array=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.Instance=this},e.prototype.Init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return null!=(t=p.default.GetRes("JsonBundle","challengeTower",cc.JsonAsset))?[3,2]:[4,p.default.loadJson("JsonBundle","challengeTower")];case 1:return e=i.sent(),[3,3];case 2:e=t.json,i.label=3;case 3:for(n=e.length,a=0;a<n;a++)o=e[a],(r=new l.default).id=o.id,r.hit=o.hit,r.dodge=o.avoid,r.crit=o.cri,r.wave1_name=o.enemy1Name,r.wave1_hp=o.enemy1Hp,r.wave1_atk=o.enemy1Atk,r.wave1_speed=o.enemy1speed,r.wave1_num=o.enemy1Num,r.wave1_role=o.enemy1Rank,r.wave2_name=o.enemy2Name,r.wave2_hp=o.enemy2Hp,r.wave2_atk=o.enemy2Atk,r.wave2_speed=o.enemy2speed,r.wave2_num=o.enemy2Num,r.wave3_name=o.enemy3Name,r.wave3_hp=o.enemy3Hp,r.wave3_atk=o.enemy3Atk,r.wave3_speed=o.enemy3speed,r.wave3_num=o.enemy3Num,r.wave4_name=o.enemy4Name,r.wave4_hp=o.enemy4Hp,r.wave4_atk=o.enemy4Atk,r.wave4_speed=o.enemy4speed,r.wave4_num=o.enemy4Num,r.wave5_name=o.enemy5Name,r.wave5_hp=o.enemy5Hp,r.wave5_atk=o.enemy5Atk,r.wave5_speed=o.enemy5speed,r.wave5_num=o.enemy5Num,r.boss1_name=o.boss1name,r.boss1_hp=o.boss1Hp,r.boss1_atk=o.boss1Atk,r.boss1_speed=o.boss1speed,r.boss1_num=o.boss1num,r.boss2_name=o.boss2name,r.boss2_hp=o.boss2Hp,r.boss2_atk=o.boss2Atk,r.boss2_speed=o.boss2speed,r.boss2_num=o.boss2num,r.item1=o.item1,r.item1Num=o.item1Num,r.item2=o.item2,r.item2Num=o.item2Num,this.allDataList.push(r);return[2]}})})},e.prototype.GetRole=function(t){void 0===t&&(t=u.default.getMaxTier());var e=this.GetMaxTier();t>=e&&(t=e);for(var n=0;n<this.allDataList.length;n++)if(this.allDataList[n].id==t)return this.allDataList[n]},e.prototype.GetMaxTier=function(){return this.allDataList[this.allDataList.length-1].id},e.prototype.GetCustoms=function(t){void 0===t&&(t=u.default.getMaxTier());for(var e=0;e<this.allDataList.length;e++){if(this.allDataList[e].id==t)return this.allDataList[e];if(e>=this.allDataList.length-1)return this.allDataList[e]}},e.prototype.GetMaxWave=function(t){void 0===t&&(t=u.default.getMaxTier()),this.array=[];var e=this.GetCustoms(t),n=0;return e.wave1_num>0&&(n+=1,this.array.push(1)),e.wave2_num>0&&(n+=1,this.array.push(2)),e.wave3_num>0&&(n+=1,this.array.push(3)),e.wave4_num>0&&(n+=1,this.array.push(4)),e.wave5_num>0&&(n+=1,this.array.push(5)),(e.boss1_num>0||e.boss2_num>0)&&(n+=1,this.array.push(6)),n},e.prototype.GetMonsterNum=function(t,e){void 0===e&&(e=u.default.getMaxTier());var n=this.GetCustoms(e);switch(this.array[t-1]){case 1:return n.wave1_num;case 2:return n.wave2_num;case 3:return n.wave3_num;case 4:return n.wave4_num;case 5:return n.wave5_num;case 6:return n.boss1_num+n.boss2_num}},e.prototype.GetBossNum=function(t,e){void 0===e&&(e=u.default.getMaxTier());var n=this.GetCustoms(e);switch(t){case 1:return n.boss1_num;case 2:return n.boss2_num}},e.prototype.GetMonsterRole=function(t,e){void 0===e&&(e=u.default.getMaxTier());var n=this.GetRole(e),a=new c.default;switch(a.id=0,a.realm="",a.dodge=n.dodge,a.hit=n.hit,a.crit=n.crit,a.realm=n.wave1_role,a.maxmp=100,this.array[t-1]){case 1:a.name=n.wave1_name,a.atk=n.wave1_atk,a.hp=n.wave1_hp,a.interval=n.wave1_speed,a.atkSpeed=60/a.interval;break;case 2:a.name=n.wave2_name,a.atk=n.wave2_atk,a.hp=n.wave2_hp,a.interval=n.wave2_speed,a.atkSpeed=60/a.interval;break;case 3:a.name=n.wave3_name,a.atk=n.wave3_atk,a.hp=n.wave3_hp,a.interval=n.wave3_speed,a.atkSpeed=60/a.interval;break;case 4:a.name=n.wave4_name,a.atk=n.wave4_atk,a.hp=n.wave4_hp,a.interval=n.wave4_speed,a.atkSpeed=60/a.interval;break;case 5:a.name=n.wave5_name,a.atk=n.wave5_atk,a.hp=n.wave5_hp,a.interval=n.wave5_speed,a.atkSpeed=60/a.interval}a.maxhp=a.hp;var o=d.default.Instance.GetMonster(a.name);return a.atkRrage=o.atkRrage,a.atkType=o.atkType,a.type=o.type,a.killSkillId=o.killSkillId,a.killSkillName=o.killSkillName,a.monsterSkillId=o.monsterSkillId,a.normalSkillName=o.normalSkillName,a},e.prototype.GetBossRole=function(t,e){void 0===e&&(e=u.default.getMaxTier());var n=this.GetRole(e),a=new c.default;switch(a.id=0,a.realm="",a.dodge=n.dodge,a.hit=n.hit,a.crit=n.crit,a.realm=n.wave1_role,a.maxmp=100,t){case 1:a.name=n.boss1_name,a.atk=n.boss1_atk,a.hp=n.boss1_hp,a.interval=n.boss1_speed,a.atkSpeed=60/a.interval;break;case 2:a.name=n.boss2_name,a.atk=n.boss2_atk,a.hp=n.boss2_hp,a.interval=n.boss2_speed,a.atkSpeed=60/a.interval}a.maxhp=a.hp;var o=d.default.Instance.GetMonster(a.name);return a.atkRrage=o.atkRrage,a.atkType=o.atkType,a.type=o.type,a.killSkillId=o.killSkillId,a.killSkillName=o.killSkillName,a.monsterSkillId=o.monsterSkillId,a.normalSkillName=o.normalSkillName,a},e.prototype.GetWave=function(t){return this.array[t-1]},e.prototype.GetReward=function(t){void 0===t&&(t=u.default.getMaxTier());var e=this.GetCustoms(t),n=[];if(e.item1Num>0){var a=f.default.Instance.GetProp(e.item1);n.push({prop:a,have:e.item1Num})}return e.item2Num>0&&(a=f.default.Instance.GetProp(e.item2),n.push({prop:a,have:e.item2Num})),n},e.prototype.GetAllReward=function(t){void 0===t&&(t=u.default.getMaxTier());for(var e=[],n=1;n<t;n++){var a=this.GetReward(n);if(e.length<=0)e=a;else for(var o=0;o<a.length;o++)for(var r=0;r<e.length;r++){if(a[o].prop.id==e[r].prop.id){e[r].have+=a[o].have;break}r==e.length-1&&e.push(a[o])}}return e},n=r([g],e)}(h.default));n.default=v,cc._RF.pop()},{"../Data/MonsterData":"MonsterData","../Data/TrialsData":"TrialsData","../Tools/GameTools":"GameTools","../record/GameSys":"GameSys","./MonsterDataManager":"MonsterDataManager","./PropDataManager":"PropDataManager","./SingleBase":"SingleBase"}],TrialsData:[function(t,e,n){"use strict";cc._RF.push(e,"99ce7E+dZBIX4oRkxh9XMx0","TrialsData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],TrialsItem:[function(t,e,n){"use strict";cc._RF.push(e,"610ffoEf2ZJhYb6Pclu9Zog","TrialsItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/TrialsDataManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spframe=[],e.frame=null,e.Tier=null,e.Info=null,e.Content=null,e.index=0,e.curpanel=null,e.award=[],e}return o(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.Content.childrenCount;t++)this.award.push(this.Content.children[t])},e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r,i,h,y,g;return s(this,function(s){switch(s.label){case 0:for(this.index=t,this.curpanel=e,n=d.default.getMaxTier(),a=p.default.Instance.GetMaxTier(),n>=a&&(n=a),o=n+t,r=p.default.Instance.GetCustoms(o),this.Tier.string="Lv."+o,this.Info.string=1==o?""+c.i18nMgr.getLabel("title370")+c.i18nMgr.getLabel("title371"):""+c.i18nMgr.getLabel("title370")+c.i18nMgr.getLabel("title372")+" Lv"+(o-1),this.frame.spriteFrame=0==t?this.spframe[0]:this.spframe[1],i=0;i<this.award.length;i++)this.award[i].active=!1;return 999999==r.item1?[3,2]:(this.award[0].active=!0,y=r.item1Num,[4,u.default.Instance.GetOutPut()]);case 1:h=y*s.sent(),this.award[0].getChildByName("num").getComponent(cc.Label).string="\xd7"+f.default.refSetCoin(h),s.label=2;case 2:return 999999!=r.item2&&(this.award[1].active=!0,g=r.item2Num*l.default.Instance.GetOutPut(),this.award[1].getChildByName("num").getComponent(cc.Label).string="\xd7"+f.default.refSetCoin(g)),[2]}})})},e.prototype.start=function(){},r([g(cc.SpriteFrame)],e.prototype,"spframe",void 0),r([g(cc.Sprite)],e.prototype,"frame",void 0),r([g(cc.Label)],e.prototype,"Tier",void 0),r([g(cc.Label)],e.prototype,"Info",void 0),r([g(cc.Node)],e.prototype,"Content",void 0),r([y],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/TrialsDataManager":"TrialsDataManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],TrialsPanel:[function(t,e,n){"use strict";cc._RF.push(e,"329d0h4SHNAAo8PLxI8pvVP","TrialsPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/MonsterDataManager"),u=t("../Manager/SoundManager"),p=t("../Manager/TrialsDataManager"),d=t("../record/GameSys"),f=t("../Tools/EventConst"),h=t("../Tools/GameTools"),y=t("./FightPanel"),g=t("./PanelConst"),v=t("./RewardPanel"),m=t("./TipGroup"),b=t("./TrialsItem"),_=t("./UIBase"),S=t("./UIManager"),C=cc._decorator,w=C.ccclass,M=C.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e.jewelLabel=null,e.leftContent=null,e.rightContent=null,e.downContent=null,e.history=null,e.resetCount=null,e.mopupNum=null,e.Video=null,e.boss1=null,e.boss2=null,e.array=[],e}return o(e,t),e.prototype.start=function(){cc.systemEvent.on(f.EventConst.Coin,this.initCoin,this),cc.systemEvent.on(f.EventConst.Jewel,this.initJewel,this)},e.prototype.onLoad=function(){var t=this.node.getChildByName("Content");this.leftContent=t.getChildByName("left"),this.rightContent=t.getChildByName("right"),this.downContent=t.getChildByName("down"),this.coinLabel=t.getChildByName("Coin").getChildByName("coin").getComponent(cc.Label),this.jewelLabel=t.getChildByName("Jewel").getChildByName("jewel").getComponent(cc.Label),this.boss1=this.rightContent.getChildByName("Layout").getChildByName("boss1"),this.boss2=this.rightContent.getChildByName("Layout").getChildByName("boss2"),this.history=this.downContent.getChildByName("layout").getChildByName("maxrecord").getComponent(cc.Label),this.resetCount=this.downContent.getChildByName("layout").getChildByName("resetCount").getComponent(cc.Label),this.mopupNum=this.downContent.getChildByName("box").getChildByName("num").getComponent(cc.Label);for(var e=2;e>=0;e--)this.array.push(this.leftContent.children[e])},e.prototype.onEnable=function(){this.init()},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c;return s(this,function(s){switch(s.label){case 0:if(t=d.default.getMaxTier(),e=p.default.Instance.GetMaxTier(),t>=e&&(t=e),(n=e-t)>0)for(a=0;a<this.array.length;a++)a<n?(this.array[a].active=!0,this.array[a].getComponent(b.default).init(a,this)):this.array[a].active=!1;else this.array[0].active=!0,this.array[0].getComponent(b.default).init(0,this);return(o=p.default.Instance.GetCustoms()).boss1_num>0?(this.boss1.active=!0,this.boss1.getChildByName("role").getComponent(cc.Label).string=""+o.wave1_role,this.boss1.getChildByName("name").getComponent(cc.Label).string=""+o.boss1_name,this.boss1.getChildByName("num").getComponent(cc.Label).string="\xd7"+o.boss1_num,r=l.default.Instance.GetMonster(o.boss1_name),i="boss/"+r.sprite,(c=h.default.GetRes("SpriteBundle1",i,cc.SpriteFrame))?[3,2]:[4,h.default.loadImage("SpriteBundle1",i)]):[3,3];case 1:c=s.sent(),s.label=2;case 2:return this.boss1.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=c,[3,4];case 3:this.boss1.active=!1,s.label=4;case 4:return o.boss2_num>0?(this.boss2.active=!0,this.boss2.getChildByName("role").getComponent(cc.Label).string=""+o.wave1_role,this.boss2.getChildByName("name").getComponent(cc.Label).string=""+o.boss2_name,this.boss2.getChildByName("num").getComponent(cc.Label).string="\xd7"+o.boss2_num,r=l.default.Instance.GetMonster(o.boss2_name),i="boss/"+r.sprite,(c=h.default.GetRes("SpriteBundle1",i,cc.SpriteFrame))?[3,6]:[4,h.default.loadImage("SpriteBundle1",i)]):[3,7];case 5:c=s.sent(),s.label=6;case 6:return this.boss2.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=c,[3,8];case 7:this.boss2.active=!1,s.label=8;case 8:return this.initDown(),[2]}})})},e.prototype.initDown=function(){this.history.string=""+(d.default.getMaxTier()-1),this.resetCount.string=""+d.default.getResetCount(),this.mopupNum.string=d.default.getMopUp()>0?"\xd7"+(d.default.getMaxTier()-1):"\xd70",d.default.getResetCount()>0?this.Video.active=!1:this.Video.active=!0},e.prototype.initCoin=function(){this.coinLabel.string=h.default.refSetCoin(d.default.getCoin())},e.prototype.initJewel=function(){this.jewelLabel.string=h.default.refSetCoin(d.default.getJewel())},e.prototype.ClickReset=function(){var t=this;u.default.instance.play(u.Sound.Click);var e=d.default.getResetCount();d.default.getMaxTier()-1<=0?m.default.instance.setText(-1,c.i18nMgr.getLabel("title244")):e>0?(d.default.setResetCount(0),d.default.setMopUp(1),this.initDown()):h.default.getSdk().PlatformCallBack("REWARD",function(){d.default.setMopUp(1),t.initDown()},function(){m.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-16)},e.prototype.ClickMopUp=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return u.default.instance.play(u.Sound.Click),d.default.getMopUp()<=0?(m.default.instance.setText(-1,c.i18nMgr.getLabel("title245")),[2]):[3,1];case 1:return d.default.getMaxTier()-1<=0?(m.default.instance.setText(-1,c.i18nMgr.getLabel("title244")),[2]):[3,2];case 2:return d.default.setMopUp(0),this.initDown(),t=p.default.Instance.GetAllReward(),[4,S.default.Instance.ShowUI(g.default.RewardPanel)];case 3:e.sent(),S.default.Instance.GetClass(g.default.RewardPanel).getComponent(v.default).initAsset(t),e.label=4;case 4:return[2]}})})},e.prototype.ClickTrials=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return u.default.instance.play(u.Sound.Click),this.CloseThis(),[4,S.default.Instance.ShowUI(g.default.FightPanel)];case 1:return t.sent(),S.default.Instance.GetClass(g.default.FightPanel).getComponent(y.default).OpenTrials(),[2]}})})},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),S.default.Instance.ShowInter()},r([M(cc.Node)],e.prototype,"Video",void 0),r([w],e)}(_.default);n.default=P,cc._RF.pop()},{"../Manager/MonsterDataManager":"MonsterDataManager","../Manager/SoundManager":"SoundManager","../Manager/TrialsDataManager":"TrialsDataManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./FightPanel":"FightPanel","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TipGroup":"TipGroup","./TrialsItem":"TrialsItem","./UIBase":"UIBase","./UIManager":"UIManager"}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"2d1e10sZTpIkIDOg9/9aTby","UIBase");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isdestoy=!1,e.mask=null,e.foreMask=null,e.animRoot=null,e.isScaleAnim=!1,e.isAnim=!1,e}return o(e,t),e.prototype.onEnable=function(){this.isAnim=!1,this.isScaleAnim&&this.animRoot&&this.OpenWithScaleAnim()},e.prototype.CloseThis=function(){this.isAnim||(this.isScaleAnim&&this.animRoot?(this.isAnim=!0,this.CloseWithScaleAnim()):this.Destroy())},e.prototype.OpenWithScaleAnim=function(){var t=this;this.animRoot.scale=0,cc.tween(this.animRoot).to(.3,{scale:1},{easing:"backOut"}).call(function(){t.openAnimHandler&&t.openAnimHandler()}).start()},e.prototype.CloseWithScaleAnim=function(){var t=this;this.foreMask&&(this.foreMask.active=!0),this.animRoot.stopAllActions(),cc.tween(this.animRoot).to(.3,{scale:0},{easing:"backIn"}).call(function(){t.closeAnimHandler&&t.closeAnimHandler(),t.Destroy()}).start()},e.prototype.Destroy=function(){this.isdestoy?this.node.destroy():this.node.active=!1},r([c({displayName:"\u662f\u5426\u9500\u6bc1"})],e.prototype,"isdestoy",void 0),r([c({type:cc.Node,displayName:"\u5e95\u5c42\u906e\u7f69"})],e.prototype,"mask",void 0),r([c({type:cc.Node,displayName:"\u6700\u4e0a\u5c42\u906e\u7f69"})],e.prototype,"foreMask",void 0),r([c({type:cc.Node,displayName:"\u52a8\u753b\u8282\u70b9"})],e.prototype,"animRoot",void 0),r([c({displayName:"\u662f\u5426\u662f\u5927\u5c0f\u53d8\u5316\u52a8\u753b"})],e.prototype,"isScaleAnim",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],UIClass:[function(t,e,n){"use strict";cc._RF.push(e,"924e6lmZnJJyr9ACS5yK3iN","UIClass"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(t,e){this.panelName=t,this.panelUI=e},cc._RF.pop()},{}],UIEventListener:[function(t,e,n){"use strict";cc._RF.push(e,"663a9vwZWdLBZHt9rZPyNR1","UIEventListener");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchAudio=null,e.touchAnim=!1,e.clickInterval=.1,e.isDowning=!1,e.downTimer=0,e.longDownEffTime=.3,e.touchEvents=[],e.touchLongEvents=[],e.touchStartEvents=[],e.touchCancelEvents=[],e.touchMoveEvents=[],e.touchSliderEvents=[],e.isSliderEffect=!1,e.rawScale=0,e.clickTime=null,e.initScale=1,e}var n;return o(e,t),n=e,e.Get=function(t,e){void 0===e&&(e=!1);var a=t.getComponent(n);return a||(a=t.addComponent(n)),a.touchAnim=e,a},e.prototype.onLoad=function(){this.rawScale=this.node.scale,this.node.on("touchstart",this.touchStart.bind(this),this.node),this.node.on("touchend",this.touchEnd.bind(this),this.node),this.node.on("touchcancel",this.touchCancel.bind(this),this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove.bind(this),this.node)},e.prototype.touchStart=function(){0!=this.enabled&&(this.initScale=this.node.scale,this.isSliderEffect=!1,this.touchAnim&&(this.node.scale=this.initScale-.05),this.isDowning=!0,this.downTimer=0,this.touchStartEvents.length>0&&cc.Component.EventHandler.emitEvents(this.touchStartEvents))},e.prototype.touchEnd=function(){if(this.isDowning=!1,0!=this.enabled&&(this.touchAnim&&(this.node.scale=this.initScale),!this.isSliderEffect)){var t=new Date,e=1e3*this.clickInterval;t.getTime()-this.clickTime<e||(this.clickTime=t.getTime(),this.touchEvents.length>0&&cc.Component.EventHandler.emitEvents(this.touchEvents,this.node))}},e.prototype.touchCancel=function(){0!=this.enabled&&(this.isDowning=!1,this.touchAnim&&(this.node.scale=this.initScale),this.touchCancelEvents.length>0&&cc.Component.EventHandler.emitEvents(this.touchCancelEvents))},e.prototype.touchMove=function(t){if(0!=this.enabled&&(this.touchMoveEvents.length>0&&cc.Component.EventHandler.emitEvents(this.touchMoveEvents,this.node.name),0==this.isSliderEffect)){var e=t.getDelta();(this.isSliderY?this.sliderEffSpeed>0?e.y>=this.sliderEffSpeed:e.y<=this.sliderEffSpeed:this.sliderEffSpeed>0?e.x>=this.sliderEffSpeed:e.x<=this.sliderEffSpeed)&&this.touchSliderEvents.length>0&&(this.isSliderEffect=!0,cc.Component.EventHandler.emitEvents(this.touchSliderEvents,this.node.name))}},e.prototype.addTouchStartEvent=function(t){this.touchStartEvents=[],this.touchStartEvents.push(t)},e.prototype.addTouchEvent=function(t){this.touchEvents=[],this.touchEvents.push(t)},e.prototype.addTouchCancelEvent=function(t){this.touchCancelEvents=[],this.touchCancelEvents.push(t)},e.prototype.addTouchLongEvent=function(t){this.touchLongEvents=[],this.touchLongEvents.push(t)},e.prototype.addTouchSliderEvent=function(t){this.touchSliderEvents=[],this.touchSliderEvents.push(t)},e.prototype.addMoveEvent=function(t){this.touchMoveEvents.push(t)},e.prototype.update=function(){this.isDowning&&(this.downTimer+=cc.director.getDeltaTime(),this.downTimer>=this.longDownEffTime&&(this.touchLongEvents.length>0&&cc.Component.EventHandler.emitEvents(this.touchLongEvents,this.node.name),this.isDowning=!1))},e.prototype.onDestroy=function(){this.node.targetOff(this.node)},r([c({type:cc.AudioClip,displayName:"\u89e6\u6478\u97f3"})],e.prototype,"touchAudio",void 0),r([c({displayName:"\u89e6\u6478\u52a8\u753b"})],e.prototype,"touchAnim",void 0),r([c({type:cc.Float,displayName:"\u70b9\u51fb\u95f4\u9694"})],e.prototype,"clickInterval",void 0),r([c({type:cc.Component.EventHandler,displayName:"\u89e6\u6478\u56de\u8c03"})],e.prototype,"touchEvents",void 0),n=r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"f88e7PD51lOJ76MkK8SxTFX","UIManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/CurrencyGroup"),l=t("../GameGroup/ExpeditionGroup"),u=t("../GameGroup/PracticeGroup"),p=t("../i18n/i18nMgr"),d=t("../Manager/GuideDataManager"),f=t("../Manager/HeroDataManager"),h=t("../Manager/SceneDataManager"),y=t("../Manager/SoundManager"),g=t("../record/GameSys"),v=t("../Tools/EventConst"),m=t("../Tools/GameTools"),b=t("./PanelConst"),_=t("./TipGroup"),S=t("./UIBase"),C=t("./UIClass"),w=cc._decorator,M=w.ccclass,P=w.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BackBtn=null,e.BtnContent=null,e.Mask=null,e.GuideHand=null,e.ExpeditionProgress=null,e.CurrencyGroup=null,e.UIBtn=null,e.Btn=[],e.CutTo=null,e.Group=[],e.OPPONativeAdBanner=null,e.VIVONativeAdBanner=null,e.bannerNode=null,e.panelStack=new Array,e.panelRoot=null,e.internum=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){return i(this,void 0,void 0,function(){var t,e,a,o,r=this;return s(this,function(i){switch(i.label){case 0:return n.Instance=this,g.default.isFirstLoad?this.Mask.active=!0:this.Mask.active=!1,this.panelRoot=this.node.getChildByName("Content"),cc.systemEvent.on(v.EventConst.Game_Up,this.initGroupBtn,this),cc.systemEvent.on(v.EventConst.initBtn,this.initGroupBtn,this),this.initGroupBtn(),this.CurrencyGroup.getComponent(c.default).init(),this.CurrencyGroup.active=!1,cc.systemEvent.on(v.EventConst.GameStart,function(){r.CurrencyGroup.active=!0,r.Mask.active=!1},this),null!=(t=m.default.GetRes("Bundle","Group/MagicPanel",cc.Prefab))?[3,2]:[4,m.default.LoadAny("Bundle","Group/MagicPanel",cc.Prefab)];case 1:t=i.sent(),i.label=2;case 2:return t&&((o=cc.instantiate(t)).setParent(this.Group[0].parent),this.Group.push(o),o.active=!1),null!=(e=m.default.GetRes("Bundle","Group/RoamGroup",cc.Prefab))?[3,4]:[4,m.default.LoadAny("Bundle","Group/RoamGroup",cc.Prefab)];case 3:e=i.sent(),i.label=4;case 4:return e&&((o=cc.instantiate(e)).setParent(this.Group[0].parent),this.Group.push(o),o.active=!1),null!=(a=m.default.GetRes("Bundle","Group/ShopGroup",cc.Prefab))?[3,6]:[4,m.default.LoadAny("Bundle","Group/ShopGroup",cc.Prefab)];case 5:a=i.sent(),i.label=6;case 6:return a&&((o=cc.instantiate(a)).setParent(this.Group[0].parent),this.Group.push(o),o.active=!1),[2]}})})},e.prototype.start=function(){},e.prototype.OnTouchMove=function(){console.log("\u63a5\u6536\u4e8b\u4ef6")},e.prototype.ShowUI=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return cc.systemEvent.emit(v.EventConst.ShowMask),(e=this.Check(t))?(e.panelUI.node.active=!0,e.panelUI.node.setSiblingIndex(99),cc.systemEvent.emit(v.EventConst.HideMask),[2,e.panelUI]):[3,1];case 1:return null!=(n=m.default.GetRes("Bundle","Prefabs/UI/"+t,cc.Prefab))?[3,3]:[4,m.default.LoadAny("Bundle","Prefabs/UI/"+t,cc.Prefab)];case 2:n=i.sent(),i.label=3;case 3:n&&(a=cc.instantiate(n),this.panelRoot.addChild(a),a.setPosition(cc.Vec2.ZERO),o=a.getComponent(S.default),r=new C.default(t,o),this.AddPanelStack(r),a.setSiblingIndex(99)),cc.systemEvent.emit(v.EventConst.HideMask),i.label=4;case 4:return[2]}})})},e.prototype.GetClass=function(t){var e=this.Check(t);return e?e.panelUI:null},e.prototype.HideUI=function(t){var e=this.Check(t);if(e)return e.panelUI.CloseThis(),e.panelUI;console.log("\u6ca1\u6709\u627e\u5230\u8be5\u9762\u677f")},e.prototype.GetPanelByType=function(t){var e=this.panelStack.length;if(e>0){for(var n=0;n<e;n++)if(this.panelStack[n].panelName==t)return this.panelStack[n];return null}return null},e.prototype.Check=function(t){var e=this.panelStack.length;if(e>0){for(var n=0;n<e;n++)if(this.panelStack[n].panelName==t)return this.panelStack[n];return!1}return!1},e.prototype.AddPanelStack=function(t){this.panelStack.push(t)},e.prototype.ChangeCoin=function(t){g.default.setCoin(t),t>0&&_.default.instance.setText(0,p.i18nMgr.getLabel("title249")+"+"+m.default.refSetCoin(t)),cc.systemEvent.emit(v.EventConst.Coin)},e.prototype.ChangeJewel=function(t){g.default.setJewel(t),t>0&&_.default.instance.setText(1,p.i18nMgr.getLabel("title248")+"+"+m.default.refSetCoin(t)),cc.systemEvent.emit(v.EventConst.Jewel)},e.prototype.ChangeJade=function(t){g.default.setJade(t),t>0&&_.default.instance.setText(2,p.i18nMgr.getLabel("title246")+"+"+m.default.refSetCoin(t)),cc.systemEvent.emit(v.EventConst.Jade)},e.prototype.ChangeCrystal=function(t){g.default.setCrystal(t),t>0&&_.default.instance.setText(3,p.i18nMgr.getLabel("title247")+"+"+m.default.refSetCoin(t)),cc.systemEvent.emit(v.EventConst.Crystal)},e.prototype.GetCoin=function(t){g.default.setCoin(t),cc.systemEvent.emit(v.EventConst.Coin)},e.prototype.GetJewel=function(t){g.default.setJewel(t),cc.systemEvent.emit(v.EventConst.Jewel)},e.prototype.GetCrystal=function(t){g.default.setCrystal(t)},e.prototype.GetJade=function(t){g.default.setJade(t),cc.systemEvent.emit(v.EventConst.Jade)},e.prototype.ShowInter=function(){this.internum++,this.internum>=g.default.PanelAd&&0!=g.default.PanelAd&&m.default.getSdk().PlatformCallBack("INTER")},e.prototype.MaxFightChange=function(t){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return[4,f.default.Instance.GetMaxFight()];case 1:return e=n.sent(),(t>e||t<e)&&_.default.instance.setFightNum(t,e),[2]}})})},e.prototype.ClickShowUI=function(t,e){this.HideGuide();var n=parseInt(e);switch(n){case 0:this.ShowGroup(n);break;case 1:if(!d.default.Instance.isUnlcok(5))return void _.default.instance.setText(-1,d.default.Instance.CanUnlock(5));this.ShowGroup(n);break;case 2:if(!d.default.Instance.isUnlcok(2))return void _.default.instance.setText(-1,d.default.Instance.CanUnlock(2));this.ShowGroup(n);break;case 3:if(!d.default.Instance.isUnlcok(18))return void _.default.instance.setText(-1,d.default.Instance.CanUnlock(18));this.ShowGroup(n);break;case 4:if(!d.default.Instance.isUnlcok(9))return void _.default.instance.setText(-1,d.default.Instance.CanUnlock(9));this.ShowGroup(n)}},e.prototype.initGroupBtn=function(){var t=d.default.Instance.isUnlcok(5);t?m.default.ResetGrayAllNode(this.Btn[1]):m.default.SetGrayAllNode(this.Btn[1]),this.Btn[1].getChildByName("suo").active=!t,this.ExpeditionProgress.active=t;var e=h.default.Instance.GetRole(g.default.getMaxCustoms());this.ExpeditionProgress.getChildByName("layout").getChildByName("progress").getComponent(cc.Label).string=e.missonName+"-"+e.rankId;var n=d.default.Instance.isUnlcok(2);this.Btn[2].getChildByName("suo").active=!n,n?m.default.ResetGrayAllNode(this.Btn[2]):m.default.SetGrayAllNode(this.Btn[2]);var a=d.default.Instance.isUnlcok(18);a?m.default.ResetGrayAllNode(this.Btn[3]):m.default.SetGrayAllNode(this.Btn[3]),this.Btn[3].getChildByName("suo").active=!a;var o=d.default.Instance.isUnlcok(9);o?m.default.ResetGrayAllNode(this.Btn[4]):m.default.SetGrayAllNode(this.Btn[4]),this.Btn[4].getChildByName("suo").active=!o},e.prototype.ShowGroup=function(t){this.DoCutAnimation(),n.Instance.ShowInter();for(var e=0;e<this.Group.length;e++)this.Group[e].active=e==t},e.prototype.ClickOffGroup=function(){var t=this;cc.tween(this.node).call(function(){cc.systemEvent.emit(v.EventConst.ShowMask),cc.tween(t.BtnContent).to(.3,{x:0}).start(),cc.tween(t.BackBtn).to(.3,{x:-460}).call(function(){cc.systemEvent.emit(v.EventConst.HideMask)}).start()}).start();for(var e=0;e<this.Group.length;e++)this.Group[e].active=!1},e.prototype.ClickCoin=function(){y.default.instance.play(y.Sound.Click),this.ShowUI(b.default.FreeCoin)},e.prototype.ClickJewel=function(){y.default.instance.play(y.Sound.Click),this.ShowUI(b.default.FreeJewel)},e.prototype.ToGuide=function(t){var e=this.GetClass(b.default.FreeCoin);switch(e&&(e.node.active=!1,m.default.getSdk().PlatformCallBack("BANNERCLOSE")),t){case 3:u.default.instance.ShowGuide(t);break;case 2:this.ShowGuide(t);break;case 4:u.default.instance.ShowGuide(t);break;case 5:this.ShowGuide(t);break;case 6:u.default.instance.teacherid=6,this.Group[1].getComponent(l.default).showTeaher();break;case 7:case 8:u.default.instance.ShowGuide(t);break;case 9:this.ShowGuide(t);break;case 10:u.default.instance.ShowGuide(t);break;case 11:u.default.instance.teacherid=11,this.ShowGuide(t);break;case 12:u.default.instance.ShowGuide(t);break;case 13:u.default.instance.teacherid=13,this.ShowGuide(t);break;case 14:break;case 15:u.default.instance.ShowGuide(t);break;case 16:u.default.instance.teacherid=16,this.ShowGuide(t);break;case 17:u.default.instance.teacherid=17,this.ShowGuide(t);break;case 18:this.ShowGuide(t);break;case 19:u.default.instance.teacherid=19,this.ShowGuide(t);break;case 20:case 21:u.default.instance.ShowGuide(t);break;case 22:u.default.instance.teacherid=22,this.Group[1].getComponent(l.default).showTeacherOff(function(){u.default.instance.ShowGuide(t)});break;case 27:u.default.instance.teacherid=27,this.Group[1].getComponent(l.default).showTeaher()}},e.prototype.ShowGuide=function(t){var e;switch(this.GuideHand.active=!0,t){case 2:e=this.Btn[2],u.default.instance.teacherid=2;break;case 5:e=this.Btn[1],u.default.instance.teacherid=5;break;case 9:e=this.Btn[4];break;case 11:case 13:case 16:case 17:case 19:e=this.Btn[0];break;case 18:e=this.Btn[3]}var n=e.parent.convertToWorldSpaceAR(e.getPosition()),a=this.GuideHand.parent.convertToNodeSpaceAR(n);this.GuideHand.setPosition(a)},e.prototype.HideGuide=function(){this.GuideHand.active=!1},e.prototype.ShowUIBtn=function(){this.UIBtn.active=!0},e.prototype.HideUIBtn=function(){this.UIBtn.active=!1},e.prototype.BetaCoin=function(){this.ChangeCoin(1e39),this.ChangeJewel(1e39)},e.prototype.BetaMagic=function(){for(var t=g.default.getMagic(),e=0;e<t.length;e++)t[e].level=1;g.default.setMagic(t)},e.prototype.DoCutAnimation=function(){var t=this;this.CutTo.active=!0;var e=this.CutTo.getChildByName("left"),n=this.CutTo.getChildByName("right");e.opacity=255,n.opacity=255,e.x=0,n.x=0,e.stopAllActions(),n.stopAllActions(),cc.tween(e).to(1,{x:-750,opacity:180}).start(),cc.tween(n).to(1,{x:750,opacity:180}).start(),cc.tween(this.CutTo).delay(1).call(function(){t.CutTo.active=!1}).start()},e.prototype.BetaLevelCustoms=function(){g.default.setLevel(51),g.default.setMaxLevel(51),g.default.setCustoms(700),g.default.setMaxCustoms(700)},e.Instance=null,r([P(cc.Node)],e.prototype,"BackBtn",void 0),r([P(cc.Node)],e.prototype,"BtnContent",void 0),r([P(cc.Node)],e.prototype,"Mask",void 0),r([P(cc.Node)],e.prototype,"GuideHand",void 0),r([P(cc.Node)],e.prototype,"ExpeditionProgress",void 0),r([P(cc.Node)],e.prototype,"CurrencyGroup",void 0),r([P(cc.Node)],e.prototype,"UIBtn",void 0),r([P(cc.Node)],e.prototype,"Btn",void 0),r([P(cc.Node)],e.prototype,"CutTo",void 0),r([P(cc.Node)],e.prototype,"Group",void 0),r([P(cc.Node)],e.prototype,"OPPONativeAdBanner",void 0),r([P(cc.Node)],e.prototype,"VIVONativeAdBanner",void 0),r([P(cc.Node)],e.prototype,"bannerNode",void 0),n=r([M],e)}(cc.Component);n.default=k,cc._RF.pop()},{"../GameGroup/CurrencyGroup":"CurrencyGroup","../GameGroup/ExpeditionGroup":"ExpeditionGroup","../GameGroup/PracticeGroup":"PracticeGroup","../Manager/GuideDataManager":"GuideDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/SceneDataManager":"SceneDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIClass":"UIClass"}],UnlockDisciple:[function(t,e,n){"use strict";cc._RF.push(e,"46f2bGUCX9GEIY2Mm/gA9eD","UnlockDisciple");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/SoundManager"),p=t("../Manager/StoryDataManager"),d=t("../Tools/GameTools"),f=t("./TipGroup"),h=t("./UIBase"),y=t("./UIManager"),g=cc._decorator,v=g.ccclass,m=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLabel=null,e.icon=null,e.coin=null,e.doubleCoin=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),d.default.getSdk().PlatformCallBack("BANNER")},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r;return s(this,function(i){switch(i.label){case 0:return e=p.default.Instance.GetStory(t+1),n=e.name,a="Painting/"+e.paint,(o=d.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,d.default.loadImage("Bundle",a)];case 1:o=i.sent(),i.label=2;case 2:return this.icon.spriteFrame=o,this.nameLabel.string=""+n,[4,l.default.Instance.GetOutPut()];case 3:return r=20*i.sent(),this.coin.string="+"+d.default.refSetCoin(r),this.doubleCoin.string="+"+d.default.refSetCoin(3*r),[2]}})})},e.prototype.ClickOneGet=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return u.default.instance.play(u.Sound.Click),this.CloseThis(),[4,l.default.Instance.GetOutPut()];case 1:return t=20*e.sent(),y.default.Instance.ChangeCoin(t),[2]}})})},e.prototype.ClickDoubleGet=function(){var t=this;u.default.instance.play(u.Sound.Click),d.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.CloseThis(),[4,l.default.Instance.GetOutPut()];case 1:return t=20*e.sent(),y.default.Instance.ChangeCoin(3*t),[2]}})})},function(){f.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-10)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),d.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([m(cc.Label)],e.prototype,"nameLabel",void 0),r([m(cc.Sprite)],e.prototype,"icon",void 0),r([m(cc.Label)],e.prototype,"coin",void 0),r([m(cc.Label)],e.prototype,"doubleCoin",void 0),r([v],e)}(h.default);n.default=b,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Manager/StoryDataManager":"StoryDataManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],UnlockNewArtifacts:[function(t,e,n){"use strict";cc._RF.push(e,"86830Z6MYJHcJXcWiZ53+Af","UnlockNewArtifacts");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=t("./TipGroup"),y=t("./UIBase"),g=t("./UIManager"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ArtifactsName=null,e.ArtifactsSp=null,e.oneNum=null,e.doubleNum=null,e.reward=0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return t.prototype.onEnable.call(this),f.default.getSdk().PlatformCallBack("BANNER"),e=d.default.getMaxArtifacts(),n=l.default.Instance.GetNowData(e),a="Spines/Artifacts/fabao"+e+"/fabao"+e,o=f.default.GetRes("Bundle",a,sp.SkeletonData),r=null,null!=o?[3,2]:[4,f.default.LoadSpinData("Bundle",a)];case 1:return r=s.sent(),[3,3];case 2:r=o,s.label=3;case 3:return this.ArtifactsSp.skeletonData=r,this.ArtifactsSp.setAnimation(0,"fabao"+e,!0),this.ArtifactsName.string=""+n.name,i=this,[4,u.default.Instance.GetOutPut()];case 4:return i.reward=20*s.sent(),this.oneNum.string="+"+f.default.refSetCoin(this.reward),this.doubleNum.string="+"+f.default.refSetCoin(2*this.reward),[2]}})})},e.prototype.start=function(){},e.prototype.ClickOne=function(){p.default.instance.play(p.Sound.Click),g.default.Instance.ChangeCoin(this.reward),this.CloseThis()},e.prototype.ClickDouble=function(){var t=this;p.default.instance.play(p.Sound.Click),f.default.getSdk().PlatformCallBack("REWARD",function(){g.default.Instance.ChangeCoin(2*t.reward),t.CloseThis()},function(){h.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-10)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),f.default.getSdk().PlatformCallBack("BANNERCLOSE")},r([b(cc.Label)],e.prototype,"ArtifactsName",void 0),r([b(sp.Skeleton)],e.prototype,"ArtifactsSp",void 0),r([b(cc.Label)],e.prototype,"oneNum",void 0),r([b(cc.Label)],e.prototype,"doubleNum",void 0),r([m],e)}(y.default);n.default=_,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],UnlockPet:[function(t,e,n){"use strict";cc._RF.push(e,"28937poCOpHFJzPbMOp5cLR","UnlockPet");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/PetDataManager"),p=t("../Manager/SoundManager"),d=t("../record/GameSys"),f=t("../Tools/GameTools"),h=t("./TipGroup"),y=t("./UIBase"),g=t("./UIManager"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.oneLabel=null,e.doubelLabel=null,e.Sp=null,e.Name=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e,n,a,o;return s(this,function(r){switch(r.label){case 0:return t.prototype.onEnable.call(this),f.default.getSdk().PlatformCallBack("BANNER"),[4,l.default.Instance.GetOutPut()];case 1:return e=20*r.sent(),this.oneLabel.string="\xd7"+f.default.refSetCoin(e),this.doubelLabel.string="\xd7"+f.default.refSetCoin(3*e),n=d.default.getPetIndex(),a="Spines/Pet/pet"+(n+1)+"/pet_"+(n+1),(o=f.default.GetRes("Bundle",a,sp.SkeletonData))?[3,3]:[4,f.default.LoadSpinData("Bundle",a)];case 2:o=r.sent(),r.label=3;case 3:return this.Sp.skeletonData=o,this.Sp.setAnimation(0,"idle",!0),this.Name.string=u.default.Instance.GetName(n),[2]}})})},e.prototype.ClickOne=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return p.default.instance.play(p.Sound.Click),this.CloseThis(),[4,l.default.Instance.GetOutPut()];case 1:return t=20*e.sent(),g.default.Instance.ChangeCoin(t),[2]}})})},e.prototype.ClickDouble=function(){var t=this;p.default.instance.play(p.Sound.Click),f.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.CloseThis(),[4,l.default.Instance.GetOutPut()];case 1:return t=20*e.sent(),g.default.Instance.ChangeCoin(3*t),[2]}})})},function(){h.default.instance.setText(-1,c.i18nMgr.getLabel("title148"))},-10)},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this),f.default.getSdk().PlatformCallBack("BANNERCLOSE")},e.prototype.start=function(){},r([b(cc.Label)],e.prototype,"oneLabel",void 0),r([b(cc.Label)],e.prototype,"doubelLabel",void 0),r([b(sp.Skeleton)],e.prototype,"Sp",void 0),r([b(cc.Label)],e.prototype,"Name",void 0),r([m],e)}(y.default);n.default=_,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PetDataManager":"PetDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],UnlockSys:[function(t,e,n){"use strict";cc._RF.push(e,"f5698d+LxdH6qjtM8epMZyy","UnlockSys");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/ExpeditionGroup"),l=t("../i18n/i18nMgr"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/GuideDataManager"),d=t("../Manager/PropDataManager"),f=t("../Manager/SoundManager"),h=t("../record/GameSys"),y=t("../Tools/EventConst"),g=t("../Tools/GameTools"),v=t("./PanelConst"),m=t("./RewardPanel"),b=t("./TalkPanel"),_=t("./TipGroup"),S=t("./UIBase"),C=t("./UIManager"),w=cc._decorator,M=w.ccclass,P=w.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLabel=null,e.icon=null,e.coin=null,e.doubleCoin=null,e.index=0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),g.default.getSdk().PlatformCallBack("BANNER"),cc.systemEvent.emit(y.EventConst.Game_Up)},e.prototype.init=function(t){return i(this,void 0,void 0,function(){var e,n,a,o,r,i,c,d;return s(this,function(s){switch(s.label){case 0:switch(this.index=t,e="",n="",a="",t){case 1:e=l.i18nMgr.getLabel("title250"),n="zh"==l.i18nMgr.language?"Icon/1":"Icon/en_1",a="SpriteBundle1";break;case 2:e=l.i18nMgr.getLabel("title251"),n="Icon/2",a="SpriteBundle1";break;case 3:e=l.i18nMgr.getLabel("title252"),n="Icon/3",a="SpriteBundle1";break;case 4:e=l.i18nMgr.getLabel("title253"),n="Icon/4",a="SpriteBundle1";break;case 5:e=l.i18nMgr.getLabel("title254"),n="Icon/5",a="SpriteBundle1";break;case 6:for(e=l.i18nMgr.getLabel("title255"),n="Icon/6",a="SpriteBundle1",o=h.default.getMagic(),r=0;r<o.length;r++)if("\u4e07\u5251\u5f52\u4e00"==o[r].name){o[r].level=1,h.default.setMagic(o);break}break;case 7:e=l.i18nMgr.getLabel("title257"),n="zh"==l.i18nMgr.language?"Icon/7":"Icon/en_7",a="SpriteBundle1";break;case 8:e=l.i18nMgr.getLabel("title258"),n="zh"==l.i18nMgr.language?"Icon/8":"Icon/en_8",a="SpriteBundle1";break;case 9:e=l.i18nMgr.getLabel("title259"),n="Icon/9",a="SpriteBundle1";break;case 10:e=l.i18nMgr.getLabel("title260"),n="zh"==l.i18nMgr.language?"Icon/10":"Icon/en_10",a="SpriteBundle1";break;case 11:e=l.i18nMgr.getLabel("title261"),n="Icon/11",a="SpriteBundle1";break;case 12:e=l.i18nMgr.getLabel("title262"),n="Icon/12",a="SpriteBundle1";break;case 13:e=l.i18nMgr.getLabel("title263"),n="Icon/13",a="SpriteBundle1";break;case 14:e=l.i18nMgr.getLabel("title264"),n="Icon/14",a="SpriteBundle1";break;case 15:e=l.i18nMgr.getLabel("title265"),n="Icon/15",a="SpriteBundle1";break;case 16:e=l.i18nMgr.getLabel("title266"),n="Icon/16",a="SpriteBundle1";break;case 17:e=l.i18nMgr.getLabel("title267"),n="Icon/17",a="SpriteBundle1";break;case 18:e=l.i18nMgr.getLabel("title268"),n="Icon/18",a="SpriteBundle1";break;case 19:e=l.i18nMgr.getLabel("title269"),n="Icon/19",a="SpriteBundle1";break;case 20:e=l.i18nMgr.getLabel("title270"),n="Icon/20",a="SpriteBundle1";break;case 21:e=l.i18nMgr.getLabel("title271"),n="zh"==l.i18nMgr.language?"Icon/21":"Icon/en_21",a="SpriteBundle1";break;case 22:e=l.i18nMgr.getLabel("title272"),n="Icon/22",a="SpriteBundle1";break;case 26:e=l.i18nMgr.getLabel("title274"),n="Icon/26",a="SpriteBundle1";break;case 27:e=l.i18nMgr.getLabel("title273"),n="zh"==l.i18nMgr.language?"Icon/27":"Icon/en_27",a="SpriteBundle1"}return(i=g.default.GetRes(a,n,cc.SpriteFrame))?[3,2]:[4,g.default.loadImage(a,n)];case 1:i=s.sent(),s.label=2;case 2:return this.icon.spriteFrame=i,this.nameLabel.string=""+e,c=p.default.Instance.getUnlockReward(t),[4,u.default.Instance.GetOutPut()];case 3:return d=s.sent()*c,this.coin.string="+"+g.default.refSetCoin(d),this.doubleCoin.string="+"+g.default.refSetCoin(3*d),[2]}})})},e.prototype.ClickOneGet=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return f.default.instance.play(f.Sound.Click),this.CloseThis(),t=p.default.Instance.getUnlockReward(this.index),[4,u.default.Instance.GetOutPut()];case 1:return e=n.sent()*t,C.default.Instance.ChangeCoin(e),cc.systemEvent.emit(y.EventConst.ShowCoinToUp),[2]}})})},e.prototype.ClickDoubleGet=function(){var t=this;f.default.instance.play(f.Sound.Click),g.default.getSdk().PlatformCallBack("REWARD",function(){return i(t,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return this.CloseThis(),t=p.default.Instance.getUnlockReward(this.index),[4,u.default.Instance.GetOutPut()];case 1:return e=n.sent()*t,C.default.Instance.ChangeCoin(3*e),cc.systemEvent.emit(y.EventConst.ShowCoinToUp),[2]}})})},function(){_.default.instance.setText(-1,l.i18nMgr.getLabel("title148"))},-10)},e.prototype.CloseThis=function(){return i(this,void 0,void 0,function(){var e,n=this;return s(this,function(a){switch(a.label){case 0:return t.prototype.CloseThis.call(this),999999==(e=p.default.Instance.isHaveTalk(this.index))?[3,2]:[4,C.default.Instance.ShowUI(v.default.TalkPanel)];case 1:return a.sent(),C.default.Instance.GetClass(v.default.TalkPanel).getComponent(b.default).init(e,function(){return i(n,void 0,void 0,function(){var t,e=this;return s(this,function(n){switch(n.label){case 0:return 4!=this.index?[3,2]:(t=d.default.Instance.GetProp(5),[4,C.default.Instance.ShowUI(v.default.RewardPanel)]);case 1:return n.sent(),C.default.Instance.GetClass(v.default.RewardPanel).getComponent(m.default).initAsset([{prop:t,have:1}],function(){C.default.Instance.ToGuide(e.index)}),[3,3];case 2:7==this.index?C.default.Instance.Group[1].getComponent(c.default).showTeacherOff(function(){return i(e,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return[4,C.default.Instance.ShowUI(v.default.TalkPanel)];case 1:return e.sent(),C.default.Instance.GetClass(v.default.TalkPanel).getComponent(b.default).init(1e3,function(){return i(t,void 0,void 0,function(){return s(this,function(){return C.default.Instance.ToGuide(7),[2]})})}),[2]}})})}):C.default.Instance.ToGuide(this.index),n.label=3;case 3:return[2]}})})}),[3,3];case 2:C.default.Instance.ToGuide(this.index),a.label=3;case 3:return g.default.getSdk().PlatformCallBack("BANNERCLOSE"),[2]}})})},r([P(cc.Label)],e.prototype,"nameLabel",void 0),r([P(cc.Sprite)],e.prototype,"icon",void 0),r([P(cc.Label)],e.prototype,"coin",void 0),r([P(cc.Label)],e.prototype,"doubleCoin",void 0),r([M],e)}(S.default);n.default=k,cc._RF.pop()},{"../GameGroup/ExpeditionGroup":"ExpeditionGroup","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./PanelConst":"PanelConst","./RewardPanel":"RewardPanel","./TalkPanel":"TalkPanel","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],UserDrugPanel:[function(t,e,n){"use strict";cc._RF.push(e,"89c43ErZS1G9JYaV79+l3O6","UserDrugPanel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/DrugDataManager"),p=t("../Manager/PropDataManager"),d=t("../Manager/SoundManager"),f=t("../Tools/EventConst"),h=t("../Tools/GameTools"),y=t("./TipGroup"),g=t("./UIBase"),v=t("./UIManager"),m=cc._decorator,b=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DrugContent=null,e}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.init()},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c,l,u,d,f;return s(this,function(s){switch(s.label){case 0:t=0,s.label=1;case 1:return t<this.DrugContent.childrenCount?(e=p.default.Instance.GetDrugProp(t),n=this.DrugContent.children[t],a=n.getChildByName("frame").getComponent(cc.Sprite),o=n.getChildByName("icon").getComponent(cc.Sprite),r=n.getChildByName("num").getComponent(cc.Label),i=n.getChildByName("name").getComponent(cc.Label),c="PropFrame/"+e.rank,(l=h.default.GetRes("Bundle",c,cc.SpriteFrame))?[3,3]:[4,h.default.loadImage("Bundle",c)]):[3,7];case 2:l=s.sent(),s.label=3;case 3:return a.spriteFrame=l,u="PropIcon/"+e.icon,(d=h.default.GetRes("Bundle",u,cc.SpriteFrame))?[3,5]:[4,h.default.loadImage("Bundle",u)];case 4:d=s.sent(),s.label=5;case 5:o.spriteFrame=d,f=p.default.Instance.GetPropNum(e.id).have,r.string="\xd7"+h.default.refSetCoin(f),i.string=""+e.name,this.DrugContent.children[t].active=f>0,s.label=6;case 6:return t++,[3,1];case 7:return[2]}})})},e.prototype.clickUser=function(){var t=this;d.default.instance.play(d.Sound.Click),this.DrugContent.stopAllActions(),this.CloseThis();for(var e=p.default.Instance.GetPackPropType(5),n=function(n){cc.tween(a.DrugContent).delay(1*n).call(function(){return i(t,void 0,void 0,function(){var t,a,o,r;return s(this,function(){return t=e[n].prop,a=e[n].have,o=u.default.Instance.GetDrug(t.index),r=l.default.Instance.GetOutPut()*o.output*a,p.default.Instance.subPackProp(t.id,a),y.default.instance.setText(-1,c.i18nMgr.getLabel("title275")+t.name+"x"+a),cc.systemEvent.emit(f.EventConst.PlayEat),this.init(),setTimeout(function(){v.default.Instance.ChangeCoin(r)},500),[2]})})}).start()},a=this,o=0;o<e.length;o++)n(o)},e.prototype.start=function(){},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([_(cc.Node)],e.prototype,"DrugContent",void 0),r([b],e)}(g.default);n.default=S,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/DrugDataManager":"DrugDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup","./UIBase":"UIBase","./UIManager":"UIManager"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"7fa18EongJJX5g8WCtMph2q","Utils");var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var r=function(){function t(){}return t.getAsset=function(t,e,n){return a(this,void 0,Promise,function(){var a,r;return o(this,function(){return(a=cc.assetManager.getBundle(t))?(r=a.get(e,n))?[2,Promise.resolve(r)]:[2,new Promise(function(t,o){a.load(e,n,function(e,n){e?o(e):(n.addRef(),t(n))})})]:[2,new Promise(function(a,o){cc.assetManager.loadBundle(t,function(t,r){t?o(t):r.load(e,n,function(t,e){t?o(t):(e.addRef(),a(e))})})})]})})},t.toScene=function(t,e){cc.assetManager.loadBundle(t,function(n,a){if(n)return console.log(n);cc.director.emit(cc.Director.EVENT_BEFORE_SCENE_LOADING,t),a.loadScene(t,function(t,n){if(t)return console.log(t);cc.director.runScene(n,null,e)})})},t.getTime0=function(t){return new Date(t).setHours(0,0,0,0)},t.hexToColor=function(t){var e=cc.color();return cc.Color.fromHEX(e,t)},t.formatTime=function(t){if(t>86400)return"--:--:--";t=Math.floor(t);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),a=t-3600*e-60*n,o=String(e),r=String(n),i=String(a);return e<10&&(o="0"+o),n<10&&(r="0"+r),a<10&&(i="0"+i),o+":"+r+":"+i},t.formatTime2=function(t){if(t>3600)return"--:--";t=Math.floor(t);var e=Math.floor(t/60),n=t-60*e,a=String(e),o=String(n);return e<10&&(a="0"+a),n<10&&(o="0"+o),a+":"+o},t.foramtNumber3=function(t,e){if(t<1e3)return t.toFixed(0)+"";for(var n="????",a=e||this.units,o=a.length,r=1,i=0;i<o;i++){var s=1e3*r;if(t<s){n=Math.floor(t/r*10)/10+a[i];break}r=s}return n},t.findInJson=function(t,e,n){for(var a in t){var o=t[a];if(o[e]==n)return o}},t.multfindInJson=function(t,e,n){var a=[];for(var o in t){var r=t[o];r[e]==n&&a.push(r)}return a},t.angleStd=function(t){return(t%360+360)%360},t.randomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.random=function(t,e){return Math.random()*(e-t)+t},t.randomIndex=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];var a=Math.random()*e;for(n=0;n<t.length;n++){if(a<t[n])return n;a-=t[n]}return 0},t.point_rectHit=function(t,e,n,a,o,r){return t>=n&&t<a&&e>=r&&e<o},t.rect_rect_Hit=function(t,e,n,a,o,r,i,s){return t<o+i&&o<t+n&&e<r+s&&r<e+a},t.findComponentRecursive=function(t,e){var n=t.getComponent(e);if(n)return n;for(var a=0;a<t.children.length;a++){var o=t.children[a];if(n=this.findComponentRecursive(o,e))return n}},t.cocosToWX=function(t){var e=cc.view.getFrameSize().width,n=cc.view.getFrameSize().height,a=cc.winSize.width,o=cc.winSize.height,r=t.width,i=t.height,s=t.convertToWorldSpace(cc.v2(0,i));return cc.rect(e/a*s.x,(1-s.y/o)*n,e/a*r,n/o*i)},t.cocosToDP=function(t,e,n,a,o){var r=cc.view.getFrameSize().width,i=cc.view.getFrameSize().height,s=cc.winSize.width,c=cc.winSize.height,l=t.convertToWorldSpaceAR(cc.v2(e,n));return cc.rect(r/s*l.x,(1-l.y/c)*i,r/s*a,i/c*o)},t.cocosToWXPixel=function(t){var e=cc.game.canvas.width,n=cc.game.canvas.height,a=cc.winSize.width,o=cc.winSize.height,r=t.width,i=t.height,s=t.convertToWorldSpace(cc.v2(0,i));return cc.rect(e/a*s.x,(1-s.y/o)*n,e/a*r,n/o*i)},t.cocosToPixel=function(t){var e=cc.view.getVisibleSizeInPixel().width,n=cc.view.getVisibleSizeInPixel().height,a=cc.winSize.width,o=cc.winSize.height,r=t.width,i=t.height,s=t.convertToWorldSpace(cc.Vec2.ZERO);return cc.rect(e/a*s.x,n/o*s.y,e/a*r,n/o*i)},t.createMoveCircleAction=function(t,e,n){var a=cc.delayTime(t);return a.update=function(t){var o=a.getTarget();o.x=e.x+n*Math.sin(2*Math.PI*t),o.y=e.y+n*Math.cos(2*Math.PI*t)},a},t.toGray=function(t){var e=[];this.getAllComponent(t,cc.RenderComponent,e);for(var n=0;n<e.length;n++)e[n].setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},t.getAllComponent=function(t,e,n){if(t.active){var a=t.getComponent(e);a&&n.push(a);for(var o=0;o<t.childrenCount;o++){var r=t.children[o];this.getAllComponent(r,e,n)}}},t.toNormal=function(t){var e=t.getComponent(cc.RenderComponent);e&&e.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"));var n=t.getComponentsInChildren(cc.RenderComponent);n&&n.length>0&&n.forEach(function(t){t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))})},t.toGray_simple=function(t){var e=t.getComponent(cc.RenderComponent);"2d-gray-sprite"!=e.getMaterials()[0].name&&e.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))},t.toNormal_simple=function(t){var e=t.getComponent(cc.RenderComponent);"2d-sprite"!=e.getMaterials()[0].name&&e.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},t.computeCullingMask=function(t,e){void 0===e&&(e=!1);var n=0,a=cc.game.groupList;return t.forEach(function(t){var o=a.indexOf(t);e==(-1==o)&&(n|=1<<o)}),n},t.units=["","K","M","B"],t}();n.Utils=r,cc._RF.pop()},{}],VivoManager:[function(t,e,n){"use strict";cc._RF.push(e,"97c633e0StI7YrQMuq0tjN4","VivoManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/UIManager"),c=t("./PlatformConst"),l=t("./SdkManager"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bannerAd=null,e.bannerIsHiden=!1,e.bannerRepeat=3,e.bannerCount=0,e.rewardedVideoAd=null,e}return o(e,t),e.prototype.getChannel=function(){return"vivo"},e.prototype.getChannelId=function(){return"0001068"},e.prototype.share=function(t){void 0===t&&(t=0),qg.share({success:function(){qg.showToast({message:"\u5206\u4eab\u6210\u529f"})},fail:function(t,e){qg.showToast({message:"\u5206\u4eab\u5931\u8d25\uff1a"+e+": "+t})},complete:function(){}})},e.prototype.createBannerAd=function(){var t=this;this.bannerAd=qg.createBannerAd({adUnitId:c.VivoConst.param_banner,style:{}}),this.bannerAd.onClose(function(){t.bannerCount=t.bannerRepeat})},e.prototype.bannerAdShow=function(t){var e=this;void 0===t&&(t=0),this.bannerIsHiden=!1,0==this.bannerRepeat?null==this.bannerAd&&this.createBannerAd():this.bannerRepeat>0&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd&&this.createBannerAd()),this.bannerAd.show().then(function(){e.bannerIsHiden&&e.bannerAd.hide(),console.log("banner\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t)),e.bannerCount=e.bannerRepeat})},e.prototype.bannerAdHide=function(){this.bannerIsHiden=!0,this.bannerAd&&this.bannerAd.hide()},e.prototype.interstitialAdShow=function(t){void 0===t&&(t=1);var e=qg.createInterstitialAd({posId:c.VivoConst.param_interstitial}).show();e&&e.then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(t){switch(t.code){case 30003:console.log("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149\u63d2\u5c4f\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("load\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(t))}})},e.prototype.rewardedAdShow=function(t,e,n){var a=this;void 0===t&&(t=-1),this.rewardedVideoAd?this.rewardedVideoAd.load():(this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:c.VivoConst.param_rewardedVideo}),this.rewardedVideoAd.onLoad(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210-onload\u89e6\u53d1",JSON.stringify(t)),a.rewardedVideoAd.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5b8c\u6210")}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})})),this.rewardedVideoAd.onClose(function(t){t.isEnded?e():n(!1),a.rewardedVideoAd.offClose(),a.rewardedVideoAd.offError(),cc.game.resume()}),this.rewardedVideoAd.onError(function(t){console.log("rewardad"+t.errCode+" : "+t.errMsg),n(!0),a.rewardedVideoAd.offClose(),a.rewardedVideoAd.offError(),cc.game.resume()}),cc.game.pause()},e.prototype.isSupportDesktop=function(){return!0},e.prototype.saveAppToDesktop=function(t,e){console.log("\u8fc7\u6765\u5f00\u59cb\u521b\u5efa\u56fe\u6807"),qg.hasShortcutInstalled({success:function(n){console.log("\u5f00\u59cb\u521b\u5efa"),0==n&&(console.log("\u53ef\u4ee5\u521b\u5efa"),qg.installShortcut({success:function(){t&&t()},fail:function(t){console.log(t),e&&e()}}))},fail:function(){}})},e.prototype.isSupportPrivacy=function(){return!0},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),i.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e()},n)):"BANNER"==t?s.default.Instance.VIVONativeAdBanner.active=!0:"BANNER2"==t?this.bannerAdShow():"BANNERCLOSE"==t?(s.default.Instance.VIVONativeAdBanner.active=!1,this.bannerAdHide()):"BANNERCLOSE2"==t?this.bannerAdHide():"INTER"==t&&i.default.isShowInterAd&&i.default.interTime<=0&&(i.default.interTime=30,this.interstitialAdShow())},e.prototype.login=function(t){t()},r([p],e)}(l.default));n.default=d,cc._RF.pop()},{"../UI/UIManager":"UIManager","../record/GameSys":"GameSys","./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],VivoNativeAd:[function(t,e,n){"use strict";cc._RF.push(e,"553128aj2FA77lBcpZ3vEjZ","VivoNativeAd");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../core/util/Utils"),s=t("../Tools/GameTools"),c=t("./PlatformConst"),l=t("./VivoManager"),u=cc._decorator,p=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adLogos=[],e.nativeRepeat=3,e.nativeAdPos=0,e.btn_close=null,e.nativeCount=0,e.customAdIsHiden=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this,e=s.default.getSdk();e instanceof l.default&&(this.sdk=e),this.sdk&&this.btn_close&&this.btn_close.on(cc.Node.EventType.TOUCH_END,function(){t.node.active=!1})},e.prototype.onEnable=function(){if(console.log("\u8c03\u7528vivo\u539f\u751f"),this.adLogos.forEach(function(t){t.active=!1}),this.sdk){this.nativeRepeat>0&&this.nativeCount>=this.nativeRepeat&&(this.customAd.destroy(),this.customAd=null);var t=cc.view.getVisibleSizeInPixel().height,e=i.Utils.cocosToPixel(this.node);this.customAdShow(this.nativeAdPos,e.x,t-(e.y+e.height),e.width)}},e.prototype.onDisable=function(){this.sdk&&(this.customAdIsHiden=!0,this.customAd&&this.customAd.hide())},e.prototype.onDestroy=function(){this.customAd&&this.customAd.destroy()},e.prototype.customAdShow=function(t,e,n,a){var o=this;this.customAdIsHiden=!1,this.customAd||(this.customAd=qg.createCustomAd({posId:c.VivoConst.nativeUnitIds[t],style:{left:e,top:n,width:a}}),this.customAd.onError(function(t){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),s.default.getSdk().PlatformCallBack("BANNER2")}),this.customAd.onClose(function(){o.customAd.destroy(),o.customAd=null})),this.customAd.show().then(function(){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210"),o.nativeCount++,o.customAdIsHiden&&o.customAd.hide()}).catch(function(t){console.log("\u539f\u751f\u6a21\u677f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})},r([d({type:cc.Node,displayName:"\u5e7f\u544a\u9875\u9762\u4e0a\u9644\u52a0\u5185\u5bb9",tooltip:"\u672a\u5c55\u793a\u5e7f\u544a\u524d\u9700\u8981\u9690\u85cf\u7684\u8282\u70b9"})],e.prototype,"adLogos",void 0),r([d({displayName:"\u5e7f\u544a\u5c55\u793a\u4e0a\u9650",tooltip:"\u503c\u4e3a0\u65f6\u8868\u793a\u65e0\u4e0a\u9650"})],e.prototype,"nativeRepeat",void 0),r([d({displayName:"\u5e7f\u544a\u4f4d"})],e.prototype,"nativeAdPos",void 0),r([d({type:cc.Node,displayName:"\u5173\u95ed\u6309\u94ae",tooltip:"\u5d4c\u5165\u5f0f\u539f\u751f\u53ef\u4ee5\u4e3a\u7a7a"})],e.prototype,"btn_close",void 0),r([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../Tools/GameTools":"GameTools","../core/util/Utils":"Utils","./PlatformConst":"PlatformConst","./VivoManager":"VivoManager"}],Wind:[function(t,e,n){"use strict";cc._RF.push(e,"b6bf1XiPX9Ld6PqNnjUC/KF","Wind");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=0,e.atk=0,e.master=null,e.count=0,e.target=null,e}return o(e,t),e.prototype.init=function(t,e,n,a){this.type=t,this.atk=e,this.master=n,this.count=0,this.target=a},e.prototype.start=function(){},e.prototype.Attack=function(){if(this.count++,this.target.TheStrike(this.atk,this.master.role.hit,!1,!1),0==this.type)for(var t=s.default.instance.GetMonster(),e=0;e<t.length;e++){if(t[e]!=this.target){this.target=t[e];break}e>=t.length-1&&(this.target=null,i.default.buttet.restor(this.node))}else{var n=s.default.instance.GetTeam();for(e=0;e<n.length;e++){if(n[e]!=this.target){this.target=n[e];break}e>=n.length-1&&(this.target=null,i.default.buttet.restor(this.node))}}this.count>=8&&(this.target=null,i.default.buttet.restor(this.node))},e.prototype.update=function(t){if(this.target){var e=this.node.getPosition(),n=this.target.node.getPosition(),a=e.sub(n).mag(),o=e.sub(n).signAngle(cc.v2(1,0)),r=o/Math.PI*180;this.node.angle=-r;var c=cc.v2(-Math.cos(o),Math.sin(o));c.normalizeSelf(),a>50?(this.node.x+=t*c.x*i.default.speed*1e3,this.node.y+=t*c.y*i.default.speed*1e3):s.default.instance.state==s.FightState.ready?i.default.buttet.restor(this.node):this.Attack()}},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],WxManager:[function(t,e,n){"use strict";cc._RF.push(e,"850eb49sT9JPZB0YEdx+yzQ","WxManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../core/util/Utils"),c=t("../record/GameSys"),l=t("../Tools/ServerUtil"),u=t("./PlatformConst"),p=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.debug=!1,n.shareIds=["16"],n.shareParams=[{title:"\u517b\u4ed9\u4fa3\u6253\u9b54\u517d\u7206\u88c5\u5907\uff0c\u6c34\u58a8\u4fee\u4ed9\u5927\u4e16\u754c",imageUrl:"share.png"}],n.userinfo=null,n.bannerCount=0,n.bannerRepeat=5,n.bannerAd=null,n.bannerIsHiden=!0,n.rewardedAd=null,n.last_show=0,n.isHiden=!1,n.debug=e,n}return o(e,t),e.prototype.init=function(){return r(this,void 0,void 0,function(){return i(this,function(){return this.initShare(),[2,""]})})},e.prototype.getChannel=function(){return"wx"},e.prototype.getChannelId=function(){return"0001049"},e.prototype.vibrate=function(){wx.vibrateShort({})},e.prototype.sendEvent=function(t,e){if(wx.uma)switch(t){case"sp_startLevel":wx.uma.stage.onStart({stageId:e.level,stageName:e.level});break;case"sp_finishLevel":wx.uma.stage.onEnd({stageId:e.level,stageName:e.level,event:"complete"});break;case"sp_failLevel":wx.uma.stage.onEnd({stageId:e.level,stageName:e.level,event:"fail"});break;default:if(e){var n={};for(var a in e){var o=e[a];n[a]=o.toString()}wx.uma.trackEvent(t,n)}else wx.uma.trackEvent(t)}},e.prototype.isSupportShare=function(){return!0},e.prototype.initShare=function(){for(var t=this,e=function(e){var a=n.shareIds[e];l.default.getShare(a,function(n){var a={title:n.title,imageUrl:n.img};t.shareParams[e]=a})},n=this,a=0;a<this.shareIds.length;a++)e(a);wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return t.shareParams[0]}),wx.onShareTimeline(function(){return t.shareParams[0]});var o=0;cc.game.on(cc.game.EVENT_HIDE,function(){o=Date.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){t.shareSuccess&&(0!=o&&(Date.now()-o>3e3?t.shareSuccess():t.shareFail&&t.shareFail()),t.shareSuccess=null,t.shareFail=null,o=0)})},e.prototype.share=function(t,e,n){void 0===t&&(t=0);var a={};l.default.openId&&(a={query:"sopenid="+l.default.openId+"&sid="+t}),Object.assign(a,this.shareParams[t]),wx.shareAppMessage(a),this.shareSuccess=e,this.shareFail=n},e.prototype.shareWithScreenShot=function(t,e){var n=this,a=s.Utils.cocosToWXPixel(t);cc.game.canvas.toTempFilePath({x:a.x,y:a.y,width:a.width,height:a.height,destWidth:500,destHeight:400,success:function(t){var a=e||n.shareParams[0].title;wx.shareAppMessage({title:a,imageUrl:t.tempFilePath})}})},e.prototype.onClickShare=function(t){var e=this,n=function(n){switch(n.scene){case 1007:case 1008:case 1044:var a=n.query.sopenid,o=n.query.sid;a&&(t(o,a),l.default.clickShare(e.shareIds[o],a,{success:function(t){console.log("clickShare",t)},fail:function(t){console.log("clickShare",t)}}))}},a=wx.getLaunchOptionsSync();console.log("LaunchOption.scene...",a.scene),n(a),wx.onShow(function(t){console.log("onShow",t),n(t)})},e.prototype.getShareList=function(t,e){l.default.getShareList(this.shareIds[t],{success:function(t){console.log(t),e(t)},fail:function(t){console.log(t)}})},e.prototype.login=function(t){this.init(),t()},e.prototype.authorize=function(t,e,n){var a=this;wx.getSetting({success:function(o){if(o.authSetting["scope.userInfo"])wx.getUserInfo({success:function(t){var n=t.userInfo;e({nickName:n.nickName,avatarUrl:n.avatarUrl})},fail:function(){n()}});else{var r=s.Utils.cocosToWX(t);a.userinfo=wx.createUserInfoButton({type:"image",text:"",image:"authorize.png",style:{left:r.x,top:r.y,width:r.width,height:r.height,backgroundColor:"{255,255,255,0}",borderColor:"#ffffff",borderWidth:0,borderRadius:0,textAlign:"center",fontSize:0,lineHeight:0},withCredentials:!1}),a.userinfo.show(),a.userinfo.onTap(function(t){var o=t.userInfo;o?(e({nickName:o.nickName,avatarUrl:o.avatarUrl}),a.closeUserInfo(),l.default.setUserInfo(o.nickName,o.avatarUrl,{success:function(t){console.log("setUserInfo"+t)},fail:function(t){console.log("setUserInfo error",t)}})):n()})}}})},e.prototype.closeUserInfo=function(){null!=this.userinfo&&this.userinfo.hide()},e.prototype.createBannerAd=function(t){var e=this,n=wx.getSystemInfoSync().screenWidth,a=wx.getSystemInfoSync().screenHeight,o={left:(n-300)/2,height:105,width:300,top:a-105};t&&(o.adIntervals=t),this.bannerAd=wx.createBannerAd({adUnitId:u.WXConst.param_banner,style:o}),this.bannerAd.onResize(function(t){console.log(t.width,t.height),300!=t.width&&(e.bannerAd.style.top=a-t.height,e.bannerAd.style.left=(n-t.width)/2)}),this.bannerAd.onLoad(function(){console.log("banner \u52a0\u8f7d\u6210\u529f"),e.bannerIsHiden||e.bannerShow()}),this.bannerAd.onError(function(t){console.log("banner \u51fa\u9519",t),e.bannerAd.destroy(),e.bannerAd=null})},e.prototype.bannerAdShow=function(t){void 0===t&&(t=0),this.debug||(this.bannerIsHiden=!1,0==this.bannerRepeat?null==this.bannerAd&&this.createBannerAd():this.bannerRepeat>0&&(this.bannerCount>=this.bannerRepeat&&(null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null),this.bannerCount=0),this.bannerCount++,null==this.bannerAd?this.createBannerAd():this.bannerShow()))},e.prototype.bannerAdShowAutoUpdate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=30),this.debug||(this.bannerIsHiden=!1,null==this.bannerAd?this.createBannerAd(e):this.bannerShow())},e.prototype.bannerAdHide=function(){console.log("banner \u5173\u95ed"),this.bannerIsHiden=!0,null!=this.bannerAd&&this.bannerAd.hide()},e.prototype.bannerShow=function(){var t=this;this.bannerAd.show().then(function(){console.log("banner\u663e\u793a\u6210\u529f"),t.bannerIsHiden&&t.bannerAdHide()})},e.prototype.rewardedAdShow=function(t,e,n){var a=this;if(void 0===t&&(t=-1),this.debug)n(!0);else{this.rewardedAd||(this.rewardedAd=wx.createRewardedVideoAd({adUnitId:u.WXConst.param_rewardedVideo}));var o=function(t){t.isEnded?(console.log("\u6210\u529f"),e()):(console.log("\u5931\u8d25"),n(!1)),a.rewardedAd.offClose(o)};this.rewardedAd.onClose(o),this.rewardedAd.show().then(function(){a.last_show=Date.now()}).catch(function(t){console.log("reward show error, retry...",t.errCode,t.errMsg),a.rewardedAd.load().then(function(){console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),a.rewardedAd.show().then(function(){a.last_show=Date.now()}).catch(function(t){console.log("reward show2 error",t.errCode,t.errMsg),n(!0)})}).catch(function(t){console.log("reward load error",t.errCode,t.errMsg),n(!0)})})}},e.prototype.interstitialAdShow=function(t){var e=this;if(void 0===t&&(t=1),!this.debug){var n=Date.now()-this.last_show;if(n<6e4)console.log("\u63d2\u5c4fCD",n);else{var a=wx.createInterstitialAd({adUnitId:u.WXConst.param_interstitial});a.onClose(function(){console.log("\u63d2\u5c4f\u5173\u95ed"),a.destroy()}),a.onLoad(function(){console.log("\u63d2\u5c4f\u52a0\u8f7d\u6210\u529f"),a.show(),e.last_show=Date.now()}),a.onError(function(t){console.log("\u63d2\u5c4f\u9519\u8bef",t)})}}},e.prototype.gridAdShow=function(t){var e=this;this.debug||(this.isHiden=!1,this.gridAd=wx.createGridAd({adUnitId:u.WXConst.param_grid,style:{left:t.x,top:t.y,width:t.width,opacity:.5}}),this.gridAd.onResize(function(t){console.log("res",t.width,t.height),console.log("realWidth",e.gridAd.style.realWidth,e.gridAd.style.realHeight),e.gridAd.style.left=(wx.getSystemInfoSync().screenWidth-e.gridAd.style.realWidth)/2}),this.gridAd.onLoad(function(){console.log("Grid \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.isHiden||e.gridAd.show()}),this.gridAd.onError(function(t){console.log("GridAd load error",t)}))},e.prototype.gridAdHide=function(){this.isHiden=!0,this.gridAd&&(this.gridAd.hide(),this.gridAd.destroy())},e.prototype.getMenuButtonBottom=function(){return wx.getMenuButtonBoundingClientRect().bottom/cc.view.getFrameSize().height*cc.winSize.height},e.prototype.requestSubscribeMessage=function(t,e,n){var a=u.WXConst.allTmplIds[t];wx.requestSubscribeMessage({tmplIds:[a],success:function(t){console.log("\u8ba2\u9605\u6210\u529f(\u524d\u7aef)"),Object.keys(t).forEach(function(a){"accept"==t[a]&&l.default.subscribe(a,{success:function(t){console.log("\u8ba2\u9605\u6210\u529f(\u540e\u7aef)",a),e(t)},fail:function(e){console.log("\u8ba2\u9605\u5931\u8d25(\u540e\u7aef)",t.errMsg,t.errCode),n&&n(e)}})})},fail:function(t){console.log("\u8ba2\u9605\u5931\u8d25(\u524d\u7aef)",t.errMsg,t.errCode),n&&n(t.errCode)}})},e.prototype.openCustomerServiceConversation=function(){wx.openCustomerServiceConversation({})},e.prototype.toGame=function(t,e){wx.navigateToMiniProgram({appId:t,success:function(){e&&e()}})},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),c.default.isShowVideoAd&&this.rewardedAdShow(a,function(){o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e(),c.default.setVideoCount()},n)):"BANNER"==t?c.default.isShowBannerAd&&this.bannerAdShow():"BANNERCLOSE"==t?c.default.isShowBannerAd&&this.bannerAdHide():"INTER"==t&&c.default.isShowInterAd&&c.default.interTime<=0&&(c.default.interTime=30,this.interstitialAdShow())},e}(t("./SdkManager").default);n.default=p,cc._RF.pop()},{"../Tools/ServerUtil":"ServerUtil","../core/util/Utils":"Utils","../record/GameSys":"GameSys","./PlatformConst":"PlatformConst","./SdkManager":"SdkManager"}],WxNativeAd:[function(t,e,n){"use strict";cc._RF.push(e,"e8de8s+JWVJzbf2ujSkGPAJ","WxNativeAd");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i,s=t("../core/util/Utils"),c=t("../Tools/GameTools"),l=t("./PlatformConst"),u=t("./WxManager");(function(t){t[t.CUSTOMAD_TYPE_SINGLE=0]="CUSTOMAD_TYPE_SINGLE",t[t.CUSTOMAD_TYPE_ROW=1]="CUSTOMAD_TYPE_ROW",t[t.CUSTOMAD_TYPE_COL=2]="CUSTOMAD_TYPE_COL",t[t.CUSTOMAD_TYPE_GRID=3]="CUSTOMAD_TYPE_GRID"})(i||(i={}));var p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nativeAdPos=0,e.customType=i.CUSTOMAD_TYPE_SINGLE,e.customRate=1,e.customAdIsHiden=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=c.default.getSdk();t instanceof u.default&&(this.sdk=t)},e.prototype.onEnable=function(){if(this.sdk){var t=s.Utils.cocosToWX(this.node);this.customAdShow(this.nativeAdPos,t)}},e.prototype.onDisable=function(){this.sdk&&this.customAdHide()},e.prototype.customAdShow=function(t,e,n){var a=this;this.customAd&&this.customAdHide(),this.customAdIsHiden=!1;var o=e.x,r=e.y,s=e.width;switch(this.customType){case i.CUSTOMAD_TYPE_SINGLE:break;case i.CUSTOMAD_TYPE_ROW:o=(wx.getSystemInfoSync().screenWidth-360*this.customRate)/2,r=r+e.height-106*this.customRate;break;case i.CUSTOMAD_TYPE_COL:break;case i.CUSTOMAD_TYPE_GRID:s=360,o=(wx.getSystemInfoSync().screenWidth-s*this.customRate)/2,r=(wx.getSystemInfoSync().screenHeight-480*this.customRate)/2}this.customAd=wx.createCustomAd({adUnitId:l.WXConst.param_customs[t],style:{left:o,top:r,width:s,fixed:!0}}),this.customAd.onLoad(function(){console.log("customAd \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),a.customAdIsHiden||a.customAd.show()}),this.customAd.onError(function(t){console.log("customAd load error",t)}),this.customAd.onClose(function(){n&&n()})},e.prototype.customAdHide=function(){this.customAdIsHiden=!0,this.customAd&&(this.customAd.hide(),this.customAd.destroy(),this.customAd=null)},r([f({displayName:"\u5e7f\u544a\u4f4d"})],e.prototype,"nativeAdPos",void 0),r([f({type:cc.Enum(i),displayName:"\u539f\u751f\u7c7b\u578b"})],e.prototype,"customType",void 0),r([f({displayName:"\u540e\u53f0\u7f29\u653e\u6bd4\u4f8b"})],e.prototype,"customRate",void 0),r([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Tools/GameTools":"GameTools","../core/util/Utils":"Utils","./PlatformConst":"PlatformConst","./WxManager":"WxManager"}],WyManager:[function(t,e,n){"use strict";cc._RF.push(e,"864cbzh3BJEEondgOiODQdh","WyManager");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SoundManager"),s=t("../record/GameSys"),c=t("./SdkManager"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.interstitialAdShow=function(){MiniGameAds.isInterstitialReady()?MiniGameAds.showInterstitial().then(function(){s.default.interTime=40,console.info("====> show interstitial success")}).catch(function(t){console.error("====> show interstitial error: "+t.message)}):console.info("====> interstitial not ready")},e.prototype.rewardedAdShow=function(t,e,n){MiniGameAds.isRewardvideoReady()?MiniGameAds.showRewardedVideo().then(function(){e(),console.info("====> show RewardedVideo success")}).catch(function(t){n(!0),console.error("====> show RewardedVideo error: "+t.message)}):(n(!1),console.info("====> RewardedVideo not ready"))},e.prototype.bannerAdShow=function(){var t=MiniGameAds.isBannerReady();t?(console.log("banner\u5e7f\u544a\u662f\u5426\u63a5\u5165\u6210\u529f:",t),MiniGameAds.showBanner().then(function(){console.info("====> show banner success")}).catch(function(t){console.error("====> show banner error: "+t.message)})):console.info("====> banner not ready")},e.prototype.bannerAdHide=function(){MiniGameAds.hideBanner().then(function(){console.info("====> hide banner success")}).catch(function(t){console.error("====> hide banner error: "+t.message)})},e.prototype.sendEvent=function(t,e){e?MiniGameAnalytics.onGameEvent(t,e):MiniGameAnalytics.onGameEvent(t)},e.prototype.PlatformCallBack=function(t,e,n,a){var o=this;"REWARD"==t?(this.sendEvent("videoad",{message:"\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570",pos:a}),s.default.isShowVideoAd&&(i.default.instance.pauseBGM(),this.rewardedAdShow(a,function(){i.default.instance.resumeBGM(),o.sendEvent("videoaded",{message:"\u6210\u529f\u64ad\u653e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6b21\u6570",pos:a}),e(),s.default.setVideoCount()},function(){i.default.instance.resumeBGM(),n()}))):"BANNER"==t?s.default.isShowBannerAd&&this.bannerAdShow():"BANNERCLOSE"==t?s.default.isShowBannerAd&&this.bannerAdHide():"INTER"==t&&s.default.isShowInterAd&&s.default.interTime<=0&&this.interstitialAdShow()},r([u],e)}(c.default));n.default=p,cc._RF.pop()},{"../Manager/SoundManager":"SoundManager","../record/GameSys":"GameSys","./SdkManager":"SdkManager"}],Yehuo:[function(t,e,n){"use strict";cc._RF.push(e,"0d6daHDm5FG2rrT+QdxxfZU","Yehuo");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return o(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ZorderControl:[function(t,e,n){"use strict";cc._RF.push(e,"021bbdwehBIwrzO7gklpw8f","ZorderControl");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.update=function(){this.node.zIndex=-this.node.y},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],achievementItem:[function(t,e,n){"use strict";cc._RF.push(e,"aaf86ZBAb9KELDd6w7DUqme","achievementItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/AchievementDataManager"),l=t("../Manager/DiscipleDataManager"),u=t("../Manager/GuideDataManager"),p=t("../Manager/MagicDataManager"),d=t("../Manager/SoundManager"),f=t("../record/GameSys"),h=t("../Tools/GameTools"),y=t("../UI/PanelConst"),g=t("../UI/TipGroup"),v=t("../UI/UIManager"),m=cc._decorator,b=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e.info=null,e.propgress=null,e.award=null,e.getBtn=null,e.goBtn=null,e.overBtn=null,e.index=0,e.curpannel=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r,i,u;return s(this,function(){if(this.index=t,this.curpannel=e,n=c.default.Instance.GetData(this.index)){switch(a=0,o=!1,n.type){case 1:a=f.default.getLevel(),o=a>=n.condition1;break;case 2:a=l.default.Instance.GetUnlockNum(),o=a>=n.condition1;break;case 3:a=l.default.Instance.GetLevelNum(n.condition2),o=a>=n.condition1;break;case 4:r=n.condition1,a=f.default.getPetLevel()[r-1]>0?n.condition1:n.condition1-1,o=a>=n.condition1;break;case 5:a=f.default.getDrugCount(),o=a>=n.condition1;break;case 6:a=f.default.getHerbCount(),o=a>=n.condition1;break;case 7:a=f.default.getMaxCustoms(),o=a>=n.condition1;break;case 8:a=p.default.Instance.getHaveNum(),o=a>=n.condition1;break;case 9:a=p.default.Instance.getHaveLevelNum(n.condition2),o=a>=n.condition1;break;case 11:a=f.default.getRoamCount(),o=a>=n.condition1;break;case 13:a=f.default.getReincarnCount(),o=a>=n.condition1}i=o?"#22FF03":"#DC4646",this.info.string=""+n.context,this.propgress.string=a+"/"+n.condition1,this.propgress.node.color=cc.color().fromHEX(i),u=n.award,this.award.string="\xd7"+h.default.refSetCoin(u),c.default.Instance.isMax(t)?(this.getBtn.active=!1,this.goBtn.active=!1,this.overBtn.active=!0):(this.getBtn.active=o,this.goBtn.active=!o,this.overBtn.active=!1)}else this.node.active=!1;return[2]})})},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e,n;return s(this,function(){return d.default.instance.play(d.Sound.Click),this.ShowSp(),t=c.default.Instance.GetData(this.index),e=t.award,v.default.Instance.ChangeJade(e),(n=f.default.getAward())[this.index]+=1,f.default.setAward(n),this.init(this.index,this.curpannel),this.curpannel.initMaxOver(),[2]})})},e.prototype.ClickGo=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:switch(d.default.instance.play(d.Sound.Click),this.ShowSp(),c.default.Instance.GetData(this.index).type){case 1:return[3,1];case 2:return[3,2];case 3:return[3,6];case 4:return[3,10];case 5:return[3,14];case 6:return[3,18];case 7:return[3,22];case 8:return[3,23];case 9:return[3,27];case 11:return[3,31];case 13:return[3,32]}return[3,36];case 1:return this.curpannel.ClickOff(),[3,36];case 2:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(22)?[3,3]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(22)),[3,5]);case 3:return[4,v.default.Instance.ShowUI(y.default.DisciplePanel)];case 4:t.sent(),t.label=5;case 5:return[3,36];case 6:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(22)?[3,7]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(22)),[3,9]);case 7:return[4,v.default.Instance.ShowUI(y.default.DisciplePanel)];case 8:t.sent(),t.label=9;case 9:return[3,36];case 10:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(18)?[3,11]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(18)),[3,13]);case 11:return[4,v.default.Instance.ShowUI(y.default.RoamPanel)];case 12:t.sent(),t.label=13;case 13:return[3,36];case 14:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(11)?[3,15]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(11)),[3,17]);case 15:return[4,v.default.Instance.ShowUI(y.default.ALCHEMY_PANEL)];case 16:t.sent(),t.label=17;case 17:return[3,36];case 18:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(13)?[3,19]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(13)),[3,21]);case 19:return[4,v.default.Instance.ShowUI(y.default.GardenPanel)];case 20:t.sent(),t.label=21;case 21:return[3,36];case 22:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(5)?v.default.Instance.ShowGroup(1):g.default.instance.setText(-1,u.default.Instance.CanUnlock(5)),[3,36];case 23:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(2)?[3,24]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(2)),[3,26]);case 24:return[4,v.default.Instance.ShowUI(y.default.MagicPanel)];case 25:t.sent(),t.label=26;case 26:return[3,36];case 27:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(2)?[3,28]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(2)),[3,30]);case 28:return[4,v.default.Instance.ShowUI(y.default.MagicPanel)];case 29:t.sent(),t.label=30;case 30:return[3,36];case 31:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(18)?v.default.Instance.ShowGroup(3):g.default.instance.setText(-1,u.default.Instance.CanUnlock(18)),[3,36];case 32:return this.curpannel.ClickOff(),u.default.Instance.isUnlcok(20)?[3,33]:(g.default.instance.setText(-1,u.default.Instance.CanUnlock(20)),[3,35]);case 33:return[4,v.default.Instance.ShowUI(y.default.ReincarnPanel)];case 34:t.sent(),t.label=35;case 35:return[3,36];case 36:return[2]}})})},e.prototype.ShowSp=function(){var t=this;this.sp.node.active=!0,this.sp.setAnimation(0,"fengshang",!1),this.sp.setCompleteListener(function(){t.sp.node.active=!1})},r([_(sp.Skeleton)],e.prototype,"sp",void 0),r([_(cc.Label)],e.prototype,"info",void 0),r([_(cc.Label)],e.prototype,"propgress",void 0),r([_(cc.Label)],e.prototype,"award",void 0),r([_(cc.Node)],e.prototype,"getBtn",void 0),r([_(cc.Node)],e.prototype,"goBtn",void 0),r([_(cc.Node)],e.prototype,"overBtn",void 0),r([b],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../Manager/AchievementDataManager":"AchievementDataManager","../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../UI/PanelConst":"PanelConst","../UI/TipGroup":"TipGroup","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],adapters:[function(t,e,n){"use strict";cc._RF.push(e,"8b52eGaMGZJPIRzEBalRffV","adapters");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,l=i.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minpos=0,e.maxpos=0,e}return o(e,t),e.prototype.onLoad=function(){var t=cc.winSize.width,e=cc.winSize.height;console.log("\u673a\u578b\uff1a"+t,e),this.node.getComponent(cc.Widget).top=e<=1334?this.minpos:this.maxpos},e.prototype.start=function(){},r([c({type:cc.Float,displayName:"\u77ed\u5c4f"})],e.prototype,"minpos",void 0),r([c({type:cc.Float,displayName:"\u957f\u5c4f"})],e.prototype,"maxpos",void 0),r([s,l("\u9002\u914d/adapters")],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],addColorSign:[function(t,e,n){"use strict";cc._RF.push(e,"6507byAKTlLS5nldyN/9H9P","addColorSign");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CoinOutPutDataManager"),l=t("../Manager/PropDataManager"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("../UI/PanelConst"),h=t("../UI/RewardPanel"),y=t("../UI/TipGroup"),g=t("../UI/UIBase"),v=t("../UI/UIManager"),m=cc._decorator,b=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinlable=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return t.prototype.onEnable.call(this),[4,c.default.Instance.GetOutPut()];case 1:return e=2400*n.sent(),this.coinlable.string="\xd7"+d.default.refSetCoin(e),[2]}})})},e.prototype.start=function(){},e.prototype.ClickBtn=function(){var t=this;u.default.instance.play(u.Sound.Click),d.default.getSdk().addColorSign(function(){return i(t,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:return p.default.getaddColorSign()?(y.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),[3,3]):[3,1];case 1:return t=[],e=l.default.Instance.GetCoinProp(),t.push({prop:e,have:2400}),n=l.default.Instance.GetProp(30),t.push({prop:n,have:1}),a=l.default.Instance.GetProp(44),t.push({prop:a,have:1}),[4,v.default.Instance.ShowUI(f.default.RewardPanel)];case 2:o.sent(),v.default.Instance.GetClass(f.default.RewardPanel).getComponent(h.default).initAsset(t,function(){}),p.default.setaddColorSign(),o.label=3;case 3:return[2]}})})},function(){y.default.instance.setText(-1,"\u6dfb\u52a0\u5931\u8d25")}),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},r([_(cc.Label)],e.prototype,"coinlable",void 0),r([b],e)}(g.default);n.default=S,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../UI/PanelConst":"PanelConst","../UI/RewardPanel":"RewardPanel","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],addMy:[function(t,e,n){"use strict";cc._RF.push(e,"37400K6vMpKBoiQjfZZ5tFp","addMy");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/PropDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../UI/PanelConst"),d=t("../UI/RewardPanel"),f=t("../UI/TipGroup"),h=t("../UI/UIBase"),y=t("../UI/UIManager"),g=cc._decorator,v=g.ccclass,m=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.start=function(){},e.prototype.ClickBtn=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return l.default.instance.play(l.Sound.Click),3003!=u.default.source?(f.default.instance.setText(-1,"\u6761\u4ef6\u4e0d\u6ee1\u8db3,\u8bf7\u4ece\u6211\u7684\u5c0f\u7a0b\u5e8f\u8fdb\u5165"),[2]):u.default.getAddMy()?(f.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),[2]):(t=[],e=c.default.Instance.GetCoinProp(),t.push({prop:e,have:3600}),[4,y.default.Instance.ShowUI(p.default.RewardPanel)]);case 1:return n.sent(),y.default.Instance.GetClass(p.default.RewardPanel).getComponent(d.default).initAsset(t,function(){}),u.default.setAddMy(),this.CloseThis(),[2]}})})},e.prototype.ClickOff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([v],e)}(h.default));n.default=m,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../UI/PanelConst":"PanelConst","../UI/RewardPanel":"RewardPanel","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],addToFavorites:[function(t,e,n){"use strict";cc._RF.push(e,"9ff05FQAqFO24oHUGT9zPpa","addToFavorites");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CoinOutPutDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("../UI/TipGroup"),f=t("../UI/UIBase"),h=t("../UI/UIManager"),y=cc._decorator,g=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Coin=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return t.prototype.onEnable.call(this),[4,c.default.Instance.GetOutPut()];case 1:return e=2400*n.sent(),this.Coin.string="\xd7"+p.default.refSetCoin(e),[2]}})})},e.prototype.ClickGet=function(){var t=this;l.default.instance.play(l.Sound.Click),this.CloseThis(),u.default.getisAddToDesktop()?d.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"):p.default.getSdk().addToFavorites(function(){return i(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return[4,c.default.Instance.GetOutPut()];case 1:return t=2400*e.sent(),h.default.Instance.ChangeCoin(t),u.default.setisAddToDesktop(),[2]}})})},function(){d.default.instance.setText(-1,"\u6536\u85cf\u5931\u8d25")})},e.prototype.Clickoff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([v(cc.Label)],e.prototype,"Coin",void 0),r([g],e)}(f.default);n.default=m,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],breathe:[function(t,e,n){"use strict";cc._RF.push(e,"b501b550f9NorPaCZ+3D+i7","breathe");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=cc.tween(this.node).to(.6,{scale:1.2}).to(.6,{scale:.8});cc.tween(this.node).repeatForever(t).start()},e.prototype.start=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],bullet:[function(t,e,n){"use strict";cc._RF.push(e,"f354c5ZDD1FC6bTaIgpebU/","bullet");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../UI/FightPanel"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=3,e.master=null,e.callbak=null,e.end=!0,e.open=0,e.target=null,e}return o(e,t),e.prototype.init=function(t,e,n,a,o){var r;switch(e){case 0:case 2:this.id=1;break;case 4:this.id=3;break;case 99:this.id=2}r="atkB"+this.id+"_bullet",this.Sp.setAnimation(0,r,!0),this.open=.3*t,this.callbak=null,this.master=n,this.callbak=o,this.end=!1,this.target=a},e.prototype.onLoad=function(){this.Sp=this.node.getChildByName("Sp").getComponent(sp.Skeleton)},e.prototype.start=function(){},e.prototype.update=function(t){var e=this;if(!this.end){if(s.default.instance.state==s.FightState.ready)return this.end=!0,void i.default.buttet.restor(this.node);if(!this.target.node)return this.end=!0,void i.default.buttet.restor(this.node);if(this.open>0)this.open-=t*i.default.speed;else{var n=this.node.getPosition(),a=this.target.node.getPosition(),o=n.sub(a).mag(),r=n.sub(a).signAngle(cc.v2(1,0)),c=r/Math.PI*180;this.node.angle=-c;var l=cc.v2(-Math.cos(r),Math.sin(r));if(l.normalizeSelf(),o>50)this.node.x+=t*l.x*i.default.speed*1200,this.node.y+=t*l.y*i.default.speed*1200;else{this.end=!0,s.default.instance.state==s.FightState.ready||this.callbak();var u="atkB"+this.id+"_hit";this.Sp.setAnimation(0,u,!1),this.Sp.setCompleteListener(function(){e.Sp.animation==u&&i.default.buttet.restor(e.node)})}}}},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../UI/FightPanel":"FightPanel","../record/GameSys":"GameSys"}],callerItem:[function(t,e,n){"use strict";cc._RF.push(e,"2e8815JilBARJe4UUcReLSy","callerItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CallerDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("../UI/PanelConst"),f=t("../UI/TalkOptionPanel"),h=t("../UI/TalkPanel"),y=t("../UI/UIManager"),g=cc._decorator,v=g.ccclass,m=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Name=null,e.Icon=null,e.InterviewBtn=null,e.End=null,e.callerpanel=null,e.index=0,e}return o(e,t),e.prototype.start=function(){},e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r;return s(this,function(i){switch(i.label){case 0:return this.callerpanel=e,this.index=t,n=u.default.getCallerEvent(),a=c.default.Instance.getData(n[t].id),o="Caller/"+a.guestAvatar,(r=p.default.GetRes("SpriteBundle1",o,cc.SpriteFrame))?[3,2]:[4,p.default.loadImage("SpriteBundle1",o)];case 1:r=i.sent(),i.label=2;case 2:return this.Icon.spriteFrame=r,this.Name.string=""+a.guest,n[t].state?(this.End.active=!0,this.InterviewBtn.active=!1):(this.End.active=!1,this.InterviewBtn.active=!0),[2]}})})},e.prototype.ClickInterview=function(){return i(this,void 0,void 0,function(){var t,e,n=this;return s(this,function(a){switch(a.label){case 0:return l.default.instance.play(l.Sound.Click),t=u.default.getCallerEvent(),e=c.default.Instance.getData(t[this.index].id),[4,y.default.Instance.ShowUI(d.default.TalkPanel)];case 1:return a.sent(),y.default.Instance.GetClass(d.default.TalkPanel).getComponent(h.default).initCaller(e.talkId,function(){return i(n,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,y.default.Instance.ShowUI(d.default.TalkOptionPanel)];case 1:return e.sent(),y.default.Instance.GetClass(d.default.TalkOptionPanel).getComponent(f.default).init(t[this.index].id),[2]}})})}),this.callerpanel.CloseThis(),[2]}})})},r([m(cc.Label)],e.prototype,"Name",void 0),r([m(cc.Sprite)],e.prototype,"Icon",void 0),r([m(cc.Node)],e.prototype,"InterviewBtn",void 0),r([m(cc.Node)],e.prototype,"End",void 0),r([v],e)}(cc.Component);n.default=b,cc._RF.pop()},{"../Manager/CallerDataManager":"CallerDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../UI/PanelConst":"PanelConst","../UI/TalkOptionPanel":"TalkOptionPanel","../UI/TalkPanel":"TalkPanel","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],channel:[function(t,e,n){"use strict";cc._RF.push(e,"b184bdSLDxD9p3wqCeEN4Ce","channel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=t("../Tools/GameTools"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.channel=[],e.channelID=[],e}return o(e,t),e.prototype.onLoad=function(){for(var t=!1,e=0;e<this.channel.length;e++)if(this.channel[e]==i.default.channel){t=!0;break}for(e=0;e<this.channelID.length;e++)if(this.channelID[e]==s.default.getSdk().getChannelId()){t=!0;break}this.node.active=t},e.prototype.start=function(){},r([u({displayName:"\u53ef\u4f7f\u7528\u7684\u6e20\u9053",type:cc.String})],e.prototype,"channel",void 0),r([u({displayName:"\u53ef\u4f7f\u7528\u7684\u6e20\u9053ID",type:cc.String})],e.prototype,"channelID",void 0),r([l,p("\u5c55\u793a\u6e20\u9053")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Tools/GameTools":"GameTools","../record/GameSys":"GameSys"}],elixir:[function(t,e,n){"use strict";cc._RF.push(e,"12788d/V81OqYn9X7xC6xhL","elixir");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return o(e,t),e.prototype.init=function(t,e){this.index=t,this.AlchemyPanel=e},e.prototype.onLoad=function(){},e.prototype.start=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],equipitem:[function(t,e,n){"use strict";cc._RF.push(e,"d0c4d+PsndNm4cOO+dpx32j","equipitem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/PropDataManager"),l=t("../Manager/SoundManager"),u=t("../Tools/GameTools"),p=t("./TipGroup"),d=cc._decorator,f=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.packdata=null,e.curpanel=null,e}return o(e,t),e.prototype.onLoad=function(){this.frame=this.node.getChildByName("frame").getComponent(cc.Sprite),this.icon=this.node.getChildByName("icon").getComponent(cc.Sprite),this.namelabel=this.node.getChildByName("name").getComponent(cc.Label),this.have=this.node.getChildByName("have").getComponent(cc.Label),this.onhead=this.node.getChildByName("on-head").getComponent(cc.Sprite)},e.prototype.start=function(){},e.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n,a,o,r,i,l;return s(this,function(s){switch(s.label){case 0:return this.curpanel=e,this.packdata=t,this.packdata.prop.isOn?(this.onhead.node.active=!0,n=0==this.packdata.prop.userid?"TeamHead/hero_fight_avatar":"TeamHead/hero_fight_avatar_"+this.packdata.prop.userid,(a=u.default.GetRes("SpriteBundle1",n,cc.SpriteFrame))?[3,2]:[4,u.default.loadImage("SpriteBundle1",n)]):[3,3];case 1:a=s.sent(),s.label=2;case 2:return this.onhead.spriteFrame=a,[3,4];case 3:this.onhead.node.active=!1,s.label=4;case 4:return this.namelabel.string=""+this.packdata.prop.name,this.namelabel.node.color=cc.color().fromHEX(c.default.Instance.GetLevelColor(this.packdata.prop.rank)),this.have.string=1==this.packdata.prop.capacity?"":"\xd7"+this.packdata.have,o="PropFrame/frameLevel_"+this.packdata.prop.rank,(r=u.default.GetRes("Bundle",o,cc.SpriteFrame))?[3,6]:[4,u.default.loadImage("Bundle",o)];case 5:r=s.sent(),s.label=6;case 6:return this.frame.spriteFrame=r,i="PropIcon/"+this.packdata.prop.icon,(l=u.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,8]:[4,u.default.loadImage("Bundle",i)];case 7:l=s.sent(),s.label=8;case 8:return this.icon.spriteFrame=l,[2]}})})},e.prototype.ShowType=function(t){switch(t){case 0:this.node.active=!0;break;case 1:this.node.active=2==this.packdata.prop.type;break;case 2:this.node.active=1==this.packdata.prop.type;break;case 3:this.node.active=0==this.packdata.prop.type}},e.prototype.Clickitem=function(){l.default.instance.play(l.Sound.Click),"frameLevel_7"==this.packdata.prop.frame?p.default.instance.setText(-1,"\u5df2\u8fbe\u5230\u6700\u5927\u54c1\u7ea7"):this.curpanel.ExtractProp(this.packdata)},r([f],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","./TipGroup":"TipGroup"}],expeditionItem:[function(t,e,n){"use strict";cc._RF.push(e,"448fb21Jr9GXJHXEsaelQ0G","expeditionItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Manager/SceneDataManager"),s=t("../record/GameSys"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OnNode=null,e.OffNode=null,e.Name=null,e.Progress=null,e.End=null,e.Arrows=null,e}return o(e,t),e.prototype.init=function(t){var e=s.default.getCustoms(),n=i.default.Instance.GetRole(e);this.OnNode.active=n.missonName==t[0].missonName,this.Arrows.active=n.missonName==t[0].missonName,this.OffNode.active=n.missonName!=t[0].missonName,this.Name.string=t[0].missonName,n.missonName==t[0].missonName&&n.rankId,n.missonName==t[0].missonName?this.Progress.string=n.rankId+"/"+t.length:t[0].id>e?this.Progress.string="0/"+t.length:t[0].id<e&&(this.Progress.string=t.length+"/"+t.length),this.End.active=n.id>t[t.length-1].id},e.prototype.start=function(){},r([u(cc.Node)],e.prototype,"OnNode",void 0),r([u(cc.Node)],e.prototype,"OffNode",void 0),r([u(cc.Label)],e.prototype,"Name",void 0),r([u(cc.Label)],e.prototype,"Progress",void 0),r([u(cc.Node)],e.prototype,"End",void 0),r([u(cc.Node)],e.prototype,"Arrows",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Manager/SceneDataManager":"SceneDataManager","../record/GameSys":"GameSys"}],fightTxt:[function(t,e,n){"use strict";cc._RF.push(e,"fdb3942TGpNmIIT4v2EwdFO","fightTxt");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtlabel=null,e.banner=null,e.die=null,e.suo=null,e.Sp=null,e}return o(e,t),e.prototype.setText=function(t,e,n){var a=this;switch(this.Sp.node.active=!1,this.suo.active=!1,t){case 0:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#DC3232");break;case 1:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#FFFFFF");break;case 2:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#77EC4F");break;case 3:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#BF69F6");break;case 4:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#FFE671");break;case 5:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#00fbff");break;case 6:this.banner.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"eff_skill_di",!1),this.txtlabel.node.color=cc.color().fromHEX("#FFFFFF");break;case 7:this.banner.active=!1,this.Sp.node.active=!0,this.Sp.setAnimation(0,"eff_Sskill_di",!1),this.txtlabel.node.color=cc.color().fromHEX("#FFFFFF");break;case 9:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#DE57D6");break;case 10:this.banner.active=!1,this.txtlabel.node.color=cc.color().fromHEX("#DC3232")}8==t||99==t?(this.txtlabel.node.active=!1,this.banner.active=!1,this.die.active=8==t,this.suo.active=8!=t,this.node.setPosition(n.getPosition().x,n.getPosition().y),this.node.opacity=0,8==t?cc.tween(this.node).to(0,{scale:1.5}).to(.3,{scale:1,opacity:255}).delay(.5).to(.3,{opacity:0}).call(function(){i.default.fightTxt.restor(a.node)}).start():cc.tween(this.node).to(.3,{scale:1,opacity:255}).delay(1.5).to(.3,{opacity:0}).call(function(){i.default.fightTxt.restor(a.node)}).start()):(this.die.active=!1,this.txtlabel.node.active=!0,this.node.setPosition(n.getPosition().x,n.getPosition().y+30),this.txtlabel.string=""+e,this.node.opacity=255,this.node.scale=1,0==t?(cc.tween(this.node).to(0,{scale:0}).to(.3,{scale:1.5},{easing:"backOut"}).start(),cc.tween(this.node).by(1,{y:100}).call(function(){i.default.fightTxt.restor(a.node)}).start()):6==t?(this.node.setPosition(n.getPosition().x,n.getPosition().y+50),cc.tween(this.node).to(0,{scale:.1}).to(.06,{scale:1.2}).to(.08,{scale:1.1}).start(),cc.tween(this.node).delay(.66).by(.8,{y:100}).call(function(){i.default.fightTxt.restor(a.node)}).start()):7==t?(this.node.setPosition(n.getPosition().x,n.getPosition().y+50),cc.tween(this.node).to(0,{scale:.1}).to(.06,{scale:1.3}).to(.08,{scale:1.1}).start(),cc.tween(this.node).delay(.66).by(.8,{y:100}).call(function(){i.default.fightTxt.restor(a.node)}).start()):(cc.tween(this.node).by(1,{y:100}).call(function(){i.default.fightTxt.restor(a.node)}).start(),cc.tween(this.node).delay(.7).to(.3,{opacity:0}).start()))},e.prototype.start=function(){},r([l(cc.Label)],e.prototype,"txtlabel",void 0),r([l(cc.Node)],e.prototype,"banner",void 0),r([l(cc.Node)],e.prototype,"die",void 0),r([l(cc.Node)],e.prototype,"suo",void 0),r([l(sp.Skeleton)],e.prototype,"Sp",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../record/GameSys":"GameSys"}],flicker:[function(t,e,n){"use strict";cc._RF.push(e,"2be7eIlXPNBnIxlyqezbJRn","flicker");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=cc.tween(this.node).to(.6,{opacity:0}).to(.6,{opacity:255});cc.tween(this.node).repeatForever(t).start()},e.prototype.start=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],gardenItem:[function(t,e,n){"use strict";cc._RF.push(e,"3cf0b0MQoBAbrHzYQoUWQB5","gardenItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/HerbDataManager"),u=t("../Manager/MagicDataManager"),p=t("../Manager/PropDataManager"),d=t("../Manager/SoundManager"),f=t("../record/GameSys"),h=t("../Tools/EventConst"),y=t("../Tools/GameTools"),g=t("../UI/PanelConst"),v=t("../UI/RewardPanel"),m=t("../UI/TipGroup"),b=t("../UI/UIManager"),_=cc._decorator,S=_.ccclass,C=_.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PlantSp=null,e.UnlockSp=null,e.BannerSp=null,e.Frame=null,e.FrameArray=[],e.Icon=null,e.GetBtn=null,e.Lock=null,e.Garden=null,e.State=null,e.Time=null,e.Red=null,e.index=0,e.herbid=0,e}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(h.EventConst.GardenPanlt,this.ClickPlant,this),cc.systemEvent.on(h.EventConst.GardenGet,this.ClickGet,this),this.init()},e.prototype.setData=function(t){this.index=t,this.herbid=Math.floor(t/2)+1,this.init()},e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i;return s(this,function(s){switch(s.label){case 0:return(t=Math.floor(this.index/4))>0&&(e=3*t+1*(t-1),n=f.default.getGarden()[e].unlock,this.node.parent.active=n),(a=f.default.getGarden()[this.index]).unlock?[3,1]:(this.Lock.active=!0,this.Garden.active=!1,this.BannerSp.node.active=!1,[3,4]);case 1:return o=p.default.Instance.GetHerbProp(this.herbid),l.default.Instance.getHerbfromId(this.herbid),r="PropIcon/"+o.icon,(i=y.default.GetRes("Bundle",r,cc.SpriteFrame))?[3,3]:[4,y.default.loadImage("Bundle",r)];case 2:i=s.sent(),s.label=3;case 3:switch(this.Icon.spriteFrame=i,this.Icon.node.active=!0,this.Lock.active=!1,this.Garden.active=!0,a.state){case 0:this.State.string=""+c.i18nMgr.getLabel("title360"),this.State.node.parent.active=!0,this.Red.active=!1,this.Time.node.parent.active=!1,this.GetBtn.active=!1,this.Frame.spriteFrame=this.FrameArray[0];break;case 1:this.BannerSp.node.active=!1,this.State.node.parent.active=!1,this.Red.active=!1,this.Time.node.parent.active=!0,this.GetBtn.active=!1,this.Frame.spriteFrame=this.FrameArray[0];break;case 2:this.BannerSp.node.active=!0,this.BannerSp.setAnimation(0,"idle",!0),this.State.node.parent.active=!1,this.Frame.spriteFrame=this.FrameArray[1],this.Red.active=!0,this.Time.node.parent.active=!1,this.GetBtn.active=!0}s.label=4;case 4:return cc.systemEvent.emit(h.EventConst.RefGarden),[2]}})})},e.prototype.ClickUnlock=function(){var t=this;d.default.instance.play(d.Sound.Click);var e=f.default.getGarden();e[this.index-1].unlock?y.default.getSdk().PlatformCallBack("REWARD",function(){e[t.index].unlock=!0,f.default.setGarden(e),t.UnlockSp.setAnimation(0,"unlock",!1),t.init(),cc.systemEvent.emit(h.EventConst.RefGardenItem)},function(){m.default.instance.setText(-1,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u4ee5\u83b7\u5f97\u5956\u52b1")},-17):m.default.instance.setText(-1,"\u8bf7\u5148\u89e3\u9501\u4e0a\u4e00\u7ea7")},e.prototype.ClickPlant=function(){var t=f.default.getGarden()[this.index];if(t.unlock&&0==t.state){this.PlantSp.setAnimation(0,"hc",!1);var e=Math.floor(2*Math.random()+3)+u.default.Instance.getGardenNumAdd(),n=360/u.default.Instance.getAddGardenSpeed(),a=f.default.getGarden();a[this.index].herb=this.herbid,a[this.index].num=e,a[this.index].time=n,a[this.index].state=1,f.default.setGarden(a),this.init()}},e.prototype.ClickGet=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(r){switch(r.label){case 0:return(t=f.default.getGarden()[this.index]).unlock&&2==t.state?(e=f.default.getGarden(),[4,b.default.Instance.ShowUI(g.default.RewardPanel)]):[2];case 1:return r.sent(),n=[],a=p.default.Instance.GetHerbProp(this.herbid),o=e[this.index].num,n.push({prop:a,have:o}),b.default.Instance.GetClass(g.default.RewardPanel).getComponent(v.default).initAsset(n),e[this.index].state=0,e[this.index].herb=0,e[this.index].num=0,e[this.index].time=0,f.default.setGarden(e),this.playGet(),[2]}})})},e.prototype.playGet=function(){this.init();var t=this.BannerSp.setAnimation(0,"touch",!1);this.BannerSp.setTrackCompleteListener(t,function(){})},e.prototype.start=function(){},e.prototype.update=function(){if(this.Time.node.parent.active){var t=f.default.getGarden()[this.index];this.Time.string=y.default.sec_to_timefunction(t.time)+"",t.time<=0&&this.init()}},r([C(sp.Skeleton)],e.prototype,"PlantSp",void 0),r([C(sp.Skeleton)],e.prototype,"UnlockSp",void 0),r([C(sp.Skeleton)],e.prototype,"BannerSp",void 0),r([C(cc.Sprite)],e.prototype,"Frame",void 0),r([C(cc.SpriteFrame)],e.prototype,"FrameArray",void 0),r([C(cc.Sprite)],e.prototype,"Icon",void 0),r([C(cc.Node)],e.prototype,"GetBtn",void 0),r([C(cc.Node)],e.prototype,"Lock",void 0),r([C(cc.Node)],e.prototype,"Garden",void 0),r([C(cc.Label)],e.prototype,"State",void 0),r([C(cc.Label)],e.prototype,"Time",void 0),r([C(cc.Node)],e.prototype,"Red",void 0),r([S],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../Manager/HerbDataManager":"HerbDataManager","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/PanelConst":"PanelConst","../UI/RewardPanel":"RewardPanel","../UI/TipGroup":"TipGroup","../UI/UIManager":"UIManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],getCoinAni:[function(t,e,n){"use strict";cc._RF.push(e,"23201GMoxVAvJj/MTdQdOt2","getCoinAni");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Tools/EventConst"),s=t("../UI/UIManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startpos=[],e}return o(e,t),e.prototype.onEnable=function(){},e.prototype.onLoad=function(){cc.systemEvent.on(i.EventConst.ShowCoinToUp,this.init,this)},e.prototype.init=function(){var t=this,e=s.default.Instance.CurrencyGroup.getChildByName("Coin").getChildByName("icon");if(this.startpos.length<=0)for(var n=0;n<this.node.children.length;n++)this.startpos.push(this.node.children[n].getPosition());for(n=0;n<this.node.children.length;n++){var a=Math.floor(100*Math.random())-50,o=this.startpos[n].x+a,r=Math.floor(100*Math.random())-50,i=this.startpos[n].y+r;this.node.children[n].setPosition(cc.v2(o,i))}var c=e.getPosition(),l=e.parent.convertToWorldSpaceAR(c),u=this.node.parent.convertToNodeSpaceAR(l),p=function(e){d.node.children[e].active=!0,cc.tween(d.node.children[e]).to(1.5,{x:u.x,y:u.y},{easing:"circOut"}).call(function(){t.node.children[e].active=!1}).start()},d=this;for(n=0;n<this.node.children.length;n++)p(n)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Tools/EventConst":"EventConst","../UI/UIManager":"UIManager"}],guideSp:[function(t,e,n){"use strict";cc._RF.push(e,"8b5a37hgaVF3q47ZrhA01D6","guideSp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){var t=this;this.node.stopAllActions(),cc.tween(this.node).delay(2).call(function(){t.node.active=!1}).start()},e.prototype.start=function(){},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],i18nLabel:[function(t,e,n){"use strict";cc._RF.push(e,"41ebaVoPpRA4Kp67XEdHfZn","i18nLabel");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.i18nLabel=void 0;var i=t("./i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.executeInEditMode,p=s.disallowMultiple,d=s.requireComponent,f=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e.i18n_params=[],e}return o(e,t),e.prototype.start=function(){i.i18nMgr._addOrDelLabel(this,!0),this._resetValue()},Object.defineProperty(e.prototype,"string",{get:function(){return this.i18n_string},set:function(t){this.i18n_string=t,this.setEndValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.i18n_params},set:function(t){this.i18n_params=t,this.setEndValue()},enumerable:!1,configurable:!0}),e.prototype.init=function(t,e){this.i18n_string=t,this.i18n_params=e,this.setEndValue()},e.prototype.setEndValue=function(){var t=this.getComponent(cc.Label);cc.isValid(t)&&(t.string=i.i18nMgr._getLabel(this.i18n_string,this.i18n_params))},e.prototype._resetValue=function(){this.string=this.i18n_string},e.prototype.onDestroy=function(){i.i18nMgr._addOrDelLabel(this,!1)},r([l({visible:!1})],e.prototype,"i18n_string",void 0),r([l({visible:!1})],e.prototype,"i18n_params",void 0),r([l({type:cc.String})],e.prototype,"string",null),r([l({type:[cc.String]})],e.prototype,"params",null),r([c,u,d(cc.Label),p,f("\u591a\u8bed\u8a00/i18nLabel")],e)}(cc.Component);n.i18nLabel=h,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],i18nMgr:[function(t,e,n){"use strict";cc._RF.push(e,"1e36aJmHntDxqZis49hy52h","i18nMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.i18nMgr=void 0;var a=function(){function t(){}return t.checkInit=function(){this.language||this.setLanguage("en")},t.setLanguage=function(t){this.language!==t&&(this.language=t,this.reloadLabel(),this.reloadSprite(),console.log("language",t))},t._addOrDelLabel=function(t,e){if(e)this.labelArr.push(t);else{var n=this.labelArr.indexOf(t);-1!==n&&this.labelArr.splice(n,1)}},t.getLabel=function(t,e){if(this.checkInit(),!e||0===e.length)return this.labelData[t]||t;for(var n=this.labelData[t]||t,a=0;a<e.length;a++){var o=new RegExp("#"+a,"g");n=n.replace(o,e[a])}return n},t._getLabel=function(t,e){if(this.checkInit(),0===e.length)return this.labelData[t]||t;for(var n=this.labelData[t]||t,a=0;a<e.length;a++){var o=new RegExp("#"+a,"g");n=n.replace(o,e[a])}return n},t._addOrDelSprite=function(t,e){if(e)this.spriteArr.push(t);else{var n=this.spriteArr.indexOf(t);-1!==n&&this.spriteArr.splice(n,1)}},t._getSprite=function(t,e){this.checkInit(),cc.resources.load("i18n/sprite/"+this.language+"/"+t,cc.SpriteFrame,function(t,n){if(t)return e(null);e(n)})},t._addOrDelSpine=function(t,e){if(e)this.spineArr.push(t);else{var n=this.spineArr.indexOf(t);-1!==n&&this.spineArr.splice(n,1)}},t._getSpine=function(t,e){this.checkInit(),cc.resources.load("i18n/spine/"+this.language+"/"+t,sp.SkeletonData,function(t,n){if(t)return console.log("err:",t),e(null);e(n)})},t.reloadLabel=function(){var t=this,e="i18n/label/"+this.language;cc.resources.load(e,function(e,n){e?(console.error(e),t.labelData={}):t.labelData=n.json;for(var a=0,o=t.labelArr;a<o.length;a++)o[a]._resetValue()})},t.reloadSprite=function(){for(var t=0,e=this.spriteArr;t<e.length;t++)e[t]._resetValue()},t.language="",t.labelArr=[],t.labelData={},t.spriteArr=[],t.spineArr=[],t}();n.i18nMgr=a,cc._RF.pop()},{}],i18nSpine:[function(t,e,n){"use strict";cc._RF.push(e,"03cf8g8WlFEUI9br2UlBufc","i18nSpine");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.i18nSpine=void 0;var i=t("./i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.executeInEditMode,p=s.disallowMultiple,d=s.requireComponent,f=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e.Animation="",e}return o(e,t),e.prototype.start=function(){i.i18nMgr._addOrDelSpine(this,!0),this._resetValue()},Object.defineProperty(e.prototype,"string",{get:function(){return this.i18n_string},set:function(t){var e=this;this.i18n_string=t;var n=this.getComponent(sp.Skeleton);cc.isValid(n)&&i.i18nMgr._getSpine(t,function(t){cc.isValid(n)&&(n.skeletonData=t,n.setAnimation(0,e.Animation,!1))})},enumerable:!1,configurable:!0}),e.prototype._resetValue=function(){this.string=this.i18n_string},e.prototype.onDestroy=function(){i.i18nMgr._addOrDelSpine(this,!1)},r([l({visible:!1})],e.prototype,"i18n_string",void 0),r([l({displayName:"\u9ed8\u8ba4\u52a8\u753b"})],e.prototype,"Animation",void 0),r([l({type:cc.String})],e.prototype,"string",null),r([c,u,d(sp.Skeleton),p,f("\u591a\u8bed\u8a00/i18nSpine")],e)}(cc.Component);n.i18nSpine=h,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],i18nSprite:[function(t,e,n){"use strict";cc._RF.push(e,"0ffbcbl89xEj5yYYH4SQgf+","i18nSprite");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.i18nSprite=void 0;var i=t("./i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.executeInEditMode,p=s.disallowMultiple,d=s.requireComponent,f=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e}return o(e,t),e.prototype.start=function(){i.i18nMgr._addOrDelSprite(this,!0),this._resetValue()},Object.defineProperty(e.prototype,"string",{get:function(){return this.i18n_string},set:function(t){this.i18n_string=t;var e=this.getComponent(cc.Sprite);cc.isValid(e)&&i.i18nMgr._getSprite(t,function(t){cc.isValid(e)&&(e.spriteFrame=t)})},enumerable:!1,configurable:!0}),e.prototype._resetValue=function(){this.string=this.i18n_string},e.prototype.onDestroy=function(){i.i18nMgr._addOrDelSprite(this,!1)},r([l({visible:!1})],e.prototype,"i18n_string",void 0),r([l({type:cc.String})],e.prototype,"string",null),r([c,u,d(cc.Sprite),p,f("\u591a\u8bed\u8a00/i18nSprite")],e)}(cc.Component);n.i18nSprite=h,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],labelAni:[function(t,e,n){"use strict";cc._RF.push(e,"17264HbOhlDApV5P7QOzkSB","labelAni");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../i18n/i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txt=null,e.str=["title114","title115","title116","title117","title118"],e}return o(e,t),e.prototype.onLoad=function(){var t=this,e=0,n=cc.tween(this.node).call(function(){t.txt.string=i.i18nMgr.getLabel(t.str[e]),++e>=t.str.length&&(e=0)}).delay(1.5);cc.tween(this.node).repeatForever(n).start()},e.prototype.start=function(){},e.prototype.update=function(){},r([l(cc.Label)],e.prototype,"txt",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../i18n/i18nMgr":"i18nMgr"}],magicItem:[function(t,e,n){"use strict";cc._RF.push(e,"54312qOaAJCzITZ/pjkL/FO","magicItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../GameGroup/PracticeGroup"),l=t("../i18n/i18nMgr"),u=t("../Manager/MagicDataManager"),p=t("../Manager/PropDataManager"),d=t("../Manager/SoundManager"),f=t("../record/GameSys"),h=t("../Tools/EventConst"),y=t("../Tools/GameTools"),g=t("../UI/MagicUpPanel"),v=t("../UI/PanelConst"),m=t("../UI/TalkPanel"),b=(t("../UI/TipGroup"),t("../UI/UIManager")),_=cc._decorator,S=_.ccclass,C=_.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UpRed=null,e.UnlockRed=null,e.Progress=null,e.Lock=null,e.LevelLabel=null,e.InfoSprite=null,e.InfoFrame=[],e.Name=null,e.RealmLabel=null,e.InfoLabel=null,e.HaveLabel=null,e.IconSprite=null,e.DebrisSprite=null,e.UpBtn=null,e.UnlockBtn=null,e.index=0,e.type=0,e.realm=["","title329","title329","title330","title330","title331","title331"],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e){this.index=t,this.type=e,this.initThis()},e.prototype.initThis=function(){return i(this,void 0,void 0,function(){var t,e,n,a,o,r,i,c,d,h,g,v,m,b=this;return s(this,function(s){switch(s.label){case 0:switch(t=f.default.getMagic()[this.index],e=u.default.Instance.getMagicidToName(t.name),n=p.default.Instance.getMagicProp(e),a=p.default.Instance.getMagicDebrisProp(e),o=u.default.Instance.getMagicToName(t.name,t.level),this.RealmLabel.string=""+l.i18nMgr.getLabel(this.realm[n.rank]),l.i18nMgr._getSprite(o.tipCode,function(t){b.InfoSprite.spriteFrame=t}),o.tip){case"\u5168\u5458\u653b\u51fb":this.InfoLabel.string=";"+o.atkAdd;break;case"\u5168\u5458\u751f\u547d":this.InfoLabel.string=";"+o.HpAdd;break;case"\u7075\u6c14\u4ea7\u51fa":this.InfoLabel.string=";"+o.outputAdd;break;case"\u70bc\u4e39\u6570\u91cf":this.InfoLabel.string=":"+o.danNumber;break;case"\u70bc\u4e39\u901f\u5ea6":this.InfoLabel.string=";"+o.danSpeed;break;case"\u6389\u5b9d\u7387":this.InfoLabel.string=":"+100*o.probability+"<";break;case"\u4e91\u6e38\u5956\u52b1":this.InfoLabel.string=";"+o.yunyouAdd;break;case"\u4ed9\u8349\u79cd\u690d\u901f\u5ea6":this.InfoLabel.string=";"+o.plantSpeed;break;case"\u5168\u4f53\u52a0\u8840":case"\u9ad8\u7ea7\u62a4\u76fe":case"\u5355\u4f53\u653b\u51fb":case"\u8303\u56f4\u7206\u70b8":case"\u66b4\u51fb\u63d0\u5347":case"\u6301\u7eed\u56de\u8840":case"\u964d\u4f4e\u4f24\u5bb3":case"\u5168\u4f53\u7729\u6655":case"\u5168\u4f53\u653b\u51fb":this.InfoLabel.string=";"+o.skill}return r=p.default.Instance.GetPropNum(a.id).have,this.HaveLabel.string=t.level<5?"("+r+"/"+o.upgradeNeed+")":l.i18nMgr.getLabel("title129"),this.Progress.fillRange=t.level<5?r/o.upgradeNeed:1,i="PropIcon/"+n.icon,(c=y.default.GetRes("Bundle",i,cc.SpriteFrame))?[3,2]:[4,y.default.loadImage("Bundle",i)];case 1:c=s.sent(),s.label=2;case 2:return this.IconSprite.spriteFrame=c,d="PropIcon/"+a.icon,(h=y.default.GetRes("Bundle",d,cc.SpriteFrame))?[3,4]:[4,y.default.loadImage("Bundle",d)];case 3:h=s.sent(),s.label=4;case 4:switch(this.DebrisSprite.spriteFrame=h,0==t.level?(r<o.upgradeNeed?(this.Lock.active=!0,this.UnlockBtn.active=!1,this.HaveLabel.node.color=cc.color().fromHEX("#DC3232"),this.UnlockRed.active=!1):(this.Lock.active=!1,this.UnlockBtn.active=!0,this.node.setSiblingIndex(0),this.HaveLabel.node.color=cc.color().fromHEX("#22FF03"),this.UnlockRed.active=!0),this.UpBtn.active=!1,this.LevelLabel.node.active=!1,this.Name.string=""+l.i18nMgr.getLabel(o.code)):(this.Lock.active=!1,this.UnlockBtn.active=!1,this.UpBtn.active=!0,this.LevelLabel.node.active=!0,this.LevelLabel.string="lv"+t.level,this.Name.string=""+l.i18nMgr.getLabel(o.code),r<o.upgradeNeed?(this.HaveLabel.node.color=cc.color().fromHEX("#DC3232"),this.UpRed.active=!1):(this.HaveLabel.node.color=cc.color().fromHEX("#22FF03"),this.UpRed.active=!0)),g="",this.type){case 0:g="\u5168\u90e8";break;case 1:g="\u6218\u6597\u7c7b";break;case 2:g="\u7075\u4fee\u7c7b";break;case 3:g="\u7279\u6b8a\u7c7b";break;case 4:g="\u6280\u80fd\u7c7b"}if(this.node.active=o.classify==g||"\u5168\u90e8"==g,this.node.active)for(v=this.node.getComponentsInChildren(cc.RenderComponent),m=0;m<v.length;m++)v[m].enabled=!0;return[2]}})})},e.prototype.ClickUnlock=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return d.default.instance.play(d.Sound.Click),2==c.default.instance.teacherid&&cc.systemEvent.emit(h.EventConst.HideTeacher),[4,b.default.Instance.ShowUI(v.default.MagicUpPanel)];case 1:return t.sent(),b.default.Instance.GetClass(v.default.MagicUpPanel).getComponent(g.default).init(this.index,this),[2];case 2:return p.default.Instance.subPackProp((void 0).id,(void 0).upgradeNeed),(void 0)[this.index].level++,f.default.setMagic(void 0),this.initThis(),2!=c.default.instance.teacherid?[3,4]:(cc.systemEvent.emit(h.EventConst.HideTeacher),[4,b.default.Instance.ShowUI(v.default.TalkPanel)]);case 3:t.sent(),b.default.Instance.GetClass(v.default.TalkPanel).getComponent(m.default).init(20,function(){}),c.default.instance.initNextNeed(),t.label=4;case 4:return[2]}})})},e.prototype.ClickUp=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return d.default.instance.play(d.Sound.Click),[4,b.default.Instance.ShowUI(v.default.MagicUpPanel)];case 1:return t.sent(),b.default.Instance.GetClass(v.default.MagicUpPanel).getComponent(g.default).init(this.index,this),[2]}})})},e.prototype.start=function(){},r([C(cc.Node)],e.prototype,"UpRed",void 0),r([C(cc.Node)],e.prototype,"UnlockRed",void 0),r([C(cc.Sprite)],e.prototype,"Progress",void 0),r([C(cc.Node)],e.prototype,"Lock",void 0),r([C(cc.Label)],e.prototype,"LevelLabel",void 0),r([C(cc.Sprite)],e.prototype,"InfoSprite",void 0),r([C(cc.SpriteFrame)],e.prototype,"InfoFrame",void 0),r([C(cc.Label)],e.prototype,"Name",void 0),r([C(cc.Label)],e.prototype,"RealmLabel",void 0),r([C(cc.Label)],e.prototype,"InfoLabel",void 0),r([C(cc.Label)],e.prototype,"HaveLabel",void 0),r([C(cc.Sprite)],e.prototype,"IconSprite",void 0),r([C(cc.Sprite)],e.prototype,"DebrisSprite",void 0),r([C(cc.Node)],e.prototype,"UpBtn",void 0),r([C(cc.Node)],e.prototype,"UnlockBtn",void 0),r([S],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../GameGroup/PracticeGroup":"PracticeGroup","../Manager/MagicDataManager":"MagicDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/EventConst":"EventConst","../Tools/GameTools":"GameTools","../UI/MagicUpPanel":"MagicUpPanel","../UI/PanelConst":"PanelConst","../UI/TalkPanel":"TalkPanel","../UI/TipGroup":"TipGroup","../UI/UIManager":"UIManager","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys"}],player:[function(t,e,n){"use strict";cc._RF.push(e,"e44b1fSOyZKbpnATg8EpBiV","player");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/CoinOutPutDataManager"),u=t("../Manager/DiscipleDataManager"),p=t("../Manager/GuideDataManager"),d=t("../Manager/HeroDataManager"),f=t("../Manager/PetDataManager"),h=t("../Manager/StoryDataManager"),y=t("../record/GameSys"),g=t("../Tools/GameTools"),v=t("../UI/FightPanel"),m=t("./Teamer"),b=cc._decorator,_=b.ccclass,S=b.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.identity="",e.progress=null,e.realm=null,e.nameLabel=null,e.icon=null,e.Teamer=null,e}return o(e,t),e.prototype.init=function(){return i(this,void 0,void 0,function(){var t,e,n,a;return s(this,function(o){switch(o.label){case 0:switch(this.identity){case"\u4e3b\u89d2":return[3,1];case"\u7075\u5ba0":return[3,2];case"\u9053\u53cb1":return[3,5];case"\u9053\u53cb2":return[3,6];case"\u9053\u53cb3":return[3,7];case"\u9053\u53cb4":return[3,8];case"\u6cd5\u5668":return[3,9]}return[3,14];case 1:return this.realm.string=d.default.Instance.GetBasicRole().realm,this.realm.node.color=cc.color().fromHEX(l.default.Instance.GetRealmColor(y.default.getLevel())),this.Teamer=v.default.instance.TeamContent.children[0].getComponent(m.default),[3,15];case 2:return t="Head/pet_avatar_"+(y.default.getPetIndex()+1),(e=g.default.GetRes("SpriteBundle1",t,cc.SpriteFrame))?[3,4]:[4,g.default.loadImage("SpriteBundle1",t)];case 3:e=o.sent(),o.label=4;case 4:return this.icon.spriteFrame=e,this.realm.string="Lv."+y.default.getPetLevel()[y.default.getPetIndex()],this.nameLabel.string=""+f.default.Instance.GetName(y.default.getPetIndex()),this.Teamer=v.default.instance.TeamContent.children[1].getComponent(m.default),p.default.Instance.isUnlcok(12)?(this.node.getChildByName("head").color=cc.color().fromHEX("#FFFFFF"),this.nameLabel.node.parent.active=!0,this.progress.node.parent.active=!1):(this.node.getChildByName("head").color=cc.color().fromHEX("#000000"),this.realm.string=c.i18nMgr.getLabel("unlock"),this.nameLabel.node.parent.active=!1,this.progress.node.parent.active=!1),[3,15];case 5:return this.realm.string=u.default.Instance.GetBasicRole(0).realm,this.realm.node.color=cc.color().fromHEX(l.default.Instance.GetRealmColor(y.default.getDisciple()[0].level)),this.Teamer=v.default.instance.TeamContent.children[2].getComponent(m.default),y.default.getDisciple()[0].unlock?(this.node.getChildByName("head").color=cc.color().fromHEX("#FFFFFF"),this.nameLabel.node.parent.active=!0,this.progress.node.parent.active=!1):(this.node.getChildByName("head").color=cc.color().fromHEX("#000000"),this.realm.string=u.default.Instance.IsCanUnlock(0)?c.i18nMgr.getLabel("title144"):h.default.Instance.GetStory(1).unlockInfo,this.nameLabel.node.parent.active=!1,this.progress.node.parent.active=!1),[3,15];case 6:return this.realm.string=u.default.Instance.GetBasicRole(1).realm,this.realm.node.color=cc.color().fromHEX(l.default.Instance.GetRealmColor(y.default.getDisciple()[1].level)),this.Teamer=v.default.instance.TeamContent.children[3].getComponent(m.default),y.default.getDisciple()[1].unlock?(this.node.getChildByName("head").color=cc.color().fromHEX("#FFFFFF"),this.nameLabel.node.parent.active=!0,this.progress.node.parent.active=!1):(this.node.getChildByName("head").color=cc.color().fromHEX("#000000"),this.realm.string=u.default.Instance.IsCanUnlock(1)?c.i18nMgr.getLabel("title144"):h.default.Instance.GetStory(2).unlockInfo,this.nameLabel.node.parent.active=!1,this.progress.node.parent.active=!1),[3,15];case 7:return this.realm.string=u.default.Instance.GetBasicRole(2).realm,this.realm.node.color=cc.color().fromHEX(l.default.Instance.GetRealmColor(y.default.getDisciple()[2].level)),this.Teamer=v.default.instance.TeamContent.children[4].getComponent(m.default),y.default.getDisciple()[2].unlock?(this.node.getChildByName("head").color=cc.color().fromHEX("#FFFFFF"),this.nameLabel.node.parent.active=!0,this.progress.node.parent.active=!1):(this.node.getChildByName("head").color=cc.color().fromHEX("#000000"),this.realm.string=u.default.Instance.IsCanUnlock(2)?c.i18nMgr.getLabel("title144"):h.default.Instance.GetStory(3).unlockInfo,this.nameLabel.node.parent.active=!1,this.progress.node.parent.active=!1),[3,15];case 8:return this.realm.string=u.default.Instance.GetBasicRole(3).realm,this.realm.node.color=cc.color().fromHEX(l.default.Instance.GetRealmColor(y.default.getDisciple()[3].level)),this.Teamer=v.default.instance.TeamContent.children[5].getComponent(m.default),y.default.getDisciple()[3].unlock?(this.node.getChildByName("head").color=cc.color().fromHEX("#FFFFFF"),this.nameLabel.node.parent.active=!0,this.progress.node.parent.active=!1):(this.node.getChildByName("head").color=cc.color().fromHEX("#000000"),this.realm.string=u.default.Instance.IsCanUnlock(3)?c.i18nMgr.getLabel("title144"):h.default.Instance.GetStory(4).unlockInfo,this.nameLabel.node.parent.active=!1,this.progress.node.parent.active=!1),[3,15];case 9:return y.default.getNowArtifacts()>0?(n="Artifacts_xiao/fabao0"+y.default.getNowArtifacts(),(a=g.default.GetRes("SpriteBundle1",n,cc.SpriteFrame))?[3,11]:[4,g.default.loadImage("SpriteBundle1",n)]):[3,12];case 10:a=o.sent(),o.label=11;case 11:return this.icon.spriteFrame=a,this.icon.node.active=!0,[3,13];case 12:this.icon.node.active=!1,o.label=13;case 13:case 14:return[3,15];case 15:return[2]}})})},e.prototype.start=function(){},e.prototype.update=function(){if("\u6cd5\u5668"!=this.identity&&this.Teamer&&this.Teamer.role)switch(this.Teamer.role.hp<=0?(this.node.getChildByName("head").color=cc.color().fromHEX("#898989"),this.node.getChildByName("die").active=!0):(this.node.getChildByName("head").color=cc.color().fromHEX("#FFFFFF"),this.node.getChildByName("die").active=!1),this.identity){case"\u4e3b\u89d2":case"\u7075\u5ba0":case"\u9053\u53cb1":case"\u9053\u53cb2":case"\u9053\u53cb3":case"\u9053\u53cb4":this.progress.fillRange=this.Teamer.role.hp/this.Teamer.role.maxhp}},r([S({displayName:"\u8eab\u4efd"})],e.prototype,"identity",void 0),r([S(cc.Sprite)],e.prototype,"progress",void 0),r([S(cc.Label)],e.prototype,"realm",void 0),r([S(cc.Label)],e.prototype,"nameLabel",void 0),r([S(cc.Sprite)],e.prototype,"icon",void 0),r([_],e)}(cc.Component);n.default=C,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/DiscipleDataManager":"DiscipleDataManager","../Manager/GuideDataManager":"GuideDataManager","../Manager/HeroDataManager":"HeroDataManager","../Manager/PetDataManager":"PetDataManager","../Manager/StoryDataManager":"StoryDataManager","../Tools/GameTools":"GameTools","../UI/FightPanel":"FightPanel","../i18n/i18nMgr":"i18nMgr","../record/GameSys":"GameSys","./Teamer":"Teamer"}],rewardItem:[function(t,e,n){"use strict";cc._RF.push(e,"4cffcddWAZMnoqTsHrbfjzD","rewardItem");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../i18n/i18nMgr"),l=t("../Manager/ArtifactsDataManager"),u=t("../Manager/CoinOutPutDataManager"),p=t("../Manager/PropDataManager"),d=t("../Tools/GameTools"),f=t("./TipGroup"),h=cc._decorator,y=h.ccclass,g=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startpos=new cc.Vec2(0,0),e.propdata=null,e.num=0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t,e,n){return void 0===n&&(n=!1),i(this,void 0,void 0,function(){var n,a,o,r,i,h,y,g=this;return s(this,function(s){switch(s.label){case 0:return this.propdata=t.prop,this.num=t.have,this.numLabel=this.node.getChildByName("num").getComponent(cc.Label),this.iconSprite=this.node.getChildByName("icon").getComponent(cc.Sprite),this.nameLabel=this.node.getChildByName("name").getComponent(cc.Label),this.propframe=this.node.getChildByName("frame").getComponent(cc.Sprite),this.nameLabel.string=""+this.propdata.name,n=0,1==this.propdata.type?(n=u.default.Instance.GetOutPut()*this.num,this.numLabel.string="\xd7"+d.default.refSetCoin(n)):2==this.propdata.type?(n=l.default.Instance.GetOutPut()*this.num,this.numLabel.string="\xd7"+d.default.refSetCoin(n)):(n=this.num,this.numLabel.string="\xd7"+d.default.refSetCoin(this.num)),this.nameLabel.node.color=cc.color().fromHEX(p.default.Instance.GetLevelColor(this.propdata.rank)),a="PropFrame/"+this.propdata.rank,(o=d.default.GetRes("Bundle",a,cc.SpriteFrame))?[3,2]:[4,d.default.loadImage("Bundle",a)];case 1:o=s.sent(),s.label=2;case 2:return this.propframe.spriteFrame=o,r="",i="",r="PropIcon/"+this.propdata.icon,i="Bundle",h=d.default.GetRes(i,r,cc.SpriteFrame),y=null,h?(y=h,[3,5]):[3,3];case 3:return[4,d.default.loadImage(i,r)];case 4:y=s.sent(),s.label=5;case 5:return this.iconSprite.spriteFrame=y,this.ShowAnimation(),setTimeout(function(){g.propdata&&f.default.instance.setText(-1,c.i18nMgr.getLabel("title222")+g.propdata.name+"\xd7"+d.default.refSetCoin(n))},300*e),[2]}})})},e.prototype.start=function(){},e.prototype.ShowAnimation=function(){var t=this;this.node.scale=0,this.node.stopAllActions(),0==this.startpos.x&&0==this.startpos.y||this.node.setPosition(this.startpos),cc.tween(this.node).call(function(){t.node.scale=0,t.node.opacity=0}).to(.3,{scale:1.5,opacity:255}).by(.3,{y:-100,scale:-.5},{easing:"backOut"}).start()},r([g({displayName:"\u539f\u59cb\u5750\u6807"})],e.prototype,"startpos",void 0),r([y],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../Manager/ArtifactsDataManager":"ArtifactsDataManager","../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PropDataManager":"PropDataManager","../Tools/GameTools":"GameTools","../i18n/i18nMgr":"i18nMgr","./TipGroup":"TipGroup"}],saveAppToDesktop:[function(t,e,n){"use strict";cc._RF.push(e,"bcd73nkcPhHnJm+vSQLRz/l","saveAppToDesktop");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/PropDataManager"),l=t("../Manager/SoundManager"),u=t("../record/GameSys"),p=t("../Tools/GameTools"),d=t("../UI/PanelConst"),f=t("../UI/RewardPanel"),h=t("../UI/TipGroup"),y=t("../UI/UIBase"),g=t("../UI/UIManager"),v=cc._decorator,m=v.ccclass,b=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinlable=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){return s(this,function(){return t.prototype.onEnable.call(this),this.coinlable.string="\xd7"+p.default.refSetCoin(150),[2]})})},e.prototype.start=function(){},e.prototype.ClickBtn=function(){var t=this;l.default.instance.play(l.Sound.Click),p.default.getSdk().saveAppToDesktop(function(){return i(t,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return u.default.getSaveToDesktip()?(h.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),[3,3]):[3,1];case 1:return t=[],e=c.default.Instance.GetCrystalProp(),t.push({prop:e,have:150}),[4,g.default.Instance.ShowUI(d.default.RewardPanel)];case 2:n.sent(),g.default.Instance.GetClass(d.default.RewardPanel).getComponent(f.default).initAsset(t,function(){}),u.default.setSaveToDesktip(),n.label=3;case 3:return[2]}})})},function(){h.default.instance.setText(-1,"\u6dfb\u52a0\u5931\u8d25")}),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},e.prototype.ClickOff=function(){l.default.instance.play(l.Sound.Click),this.CloseThis()},r([b(cc.Label)],e.prototype,"coinlable",void 0),r([m],e)}(y.default);n.default=_,cc._RF.pop()},{"../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../UI/PanelConst":"PanelConst","../UI/RewardPanel":"RewardPanel","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],subScribeMsg:[function(t,e,n){"use strict";cc._RF.push(e,"5df10QxpBdCj7T7hzdoV6cy","subScribeMsg");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i},i=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(o,r){function i(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}c((a=a.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Manager/CoinOutPutDataManager"),l=t("../Manager/PropDataManager"),u=t("../Manager/SoundManager"),p=t("../record/GameSys"),d=t("../Tools/GameTools"),f=t("../UI/PanelConst"),h=t("../UI/RewardPanel"),y=t("../UI/TipGroup"),g=t("../UI/UIBase"),v=t("../UI/UIManager"),m=cc._decorator,b=m.ccclass,_=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinlabel=null,e}return o(e,t),e.prototype.onEnable=function(){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return t.prototype.onEnable.call(this),[4,c.default.Instance.GetOutPut()];case 1:return e=2400*n.sent(),this.coinlabel.string="\xd7"+d.default.refSetCoin(e),[2]}})})},e.prototype.start=function(){},e.prototype.ClickBtn=function(){var t=this;u.default.instance.play(u.Sound.Click),d.default.getSdk().subscribeMsg(function(){return i(t,void 0,void 0,function(){var t,e,n,a,o;return s(this,function(r){switch(r.label){case 0:return p.default.getSubscribemsg()?(y.default.instance.setText(-1,"\u5956\u52b1\u5df2\u9886\u53d6"),this.CloseThis(),[3,3]):[3,1];case 1:return t=[],e=l.default.Instance.GetCoinProp(),t.push({prop:e,have:2400}),n=l.default.Instance.GetProp(23),t.push({prop:n,have:1}),a=l.default.Instance.GetProp(37),t.push({prop:a,have:1}),o=l.default.Instance.GetProp(119),t.push({prop:o,have:4}),[4,v.default.Instance.ShowUI(f.default.RewardPanel)];case 2:r.sent(),v.default.Instance.GetClass(f.default.RewardPanel).getComponent(h.default).initAsset(t,function(){}),p.default.setSubscribemsg(),this.CloseThis(),r.label=3;case 3:return[2]}})})},function(t){t?y.default.instance.setText(-1,"\u5df2\u7ecf\u8ba2\u9605"):y.default.instance.setText(-1,"\u8ba2\u9605\u5931\u8d25")})},e.prototype.ClickOff=function(){u.default.instance.play(u.Sound.Click),this.CloseThis()},e.prototype.CloseThis=function(){t.prototype.CloseThis.call(this)},r([_(cc.Label)],e.prototype,"coinlabel",void 0),r([b],e)}(g.default);n.default=S,cc._RF.pop()},{"../Manager/CoinOutPutDataManager":"CoinOutPutDataManager","../Manager/PropDataManager":"PropDataManager","../Manager/SoundManager":"SoundManager","../Tools/GameTools":"GameTools","../UI/PanelConst":"PanelConst","../UI/RewardPanel":"RewardPanel","../UI/TipGroup":"TipGroup","../UI/UIBase":"UIBase","../UI/UIManager":"UIManager","../record/GameSys":"GameSys"}],teacherSp:[function(t,e,n){"use strict";cc._RF.push(e,"89336bM+aNE45II5mfEUIyy","teacherSp");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.splash=null,e}return o(e,t),e.prototype.onLoad=function(){this.mask=this.node.getChildByName("mask"),this.splash=this.mask.getChildByName("splash")},e.prototype.onEnable=function(){this.mask.stopAllActions(),cc.tween(this.mask).to(0,{scale:3}).to(.2,{scale:1}).start()},r([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],ttShow:[function(t,e,n){"use strict";cc._RF.push(e,"a2aa4mHSjxJA5NrtjGqe6jb","ttShow");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){"TT"==i.default.channel||"OPPO"==i.default.channel?this.node.active=!0:this.node.active=!1},e.prototype.start=function(){},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../record/GameSys":"GameSys"}],vivoShow:[function(t,e,n){"use strict";cc._RF.push(e,"b41b9NdlD1MfJVJzH5IdP/C","vivoShow");var a,o=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,a){var o,r=arguments.length,i=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../record/GameSys"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){"TT"==i.default.channel||"OPPO"==i.default.channel?this.node.active=!1:this.node.active=!0},e.prototype.start=function(){},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../record/GameSys":"GameSys"}]},{},["AIMonsterAttack","AIMonsterDie","AIMonsterIdle","AIMonsterMove","AIMonsterSkill","AIMonsterVertigo","AIMonsterWait","AITeamerAttack","AITeamerDie","AITeamerIdle","AITeamerMove","AITeamerSkill","AITeamerVertigo","AiBase","AiState","BackSpine","ChapterSp","CoinIcon","CrystalBoxSp","FightUp","Gift","GiftTime","Mask","RedAni","SkillUi","TouchSp","breathe","channel","flicker","getCoinAni","guideSp","labelAni","teacherSp","ttShow","vivoShow","CustomArea","AchievnmentData","ArtifactsData","Caller","CallerTalk","ChapterData","CoinOutPutData","CrystalBox","CrystalBoxAward","CrystalBoxRank","CrystalRate","CustomTalkData","DrugData","EquipData","EveryDayData","Garden","GiftData","GuideData","HeartDevilData","Herb","Magic","MonsterData","OnlineData","PropData","RoamBox","RoamData","RoamUp","SceneData","SecretData","SignData","SkillData","StoryData","TalkData","TeamSkill","TeamerData","TrialsData","Artifacts","BackGroup","CurrencyGroup","DiscipleGroup","ExpeditionGroup","GameEntry","GameFightSkill","Monster","PoolGroup","PracticeGroup","ShopGroup","SkillConst","Teamer","bullet","player","achievementItem","callerItem","expeditionItem","gardenItem","magicItem","LoadGroup","LoadItem","LoadManager","AchievementDataManager","ArtifactsDataManager","CallerDataManager","CallerTalkDataManager","ChapterDataManager","CoinOutPutDataManager","CrystalBoxAwardManager","CrystalBoxManager","CustomTalkDataManager","DiscipleDataManager","DrugDataManager","EquipDataManager","EveryDayManager","GardenDataManager","GiftDataManager","GuideDataManager","HeartDevilDataManager","HerbDataManager","HeroDataManager","MagicDataManager","MonsterDataManager","OnlineDataManager","PetDataManager","PropDataManager","RoamDataManager","SceneDataManager","SecretDataManager","SignDataManager","SingleBase","Singleton","SkillDataManager","SoundManager","StoryDataManager","TalkDataManager","TeamSkillDataManager","TrialsDataManager","AiHang","AiIdle","AiMoveBase","PathArea_45Angle","PathFind","MapCameraControl","DiscipleControl","GameBgTouch","ZorderControl","UIEventListener","Bane","CureMatrix","Debuff","Eddy","Fireball","Flame","Flamepalm","Hothalo","Knife","Moon","NewScript","PersistCure","Skill1","Star","Thunder","Wind","Yehuo","Android","EventConst","GameManager","GameMessage","GameTools","GuideManager","HttpClient","MD5","NativeAdBanner","PoolManager","ServerUtil","AchievementPanel","ActivePanel","AlchemyBox","AlchemyPanel","ArtifactsItem","ArtifactsPanel","CallerPanel","CartoonPanel","ChallengeLose","CrystalGiftPanel","DetailsStory","DevilPanel","DisasterPanel","DoublePanel","EveryDayItem","EveryDayTask","FightPanel","Foreword","ForewordPanel","FreeBox","FreeCoin","FreeJewel","GardenMessagePanel","GardenPanel","GiveUpPanel","GuidePanel","HerbGiftPanel","LevelUpPanel","LoadPanel","LoadingPanel","MagicGiftPanel","MagicPanel","MagicUpGiftPanel","MagicUpPanel","MapsPanel","NewresultItem","NewresultPanel","NoviceGiftPanel","OffLinePanel","OnlinePanel","Onlineitem","OpenBoxPanel","OptionsPanel","OutputCoin","PackItem","PackPanel","PanelConst","PetPanel","PropMessage","QuickFight","RealmPanel","RecordPanel","RefBox","ReincarnPanel","ReincarnSp","RewardPanel","Roam","RoamChallenge","RoamLandmark","RoamNewLine","RoamPanel","RoamPos","RoamReward","SectGroup","SectTxt","ShareRecorder","SignPanel","SkipUp","Soaring","SpeedUp","StartGame","StoryPanel","TalkOptionPanel","TalkPanel","TaskPanel","TimeManager","TipGroup","Tiptxt","TrialsItem","TrialsPanel","UIBase","UIClass","UIManager","UnlockDisciple","UnlockNewArtifacts","UnlockPet","UnlockSys","UserDrugPanel","elixir","equipitem","fightTxt","rewardItem","PrivacyCell","PrivacyList","PrivacyGroup","PrivacyNode","adapters","Utils","DefaultStateMachine","State","StateMachine","Bob","BobState","i18nLabel","i18nMgr","i18nSpine","i18nSprite","AndroidManager","AndroidNativeAd","HuaWeiManager","IOSManager","MzManager","OppoManager","OppoNativeAd","PlatformConst","PlatformHelper","QQManager","SdkManager","TTManager","VivoManager","VivoNativeAd","WxManager","WxNativeAd","WyManager","addColorSign","addMy","addToFavorites","saveAppToDesktop","subScribeMsg","CloudRecorder","GameSys","LocalRecorder","Recorder"]);